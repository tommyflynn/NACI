<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
  <meta charset="utf-8">
  <meta name="generator" content="quarto-0.9.93">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <meta name="author" content="Tommy Flynn">
  <title>Data Log</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>

  <script src="NACI_DataLog_files/libs/clipboard/clipboard.min.js"></script>
  <script src="NACI_DataLog_files/libs/quarto-html/quarto.js"></script>
  <script src="NACI_DataLog_files/libs/quarto-html/popper.min.js"></script>
  <script src="NACI_DataLog_files/libs/quarto-html/tippy.umd.min.js"></script>
  <script src="NACI_DataLog_files/libs/quarto-html/anchor.min.js"></script>
  <link href="NACI_DataLog_files/libs/quarto-html/tippy.css" rel="stylesheet">
  <link href="NACI_DataLog_files/libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet">
  <script src="NACI_DataLog_files/libs/bootstrap/bootstrap.min.js"></script>
  <link href="NACI_DataLog_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
  <link href="NACI_DataLog_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet">
  <script async="" src="https://hypothes.is/embed.js"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc">
<h2 id="toc-title">Table of contents</h2>
<ul>
<li><a href="#setup" class="nav-link active" data-scroll-target="#setup"> <span class="header-section-number">1</span> Setup</a></li>
<li><a href="#import" class="nav-link" data-scroll-target="#import"> <span class="header-section-number">2</span> Import</a></li>
<li><a href="#wrangle" class="nav-link" data-scroll-target="#wrangle"> <span class="header-section-number">3</span> Wrangle</a>
<ul class="collapse">
<li><a href="#patient-data" class="nav-link" data-scroll-target="#patient-data"> <span class="header-section-number">3.1</span> Patient Data</a>
<ul class="collapse">
<li><a href="#patient-idssids-id_sid" class="nav-link" data-scroll-target="#patient-idssids-id_sid"> <span class="header-section-number">3.1.1</span> Patient IDs/SIDs: <code>id_sid</code></a></li>
<li><a href="#patient-acuity-pt_acuity" class="nav-link" data-scroll-target="#patient-acuity-pt_acuity"> <span class="header-section-number">3.1.2</span> Patient Acuity: <code>pt_acuity</code></a></li>
<li><a href="#patient-location-pt_complete" class="nav-link" data-scroll-target="#patient-location-pt_complete"> <span class="header-section-number">3.1.3</span> Patient Location: <code>pt_complete</code></a></li>
</ul></li>
<li><a href="#staff-data" class="nav-link" data-scroll-target="#staff-data"> <span class="header-section-number">3.2</span> Staff Data</a>
<ul class="collapse">
<li><a href="#staff-location-staff_complete" class="nav-link" data-scroll-target="#staff-location-staff_complete"> <span class="header-section-number">3.2.1</span> Staff location: <code>staff_complete</code></a></li>
</ul></li>
</ul></li>
<li><a href="#sessioninfo" class="nav-link" data-scroll-target="#sessioninfo"> <span class="header-section-number">4</span> SessionInfo</a></li>
</ul>
</nav>
</div>
<main class="content" id="quarto-document-content">
<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title-block"><div><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>

<div class="quarto-title"><h1 class="title">Data Log</h1></div><div class="quarto-title-meta"><div><div class="quarto-title-meta-heading">Author</div><div class="quarto-title-meta-contents"><div class="quarto-title-authors"><p>Tommy Flynn</p></div></div></div></div></header>

<section id="setup" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Setup</h1>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># set options</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">root.dir =</span> <span class="st">"~/Documents/1_Research/2_Data_Science/0_Projects/1_NACI/Data"</span>,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>                      <span class="at">echo =</span> <span class="cn">TRUE</span>,</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>                      <span class="at">error =</span> <span class="cn">TRUE</span>,</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>                      <span class="at">tidy =</span> <span class="cn">TRUE</span>,</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>                      <span class="at">tidy.opts =</span> <span class="fu">list</span>(<span class="at">width.cutoff =</span> <span class="dv">60</span>),</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>                      <span class="at">message =</span> <span class="cn">FALSE</span>,</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>                      <span class="at">warning =</span> <span class="cn">FALSE</span>,</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>                      <span class="at">cache =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co"># options(na.action = na.warn)??</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="NACI_DataLog_cache/html/Packages_95727c479b98b7bd8feffe584c0db000">
<div class="sourceCode" id="cb2"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Chunk options:---- | message: false | warning: false</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Packages for reading data from files: ----</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(haven)  <span class="co"># for SAS and SPSS data files (e.g., '.sas7bdat')</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)  <span class="co"># for Microsoft Excel spreadsheets</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(labelled)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Packages for data wrangling &amp; cleaning: ----</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)  <span class="co"># set of packages for data import, cleaning, transformation, and analysis from the 'Tidyverse'  </span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)  <span class="co"># working with date-times</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(anytime)  <span class="co"># data-times</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(hms)  <span class="co"># times</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(forcats)  <span class="co"># package for making and working with factors</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(details)</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Packages for formatting output with</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a><span class="co"># rmarkdown/latex/quarto/knitr/etc. ----</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(htmltools)</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)  <span class="co"># create and format latex tables</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pander)  <span class="co"># ????</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(printr)  <span class="co"># Print R objects in 'knitr' documents nicely see the [(vignette)](https://cran.r-project.org/web/packages/printr/vignettes/printr.html#vignettedataset-lists)  </span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Packages for Analyzing Data ---- Time series analyses</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tseries)</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(xts)</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Network analyses</span></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Statistics &amp; Models</span></span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(modelr)  <span class="co"># package for statistical modeling in r</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="import" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Import</h1>
<p>Create an object that points to the directory (i.e., “~/project_folder/Data”) that contains data. Use that object to print a list of all the data files from the parent study.</p>
<div class="cell" data-hash="NACI_DataLog_cache/html/Data_Directory_41a82b6b5ff5ba85cee46156f295970c">
<div class="sourceCode" id="cb3"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>data_path <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="fu">getwd</span>(), <span class="st">"Data"</span>, <span class="at">sep =</span> <span class="st">"/"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="NACI_DataLog_cache/html/All_Files_526f2af7cf505166cc689314e2f7e9be">
<div class="sourceCode" id="cb4"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1.  This code creates two lists for each file type</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co"># storing data (i.e., .sas7bdat, .xls/.xlsx, and .txt),</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co"># each list containing; 1) the complete pathnames for all</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co"># files, and 2) the file names (i.e., without complete path</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co"># names) for all data files</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>all_data_fullpaths <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> data_path, <span class="at">pattern =</span> <span class="st">".sas7bdat|.xls|.csv|.txt"</span>,</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>all_data_filenames <span class="ot">&lt;-</span> <span class="fu">lst</span>(<span class="fu">list.files</span>(<span class="at">path =</span> data_path, <span class="at">pattern =</span> <span class="st">".sas7bdat|.xls|.csv|.txt"</span>,</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">full.names =</span> <span class="cn">FALSE</span>))</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Now, this prints the names of all the data files by</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="co"># mapping over the list of file names (i.e., not file path</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="co"># names)</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="fu">map</span>(all_data_filenames, paste, <span class="at">sep =</span> <span class="st">"/n"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>$`list.files(...)`
  [1] "1012.txt"                                                          
  [2] "1014.txt"                                                          
  [3] "1018.txt"                                                          
  [4] "102.txt"                                                           
  [5] "1020.txt"                                                          
  [6] "1028.txt"                                                          
  [7] "1030.txt"                                                          
  [8] "107.txt"                                                           
  [9] "109.txt"                                                           
 [10] "1117.txt"                                                          
 [11] "1123.txt"                                                          
 [12] "1130.txt"                                                          
 [13] "119.txt"                                                           
 [14] "121.txt"                                                           
 [15] "1210.txt"                                                          
 [16] "1216.txt"                                                          
 [17] "1218.txt"                                                          
 [18] "1221.txt"                                                          
 [19] "1223.txt"                                                          
 [20] "1227.txt"                                                          
 [21] "123.txt"                                                           
 [22] "125.txt"                                                           
 [23] "130.txt"                                                           
 [24] "210.txt"                                                           
 [25] "216.txt"                                                           
 [26] "219.txt"                                                           
 [27] "22.txt"                                                            
 [28] "223.txt"                                                           
 [29] "226.txt"                                                           
 [30] "27.txt"                                                            
 [31] "312.txt"                                                           
 [32] "317.txt"                                                           
 [33] "323.txt"                                                           
 [34] "327.txt"                                                           
 [35] "329.txt"                                                           
 [36] "331.txt"                                                           
 [37] "35.txt"                                                            
 [38] "38.txt"                                                            
 [39] "410.txt"                                                           
 [40] "412.txt"                                                           
 [41] "417.txt"                                                           
 [42] "420.txt"                                                           
 [43] "423.txt"                                                           
 [44] "427.txt"                                                           
 [45] "429.txt"                                                           
 [46] "45.txt"                                                            
 [47] "510.txt"                                                           
 [48] "512.txt"                                                           
 [49] "517.txt"                                                           
 [50] "52.txt"                                                            
 [51] "521.txt"                                                           
 [52] "524.txt"                                                           
 [53] "529.txt"                                                           
 [54] "58.txt"                                                            
 [55] "61.txt"                                                            
 [56] "614.txt"                                                           
 [57] "619.txt"                                                           
 [58] "626.txt"                                                           
 [59] "628.txt"                                                           
 [60] "64.txt"                                                            
 [61] "68.txt"                                                            
 [62] "716.txt"                                                           
 [63] "718.txt"                                                           
 [64] "725.txt"                                                           
 [65] "727.txt"                                                           
 [66] "731.txt"                                                           
 [67] "79.txt"                                                            
 [68] "815.txt"                                                           
 [69] "82.txt"                                                            
 [70] "820.txt"                                                           
 [71] "824.txt"                                                           
 [72] "830.txt"                                                           
 [73] "913.txt"                                                           
 [74] "92.txt"                                                            
 [75] "924.txt"                                                           
 [76] "927.txt"                                                           
 [77] "99.txt"                                                            
 [78] "ACUITY-patients_pop.xlsx"                                          
 [79] "ACUITY-patients.xlsx"                                              
 [80] "allshifts_edges.sas7bdat"                                          
 [81] "allstaff_numbyshift.sas7bdat"                                      
 [82] "censusmax_perperson.sas7bdat"                                      
 [83] "centrality_measures.sas7bdat"                                      
 [84] "chief_complaints_popn.sas7bdat"                                    
 [85] "clusterboot_patient.sas7bdat"                                      
 [86] "clusterboot_staff.sas7bdat"                                        
 [87] "clusterboot.sas7bdat"                                              
 [88] "combined35a_halfyr4.sas7bdat"                                      
 [89] "completepat.sas7bdat"                                              
 [90] "completepat2.sas7bdat"                                             
 [91] "completestaff.sas7bdat"                                            
 [92] "completestaff2.sas7bdat"                                           
 [93] "count_rooms_used.sas7bdat"                                         
 [94] "count_rooms_used2.sas7bdat"                                        
 [95] "countspershift.sas7bdat"                                           
 [96] "date_shiftnum.sas7bdat"                                            
 [97] "degree_by_edgetype.sas7bdat"                                       
 [98] "degree_pp_resid.sas7bdat"                                          
 [99] "degree_ps_resid.sas7bdat"                                          
[100] "degree_pscat_resid.sas7bdat"                                       
[101] "degreepscat_resids.sas7bdat"                                       
[102] "edges_all_allshifts.sas7bdat"                                      
[103] "edges_shift19.sas7bdat"                                            
[104] "edges2.sas7bdat"                                                   
[105] "eventfile_long2.sas7bdat"                                          
[106] "eventfile_long6944_noduploc.sas7bdat"                              
[107] "events_notunique_persid.sas7bdat"                                  
[108] "events_uniquepersid.sas7bdat"                                      
[109] "events_uniquepersid2.sas7bdat"                                     
[110] "excessiveroomchanges.sas7bdat"                                     
[111] "finalsids6944.sas7bdat"                                            
[112] "flynn_eventfile.sas7bdat"                                          
[113] "id_sid_matchup.sas7bdat"                                           
[114] "id_sid_matchup2.sas7bdat"                                          
[115] "Location IDs and Areas.xlsx"                                       
[116] "location_categories_list.sas7bdat"                                 
[117] "location_definitions.sas7bdat"                                     
[118] "locationslist.sas7bdat"                                            
[119] "lone_all_allshifts.sas7bdat"                                       
[120] "network_allshifts.sas7bdat"                                        
[121] "network_allshifts.xlsx"                                            
[122] "network_wts_bycombo.sas7bdat"                                      
[123] "network_wts_overall_nolone.sas7bdat"                               
[124] "network_wts_overall.sas7bdat"                                      
[125] "networkall_freqbyd8.sas7bdat"                                      
[126] "networkall_summary.sas7bdat"                                       
[127] "nodelevel_all_19_halfyr_patients.sas7bdat"                         
[128] "nodelevel_all_19_halfyr_staff.sas7bdat"                            
[129] "nodelevel_all_19_halfyr.sas7bdat"                                  
[130] "nodup.sas7bdat"                                                    
[131] "nTab.csv"                                                          
[132] "nTab2.csv"                                                         
[133] "participationrates.sas7bdat"                                       
[134] "patients_in_completepat.sas7bdat"                                  
[135] "patients_notapproached.sas7bdat"                                   
[136] "patients_participating.sas7bdat"                                   
[137] "Patients_population.sas7bdat"                                      
[138] "patients_population2.sas7bdat"                                     
[139] "patients_populationwithsyndrome.sas7bdat"                          
[140] "person_dataset.sas7bdat"                                           
[141] "popn_patients_our_shifts7.sas7bdat"                                
[142] "popn_pts_our_shifts_freqbyd8.sas7bdat"                             
[143] "population_35shifts.sas7bdat"                                      
[144] "population_first35shifts.sas7bdat"                                 
[145] "Population_Patient_Demographics.csv"                               
[146] "room categories.xlsx"                                              
[147] "room categories2 20131204 area.xlsx"                               
[148] "room categories2 20131204.xlsx"                                    
[149] "room categories2.xlsx"                                             
[150] "Room Locations and Square Footage - with Correction June1 2011.xls"
[151] "Room Locations and Square Footage - with Correction.xlsx"          
[152] "Shift Start End times v3.xls"                                      
[153] "shifts-TF-032522.txt"                                              
[154] "shifts1.txt"                                                       
[155] "staff_in_edgefile2012june.sas7bdat"                                
[156] "staffsids_in_eventfile.sas7bdat"                                   
[157] "tommy_edges_2009.sas7bdat"                                         
[158] "tommy_edges_shift10_19.sas7bdat"                                   
[159] "tommy_nodes_2009.sas7bdat"                                         
[160] "tommy_nodes_shift10_19.sas7bdat"                                   
[161] "tommyflynn_patient_info_2009.sas7bdat"                             
[162] "tommyflynn_patient_info.sas7bdat"                                  
[163] "wdegree_bytype.sas7bdat"                                           </code></pre>
</div>
</div>
<div class="cell" data-hash="NACI_DataLog_cache/html/SAS_Files_1d33a165aa092fd35c8b4d39c1dc4201">
<div class="sourceCode" id="cb6"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create list of all .sas7bdat (SAS) file paths and files</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="co"># names</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>sas_data_fullpaths <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> data_path, <span class="at">pattern =</span> <span class="st">"*.sas7bdat"</span>,</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>sas_data_filenames <span class="ot">&lt;-</span> <span class="fu">lst</span>(<span class="fu">list.files</span>(<span class="at">path =</span> data_path, <span class="at">pattern =</span> <span class="st">"*.sas7bdat"</span>,</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">full.names =</span> <span class="cn">FALSE</span>))</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the names of all .sas7bdat (SAS) files</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>sas_data_filenames</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>$`list.files(path = data_path, pattern = "*.sas7bdat", full.names = FALSE)`
 [1] "allshifts_edges.sas7bdat"                 
 [2] "allstaff_numbyshift.sas7bdat"             
 [3] "censusmax_perperson.sas7bdat"             
 [4] "centrality_measures.sas7bdat"             
 [5] "chief_complaints_popn.sas7bdat"           
 [6] "clusterboot_patient.sas7bdat"             
 [7] "clusterboot_staff.sas7bdat"               
 [8] "clusterboot.sas7bdat"                     
 [9] "combined35a_halfyr4.sas7bdat"             
[10] "completepat.sas7bdat"                     
[11] "completepat2.sas7bdat"                    
[12] "completestaff.sas7bdat"                   
[13] "completestaff2.sas7bdat"                  
[14] "count_rooms_used.sas7bdat"                
[15] "count_rooms_used2.sas7bdat"               
[16] "countspershift.sas7bdat"                  
[17] "date_shiftnum.sas7bdat"                   
[18] "degree_by_edgetype.sas7bdat"              
[19] "degree_pp_resid.sas7bdat"                 
[20] "degree_ps_resid.sas7bdat"                 
[21] "degree_pscat_resid.sas7bdat"              
[22] "degreepscat_resids.sas7bdat"              
[23] "edges_all_allshifts.sas7bdat"             
[24] "edges_shift19.sas7bdat"                   
[25] "edges2.sas7bdat"                          
[26] "eventfile_long2.sas7bdat"                 
[27] "eventfile_long6944_noduploc.sas7bdat"     
[28] "events_notunique_persid.sas7bdat"         
[29] "events_uniquepersid.sas7bdat"             
[30] "events_uniquepersid2.sas7bdat"            
[31] "excessiveroomchanges.sas7bdat"            
[32] "finalsids6944.sas7bdat"                   
[33] "flynn_eventfile.sas7bdat"                 
[34] "id_sid_matchup.sas7bdat"                  
[35] "id_sid_matchup2.sas7bdat"                 
[36] "location_categories_list.sas7bdat"        
[37] "location_definitions.sas7bdat"            
[38] "locationslist.sas7bdat"                   
[39] "lone_all_allshifts.sas7bdat"              
[40] "network_allshifts.sas7bdat"               
[41] "network_wts_bycombo.sas7bdat"             
[42] "network_wts_overall_nolone.sas7bdat"      
[43] "network_wts_overall.sas7bdat"             
[44] "networkall_freqbyd8.sas7bdat"             
[45] "networkall_summary.sas7bdat"              
[46] "nodelevel_all_19_halfyr_patients.sas7bdat"
[47] "nodelevel_all_19_halfyr_staff.sas7bdat"   
[48] "nodelevel_all_19_halfyr.sas7bdat"         
[49] "nodup.sas7bdat"                           
[50] "participationrates.sas7bdat"              
[51] "patients_in_completepat.sas7bdat"         
[52] "patients_notapproached.sas7bdat"          
[53] "patients_participating.sas7bdat"          
[54] "Patients_population.sas7bdat"             
[55] "patients_population2.sas7bdat"            
[56] "patients_populationwithsyndrome.sas7bdat" 
[57] "person_dataset.sas7bdat"                  
[58] "popn_patients_our_shifts7.sas7bdat"       
[59] "popn_pts_our_shifts_freqbyd8.sas7bdat"    
[60] "population_35shifts.sas7bdat"             
[61] "population_first35shifts.sas7bdat"        
[62] "staff_in_edgefile2012june.sas7bdat"       
[63] "staffsids_in_eventfile.sas7bdat"          
[64] "tommy_edges_2009.sas7bdat"                
[65] "tommy_edges_shift10_19.sas7bdat"          
[66] "tommy_nodes_2009.sas7bdat"                
[67] "tommy_nodes_shift10_19.sas7bdat"          
[68] "tommyflynn_patient_info_2009.sas7bdat"    
[69] "tommyflynn_patient_info.sas7bdat"         
[70] "wdegree_bytype.sas7bdat"                  </code></pre>
</div>
</div>
<p>After removing duplicate data files and files containing data from other studies, there were 1 “.sas7bdat” (SAS data) files. The combined size of these files was NA gigabytes.</p>
<div class="cell" data-hash="NACI_DataLog_cache/html/Excel_Files_59b5301dd3540f7343e7e2bfc7cb621e">
<div class="sourceCode" id="cb8"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create list of all .xlsx and .xls (Excel) file paths and</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co"># files names</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>xlsx_data_fullpaths <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> data_path, <span class="at">pattern =</span> <span class="st">"*.xls"</span>,</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>xlsx_data_filenames <span class="ot">&lt;-</span> <span class="fu">lst</span>(<span class="fu">list.files</span>(<span class="at">path =</span> data_path, <span class="at">pattern =</span> <span class="st">"*.xls"</span>,</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">full.names =</span> <span class="cn">FALSE</span>))</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Print list of all .xlsx (Excel) files</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>xlsx_data_filenames</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>$`list.files(path = data_path, pattern = "*.xls", full.names = FALSE)`
 [1] "ACUITY-patients_pop.xlsx"                                          
 [2] "ACUITY-patients.xlsx"                                              
 [3] "Location IDs and Areas.xlsx"                                       
 [4] "network_allshifts.xlsx"                                            
 [5] "room categories.xlsx"                                              
 [6] "room categories2 20131204 area.xlsx"                               
 [7] "room categories2 20131204.xlsx"                                    
 [8] "room categories2.xlsx"                                             
 [9] "Room Locations and Square Footage - with Correction June1 2011.xls"
[10] "Room Locations and Square Footage - with Correction.xlsx"          
[11] "Shift Start End times v3.xls"                                      </code></pre>
</div>
</div>
<div class="cell" data-hash="NACI_DataLog_cache/html/TXT_files_37f4b1d8d8e215c3ea122f1b8c95beda">
<div class="sourceCode" id="cb10"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create list of all .txt file paths and files names</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>txt_data_fullpaths <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> data_path, <span class="at">pattern =</span> <span class="st">"*.txt"</span>,</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>txt_data_filenames <span class="ot">&lt;-</span> <span class="fu">lst</span>(<span class="fu">list.files</span>(<span class="at">path =</span> data_path, <span class="at">pattern =</span> <span class="st">"*.txt"</span>,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">full.names =</span> <span class="cn">FALSE</span>))</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Print list of all .txt filenames</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>txt_data_filenames</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>$`list.files(path = data_path, pattern = "*.txt", full.names = FALSE)`
 [1] "1012.txt"             "1014.txt"             "1018.txt"            
 [4] "102.txt"              "1020.txt"             "1028.txt"            
 [7] "1030.txt"             "107.txt"              "109.txt"             
[10] "1117.txt"             "1123.txt"             "1130.txt"            
[13] "119.txt"              "121.txt"              "1210.txt"            
[16] "1216.txt"             "1218.txt"             "1221.txt"            
[19] "1223.txt"             "1227.txt"             "123.txt"             
[22] "125.txt"              "130.txt"              "210.txt"             
[25] "216.txt"              "219.txt"              "22.txt"              
[28] "223.txt"              "226.txt"              "27.txt"              
[31] "312.txt"              "317.txt"              "323.txt"             
[34] "327.txt"              "329.txt"              "331.txt"             
[37] "35.txt"               "38.txt"               "410.txt"             
[40] "412.txt"              "417.txt"              "420.txt"             
[43] "423.txt"              "427.txt"              "429.txt"             
[46] "45.txt"               "510.txt"              "512.txt"             
[49] "517.txt"              "52.txt"               "521.txt"             
[52] "524.txt"              "529.txt"              "58.txt"              
[55] "61.txt"               "614.txt"              "619.txt"             
[58] "626.txt"              "628.txt"              "64.txt"              
[61] "68.txt"               "716.txt"              "718.txt"             
[64] "725.txt"              "727.txt"              "731.txt"             
[67] "79.txt"               "815.txt"              "82.txt"              
[70] "820.txt"              "824.txt"              "830.txt"             
[73] "913.txt"              "92.txt"               "924.txt"             
[76] "927.txt"              "99.txt"               "shifts-TF-032522.txt"
[79] "shifts1.txt"         </code></pre>
</div>
<div class="sourceCode" id="cb12"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>txt_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(txt_data_filenames)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>txt_df <span class="ot">&lt;-</span> txt_df <span class="sc">%&gt;%</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">shifts =</span> <span class="fu">as.integer</span>(<span class="fu">str_match</span>(list.files.path...data_path..pattern......txt...full.names...FALSE.,</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">"[:digit:]{2,}"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(shifts)</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="fu">read_table</span>(<span class="st">"Data/shifts1.txt"</span>, <span class="at">col_names =</span> <span class="fu">c</span>(<span class="st">"month"</span>, <span class="st">"day"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table>
<thead>
<tr>
<th style="text-align:left;">
month
</th>
<th style="text-align:left;">
day
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
m7
</td>
<td style="text-align:left;">
d9
</td>
</tr>
<tr>
<td style="text-align:left;">
m7
</td>
<td style="text-align:left;">
d16
</td>
</tr>
<tr>
<td style="text-align:left;">
m7
</td>
<td style="text-align:left;">
d18
</td>
</tr>
<tr>
<td style="text-align:left;">
m7
</td>
<td style="text-align:left;">
d25
</td>
</tr>
<tr>
<td style="text-align:left;">
m7
</td>
<td style="text-align:left;">
d27
</td>
</tr>
<tr>
<td style="text-align:left;">
m7
</td>
<td style="text-align:left;">
d31
</td>
</tr>
<tr>
<td style="text-align:left;">
m8
</td>
<td style="text-align:left;">
d2
</td>
</tr>
<tr>
<td style="text-align:left;">
m8
</td>
<td style="text-align:left;">
d15
</td>
</tr>
<tr>
<td style="text-align:left;">
m8
</td>
<td style="text-align:left;">
d20
</td>
</tr>
<tr>
<td style="text-align:left;">
m8
</td>
<td style="text-align:left;">
d24
</td>
</tr>
<tr>
<td style="text-align:left;">
m8
</td>
<td style="text-align:left;">
d30
</td>
</tr>
<tr>
<td style="text-align:left;">
m9
</td>
<td style="text-align:left;">
d2
</td>
</tr>
<tr>
<td style="text-align:left;">
m9
</td>
<td style="text-align:left;">
d9
</td>
</tr>
<tr>
<td style="text-align:left;">
m9
</td>
<td style="text-align:left;">
d13
</td>
</tr>
<tr>
<td style="text-align:left;">
m9
</td>
<td style="text-align:left;">
d24
</td>
</tr>
<tr>
<td style="text-align:left;">
m9
</td>
<td style="text-align:left;">
d27
</td>
</tr>
<tr>
<td style="text-align:left;">
m10
</td>
<td style="text-align:left;">
d2
</td>
</tr>
<tr>
<td style="text-align:left;">
m10
</td>
<td style="text-align:left;">
d7
</td>
</tr>
<tr>
<td style="text-align:left;">
m10
</td>
<td style="text-align:left;">
d9
</td>
</tr>
<tr>
<td style="text-align:left;">
m10
</td>
<td style="text-align:left;">
d12
</td>
</tr>
<tr>
<td style="text-align:left;">
m10
</td>
<td style="text-align:left;">
d14
</td>
</tr>
<tr>
<td style="text-align:left;">
m10
</td>
<td style="text-align:left;">
d18
</td>
</tr>
<tr>
<td style="text-align:left;">
m10
</td>
<td style="text-align:left;">
d20
</td>
</tr>
<tr>
<td style="text-align:left;">
m10
</td>
<td style="text-align:left;">
d28
</td>
</tr>
<tr>
<td style="text-align:left;">
m10
</td>
<td style="text-align:left;">
d30
</td>
</tr>
<tr>
<td style="text-align:left;">
m11
</td>
<td style="text-align:left;">
d17
</td>
</tr>
<tr>
<td style="text-align:left;">
m11
</td>
<td style="text-align:left;">
d23
</td>
</tr>
<tr>
<td style="text-align:left;">
m11
</td>
<td style="text-align:left;">
d30
</td>
</tr>
<tr>
<td style="text-align:left;">
m12
</td>
<td style="text-align:left;">
d3
</td>
</tr>
<tr>
<td style="text-align:left;">
m12
</td>
<td style="text-align:left;">
d10
</td>
</tr>
<tr>
<td style="text-align:left;">
m12
</td>
<td style="text-align:left;">
d16
</td>
</tr>
<tr>
<td style="text-align:left;">
m12
</td>
<td style="text-align:left;">
d18
</td>
</tr>
<tr>
<td style="text-align:left;">
m12
</td>
<td style="text-align:left;">
d21
</td>
</tr>
<tr>
<td style="text-align:left;">
m12
</td>
<td style="text-align:left;">
d23
</td>
</tr>
<tr>
<td style="text-align:left;">
m12
</td>
<td style="text-align:left;">
d27
</td>
</tr>
<tr>
<td style="text-align:left;">
m1
</td>
<td style="text-align:left;">
d3
</td>
</tr>
<tr>
<td style="text-align:left;">
m1
</td>
<td style="text-align:left;">
d5
</td>
</tr>
<tr>
<td style="text-align:left;">
m1
</td>
<td style="text-align:left;">
d13
</td>
</tr>
<tr>
<td style="text-align:left;">
m1
</td>
<td style="text-align:left;">
d15
</td>
</tr>
<tr>
<td style="text-align:left;">
m1
</td>
<td style="text-align:left;">
d19
</td>
</tr>
<tr>
<td style="text-align:left;">
m1
</td>
<td style="text-align:left;">
d21
</td>
</tr>
<tr>
<td style="text-align:left;">
m1
</td>
<td style="text-align:left;">
d25
</td>
</tr>
<tr>
<td style="text-align:left;">
m1
</td>
<td style="text-align:left;">
d30
</td>
</tr>
<tr>
<td style="text-align:left;">
m2
</td>
<td style="text-align:left;">
d2
</td>
</tr>
<tr>
<td style="text-align:left;">
m2
</td>
<td style="text-align:left;">
d7
</td>
</tr>
<tr>
<td style="text-align:left;">
m2
</td>
<td style="text-align:left;">
d10
</td>
</tr>
<tr>
<td style="text-align:left;">
m2
</td>
<td style="text-align:left;">
d16
</td>
</tr>
<tr>
<td style="text-align:left;">
m2
</td>
<td style="text-align:left;">
d19
</td>
</tr>
<tr>
<td style="text-align:left;">
m2
</td>
<td style="text-align:left;">
d23
</td>
</tr>
<tr>
<td style="text-align:left;">
m2
</td>
<td style="text-align:left;">
d26
</td>
</tr>
<tr>
<td style="text-align:left;">
m3
</td>
<td style="text-align:left;">
d5
</td>
</tr>
<tr>
<td style="text-align:left;">
m3
</td>
<td style="text-align:left;">
d8
</td>
</tr>
<tr>
<td style="text-align:left;">
m3
</td>
<td style="text-align:left;">
d12
</td>
</tr>
<tr>
<td style="text-align:left;">
m3
</td>
<td style="text-align:left;">
d17
</td>
</tr>
<tr>
<td style="text-align:left;">
m3
</td>
<td style="text-align:left;">
d23
</td>
</tr>
<tr>
<td style="text-align:left;">
m3
</td>
<td style="text-align:left;">
d27
</td>
</tr>
<tr>
<td style="text-align:left;">
m3
</td>
<td style="text-align:left;">
d29
</td>
</tr>
<tr>
<td style="text-align:left;">
m3
</td>
<td style="text-align:left;">
d31
</td>
</tr>
<tr>
<td style="text-align:left;">
m4
</td>
<td style="text-align:left;">
d5
</td>
</tr>
<tr>
<td style="text-align:left;">
m4
</td>
<td style="text-align:left;">
d10
</td>
</tr>
<tr>
<td style="text-align:left;">
m4
</td>
<td style="text-align:left;">
d12
</td>
</tr>
<tr>
<td style="text-align:left;">
m4
</td>
<td style="text-align:left;">
d17
</td>
</tr>
<tr>
<td style="text-align:left;">
m4
</td>
<td style="text-align:left;">
d20
</td>
</tr>
<tr>
<td style="text-align:left;">
m4
</td>
<td style="text-align:left;">
d23
</td>
</tr>
<tr>
<td style="text-align:left;">
m4
</td>
<td style="text-align:left;">
d27
</td>
</tr>
<tr>
<td style="text-align:left;">
m4
</td>
<td style="text-align:left;">
d29
</td>
</tr>
<tr>
<td style="text-align:left;">
m5
</td>
<td style="text-align:left;">
d2
</td>
</tr>
<tr>
<td style="text-align:left;">
m5
</td>
<td style="text-align:left;">
d8
</td>
</tr>
<tr>
<td style="text-align:left;">
m5
</td>
<td style="text-align:left;">
d10
</td>
</tr>
<tr>
<td style="text-align:left;">
m5
</td>
<td style="text-align:left;">
d12
</td>
</tr>
<tr>
<td style="text-align:left;">
m5
</td>
<td style="text-align:left;">
d17
</td>
</tr>
<tr>
<td style="text-align:left;">
m5
</td>
<td style="text-align:left;">
d21
</td>
</tr>
<tr>
<td style="text-align:left;">
m5
</td>
<td style="text-align:left;">
d24
</td>
</tr>
<tr>
<td style="text-align:left;">
m5
</td>
<td style="text-align:left;">
d29
</td>
</tr>
<tr>
<td style="text-align:left;">
m6
</td>
<td style="text-align:left;">
d1
</td>
</tr>
<tr>
<td style="text-align:left;">
m6
</td>
<td style="text-align:left;">
d4
</td>
</tr>
<tr>
<td style="text-align:left;">
m6
</td>
<td style="text-align:left;">
d8
</td>
</tr>
<tr>
<td style="text-align:left;">
m6
</td>
<td style="text-align:left;">
d14
</td>
</tr>
<tr>
<td style="text-align:left;">
m6
</td>
<td style="text-align:left;">
d19
</td>
</tr>
<tr>
<td style="text-align:left;">
m6
</td>
<td style="text-align:left;">
d26
</td>
</tr>
<tr>
<td style="text-align:left;">
m6
</td>
<td style="text-align:left;">
d28
</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="wrangle" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Wrangle</h1>
<section id="patient-data" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="patient-data"><span class="header-section-number">3.1</span> Patient Data</h2>
<section id="patient-idssids-id_sid" class="level3" data-number="3.1.1">
<h3 data-number="3.1.1" class="anchored" data-anchor-id="patient-idssids-id_sid"><span class="header-section-number">3.1.1</span> Patient IDs/SIDs: <code>id_sid</code></h3>
<p>Read &amp; print data from “id_sid_matchup.sas7bdat” &amp; “id_sid_matchup.sas7bdat.”</p>
<div class="cell" data-hash="NACI_DataLog_cache/html/ReadData id_sid_matchup_b46d6cf878be7fdb2bcd07e880a615bd">
<div class="sourceCode" id="cb13"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1d. read 'id_sid_matchup.sas7bdat' into id_sid and</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 'id_sid_matchup2.sas7bdat' into id_sid2</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>id_sid_matchup <span class="ot">&lt;-</span> <span class="fu">read_sas</span>(<span class="fu">paste</span>(data_path, <span class="st">"id_sid_matchup.sas7bdat"</span>,</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">sep =</span> <span class="st">"/"</span>))</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>id_sid_matchup2 <span class="ot">&lt;-</span> <span class="fu">read_sas</span>(<span class="fu">paste</span>(data_path, <span class="st">"id_sid_matchup2.sas7bdat"</span>,</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">sep =</span> <span class="st">"/"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Import every SAS data file with “patient” or “person” in its name (<code>haven</code> library) and print a data dictionary for each file (<code>labelled</code> library).</p>
<div class="cell" data-hash="NACI_DataLog_cache/html/Patient_Data_2ba83e0b096d6e89652d9cd3dc01b191">
<div class="sourceCode" id="cb14"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Make a list of filenames with 'patient' or 'person' in</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="co"># the name</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>patient_files <span class="ot">&lt;-</span> <span class="fu">as.list</span>(sas_data_fullpaths[(<span class="fu">str_detect</span>(sas_data_fullpaths,</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"patient|person"</span>))])</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Use package purrr to import patient_data by iterating</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="co"># over every element of `patient_files`</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>patient_data <span class="ot">&lt;-</span> <span class="fu">map</span>(patient_files, read_sas)</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a><span class="co"># generate a data dictionary with package labelled</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="fu">map</span>(patient_data, generate_dictionary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>[[1]]
 pos variable            label                          col_type values
 1   SHIFT_NUM           shift number                   dbl            
 2   SID                 —                              chr            
 3   censusMax_perPerson popn max during patient's stay dbl            

[[2]]
 pos variable                 label                            col_type values
 1   sid                      SID                              chr            
 2   d8                       d8                               date           
 3   duration_observed        MINUTES OBSERVED BY RFID         dbl            
 4   censusmax_perperson      popn max during patient's stay   dbl            
 5   censusmedian_perperson   —                                dbl            
 6   censusmean_perperson     —                                dbl            
 7   shift_num                shift number                     dbl            
 8   shiftlength              shift length in hrs              dbl            
 9   ampm                     am (7am to 7 pm) or pm (7pm to ~ dbl            
 10  studyQuarter             1summer JAS, 2fall OND, etc      dbl            
 11  weekday                  Weekday 1yes 0no                 dbl            
 12  staff                    staff 1staff 0patient            dbl            
 13  participant_type         participant type                 chr            
 14  staffcount               staff count                      dbl            
 15  patcount                 patients participating           dbl            
 16  census_min               shift's minimum # of patients i~ dbl            
 17  census_max               shift's maximum # of patients i~ dbl            
 18  patient_patient          number of patient patient edges~ dbl            
 19  staff_patient            number of staff patient edges i~ dbl            
 20  staff_staff              number of staff staff contacts ~ dbl            
 21  lone_patient             number of patients without an e~ dbl            
 22  lone_staff               number of staff without an edge~ dbl            
 23  degree                   # of contacts for this person    dbl            
 24  degree_pp                number of patient patient conta~ dbl            
 25  degree_ps                number of patient staff contact~ dbl            
 26  degree_ss                number of staff staff contacts ~ dbl            
 27  wdegree                  degree wtd by duration of conta~ dbl            
 28  WDEGMIN_SS               wt degree, Staff-Staff           dbl            
 29  wdegmin_PP               wt degree, Pat-Pat               dbl            
 30  wdegmin_PS_STAFF         wt degree, PS by Staff           dbl            
 31  wdegmin_PS_pat           wt degree,PS by Patient          dbl            
 32  RELATIVE_DEGREE          DEGREE/(TOTAL-1)                 dbl            
 33  RELATIVE_DEGREE_PS_PAT   DEGREE_PS/STAFFCOUNT             dbl            
 34  RELATIVE_DEGREE_PS_STAFF DEGREE_PS/PATCOUNT               dbl            
 35  RELATIVE_DEGREE_SS       DEGREE_SS/(STAFFCOUNT-1)         dbl            
 36  RELATIVE_DEGREE_PP       DEGREE_PP/(PATCOUNT-1)           dbl            
 37  LOG_WTDEGREE             ln wtd degree                    dbl            
 38  Closeness_Centrality     Closeness Centrality (normed)    dbl            
 39  Betweenness_Centrality   Betweenness Centrality (normed)  dbl            
 40  Clustering_Coefficient   —                                dbl            
 41  Number_of_triangles      —                                dbl            
 42  Eigenvector_Centrality   —                                dbl            
 43  Authority                —                                dbl            
 44  Hub                      —                                dbl            
 45  Modularity_Class         —                                dbl            
 46  PageRank                 —                                dbl            
 47  Eccentricity             —                                dbl            
 48  Component_ID             —                                dbl            
 49  num_shortest_paths       —                                dbl            
 50  weak_components          —                                dbl            
 51  triangle                 proportion possible triangles    dbl            
 52  tot_triangles            —                                dbl            
 53  pop_high_acuity          Patient POPULATION - Proportion~ dbl            
 54  pop_med_age              Patient POPULATION Median Age    dbl            
 55  pop_female_freq          Patient POPULATION Percent Fema~ dbl            
 56  pop_black_freq           Patient POPULATION Percent Black dbl            
 57  pop_acuity_hilo          pct with high acuity in shift p~ chr            
 58  pop_med_age_hilo         median age of shift population ~ chr            
 59  pop_female_freq_hilo     pct female in shift population,~ chr            
 60  pop_black_freq_hilo      pct black in shift population, ~ chr            
 61  timeCoveredbyShift       compares patient time in ED to ~ chr            
 62  arrival_mode             arrival by EMS or Other modes    chr            
 63  AGE                      age in years                     dbl            
 64  Sex                      Sex                              chr            
 65  ED_Disposition           ED Disposition                   chr            
 66  admitted                  Admitted as Inpt or Obs         chr            
 67  acuitycat                acuity categorized               chr            
 68  COUNT_OF_MD              Frequency Count                  dbl            
 69  COUNT_OF_RN              Frequency Count                  dbl            
 70  COUNT_OF_ST              Frequency Count                  dbl            
 71  Syndrome                 Syndrome, based on specific Chi~ chr            
 72  BLACKyn                  Black or All Others              chr            
 73  StartsDuringPct          Percent of Total Frequency       dbl            
 74  musculoskel              chief complaint is musculoskele~ chr            
 75  pop_respir_pct           Percent of Total Frequency       dbl            
 76  pop_musculoskel_pct      Percent of Total Frequency       dbl            
 77  pop_chestP_pct           Percent of Total Frequency       dbl            
 78  pop_GI_pct               Percent of Total Frequency       dbl            
 79  pop_neuro_pct            Percent of Total Frequency       dbl            
 80  pop_othersyndrome_pct    Percent of Total Frequency       dbl            
 81  arrive_by_EMS_pct        pct in shift population arrivin~ dbl            
 82  ParticipantCat2          any kind of staff/patient        chr            
 83  Num_uniqueRoomChanges    # of times changed location      dbl            
 84  uniqueshiftnum           —                                dbl            
 85  Replicate                Sample Replicate Number          dbl            
 86  COUNT                    Frequency Count                  dbl            

[[3]]
 pos variable                    label                         col_type values
 1   sid                         SID                           chr            
 2   d8                          d8                            date           
 3   day                         —                             dbl            
 4   year                        —                             dbl            
 5   startd8time                 —                             dttm           
 6   endd8time                   —                             dttm           
 7   shift_num_ampm              shift number, am pm           chr            
 8   mon                         —                             dbl            
 9   starttime                   —                             dbl            
 10  endtime                     —                             dbl            
 11  sdatetime                   —                             dttm           
 12  edatetime                   —                             dttm           
 13  duration_observed           MINUTES OBSERVED BY RFID      dbl            
 14  censusmax_perperson         popn max during patient's st~ dbl            
 15  censusmedian_perperson      —                             dbl            
 16  censusmean_perperson        —                             dbl            
 17  shift_num                   shift number                  dbl            
 18  ID                          id number that includes date~ dbl            
 19  i                           arbitrary sid for this d8     dbl            
 20  ShiftStart                  Shift Start                   time           
 21  ShiftEnd                    Shift End                     time           
 22  shiftlength                 shift length in hrs           dbl            
 23  Reason_shortShift           Reason_shortShift             chr            
 24  month                       Month                         dbl            
 25  day_of_month                Day of month                  dbl            
 26  ampm                        am (7am to 7 pm) or pm (7pm ~ dbl            
 27  shift_ampm                  shift, am pm                  chr            
 28  shift_d8_ampm               shift, date, am pm            chr            
 29  studyQuarter                1summer JAS, 2fall OND, etc   dbl            
 30  quarter_year                quarter of yr (1 jan-mar)     dbl            
 31  H1N1                        H1N1 season 1yes 0no          dbl            
 32  weekday                     Weekday 1yes 0no              dbl            
 33  day1                        first day in shift            chr            
 34  day2                        2nd day in shift              chr            
 35  dayofweek                   day of week shift occurs on   chr            
 36  staff                       staff 1staff 0patient         dbl            
 37  participant_type            participant type              chr            
 38  jobtitle                    job title, includes some amb~ chr            
 39  staffcount                  staff count                   dbl            
 40  patcount                    patients participating        dbl            
 41  total_patients              number of patients seen in E~ dbl            
 42  census_min                  shift's minimum # of patient~ dbl            
 43  census_max                  shift's maximum # of patient~ dbl            
 44  participationrate           patients participating / pat~ dbl            
 45  patient_patient             number of patient patient ed~ dbl            
 46  staff_patient               number of staff patient edge~ dbl            
 47  staff_staff                 number of staff staff contac~ dbl            
 48  lone_patient                number of patients without a~ dbl            
 49  lone_staff                  number of staff without an e~ dbl            
 50  total_edges                 total observed contacts (edg~ dbl            
 51  degree                      # of contacts for this person dbl            
 52  degree_pp                   number of patient patient co~ dbl            
 53  degree_ps                   number of patient staff cont~ dbl            
 54  degree_ss                   number of staff staff contac~ dbl            
 55  wdegree                     degree wtd by duration of co~ dbl            
 56  WDEGMIN_SS                  wt degree, Staff-Staff        dbl            
 57  wdegmin_PP                  wt degree, Pat-Pat            dbl            
 58  wdegmin_PS_STAFF            wt degree, PS by Staff        dbl            
 59  wdegmin_PS_pat              wt degree,PS by Patient       dbl            
 60  RELATIVE_DEGREE             DEGREE/(TOTAL-1)              dbl            
 61  RELATIVE_DEGREE_PS_PAT      DEGREE_PS/STAFFCOUNT          dbl            
 62  RELATIVE_DEGREE_PS_STAFF    DEGREE_PS/PATCOUNT            dbl            
 63  RELATIVE_DEGREE_SS          DEGREE_SS/(STAFFCOUNT-1)      dbl            
 64  RELATIVE_DEGREE_PP          DEGREE_PP/(PATCOUNT-1)        dbl            
 65  LOG_WTDEGREE                ln wtd degree                 dbl            
 66  LNLN_WTDEGREE               ln ln wtd degree              dbl            
 67  Closeness_Centrality        Closeness Centrality (normed) dbl            
 68  Betweenness_Centrality      Betweenness Centrality (norm~ dbl            
 69  Clustering_Coefficient      —                             dbl            
 70  Number_of_triangles         —                             dbl            
 71  Eigenvector_Centrality      —                             dbl            
 72  Authority                   —                             dbl            
 73  Hub                         —                             dbl            
 74  Modularity_Class            —                             dbl            
 75  PageRank                    —                             dbl            
 76  Eccentricity                —                             dbl            
 77  Component_ID                —                             dbl            
 78  avg_degree                  —                             dbl            
 79  avg_wdegree                 —                             dbl            
 80  diameter                    —                             dbl            
 81  apl                         —                             dbl            
 82  num_shortest_paths          —                             dbl            
 83  Density                     —                             dbl            
 84  weak_components             —                             dbl            
 85  triangle                    proportion possible triangles dbl            
 86  Tran                        TRANSITIVITY (WARNING:VALUES~ dbl            
 87  tot_triangles               —                             dbl            
 88  part_hilo                   Patients PARTICIPATING - Pro~ chr            
 89  part_high_acuity            Patients PARTICIPATING - Pro~ dbl            
 90  part_med_age                Patients PARTICIPATING Media~ dbl            
 91  part_female_freq            Patients PARTICIPATING Perce~ dbl            
 92  part_black_freq             Patients PARTICIPATING Perce~ dbl            
 93  pop_high_acuity             Patient POPULATION - Proport~ dbl            
 94  pop_med_age                 Patient POPULATION Median Age dbl            
 95  pop_female_freq             Patient POPULATION Percent F~ dbl            
 96  pop_black_freq              Patient POPULATION Percent B~ dbl            
 97  pop_acuity_hilo             pct with high acuity in shif~ chr            
 98  pop_med_age_hilo            median age of shift populati~ chr            
 99  pop_female_freq_hilo        pct female in shift populati~ chr            
 100 pop_black_freq_hilo         pct black in shift populatio~ chr            
 101 EncounterNum                EncounterNum                  chr            
 102 dup_tag                     dup_tag issue                 dbl            
 103 dup_samePT                  dup_samePT same pt had sever~ dbl            
 104 ED_ARRIVAL                  ED Arrival time               dttm           
 105 ed_departure                ED Departure time             dttm           
 106 tag_starttime               TAG_starttime                 dttm           
 107 d8ARR                       d8 patient arrived in ED      date           
 108 d8DEP                       d9 patients departed ED       date           
 109 timeARR                     time of arrival               time           
 110 timeDEP                     time of departure             time           
 111 tagofftime                  time tag assumed off          dttm           
 112 CHANGESID                   tagging issue, changed sid    chr            
 113 tag_problem                 tagging issue was dealt with  chr            
 114 durationInED                Minutes in ED                 dbl            
 115 duration_UntilTag           Minutes from arrival until t~ dbl            
 116 timeCoveredbyShift          compares patient time in ED ~ chr            
 117 daysinED                    days in ED                    dbl            
 118 MinutesInED                 minutes in ED                 dbl            
 119 hrsinED                     hours in ED                   dbl            
 120 arrival_mode                arrival by EMS or Other modes chr            
 121 AGE                         age in years                  dbl            
 122 Sex                         Sex                           chr            
 123 Race                        Race                          chr            
 124 Chief_Complaint             Chief Complaint               chr            
 125 Acuity                      Acuity                        chr            
 126 Arr_Mode                    Arrival  Mode                 chr            
 127 ED_Disposition              ED Disposition                chr            
 128 admitted                     Admitted as Inpt or Obs      chr            
 129 ILI_Syndrome                ILI Syndrome                  chr            
 130 ILIwMissing                 —                             chr            
 131 acuitycat                   acuity categorized            chr            
 132 Botulism_like               Botulism-like illness  chief~ chr            
 133 Hemorrahgic_Illness         Hemorrahgic Illness chief co~ chr            
 134 Lymphadenitis               Lymphadenitis  chief complai~ chr            
 135 Localized_Cutaneous_Lesion  Localized Cutaneous Lesion c~ chr            
 136 Gastrointestinal            Gastrointestinal chief compl~ chr            
 137 Respiratory                 Respiratory chief complaint ~ chr            
 138 Unexplained_death           Unexplained death             chr            
 139 Neurological                Neurological chief complaint~ chr            
 140 Rash                        Rash chief complaint (1yes 0~ chr            
 141 Specific_Infection          Specific Infection chief com~ chr            
 142 Fever                       Fever chief complaint (1yes ~ chr            
 143 Musculoskeletal             Musculoskeletal chief compla~ chr            
 144 COUNT_OF_MD                 Frequency Count               dbl            
 145 COUNT_OF_RN                 Frequency Count               dbl            
 146 COUNT_OF_ST                 Frequency Count               dbl            
 147 Botulism_liken              —                             dbl            
 148 Fevern                      —                             dbl            
 149 Gastrointestinaln           —                             dbl            
 150 Hemorrahgic_Illnessn        —                             dbl            
 151 Localized_Cutaneous_Lesionn —                             dbl            
 152 Lymphadenitisn              —                             dbl            
 153 Musculoskeletaln            —                             dbl            
 154 Neurologicaln               —                             dbl            
 155 Rashn                       —                             dbl            
 156 Respiratoryn                —                             dbl            
 157 Specific_Infectionn         —                             dbl            
 158 Unexplained_deathn          —                             dbl            
 159 N                           —                             dbl            
 160 Syndrome                    Syndrome, based on specific ~ chr            
 161 TOTAL                       SUM OF OBSERVED # PATIENTS A~ dbl            
 162 d1                          —                             dbl            
 163 d2                          —                             dbl            
 164 d3                          —                             dbl            
 165 max                         —                             dbl            
 166 BLACKyn                     Black or All Others           chr            
 167 DegreePScat                 degree PS 0, 1, 2 to 4, gt4   dbl            
 168 NObs                        N Obs                         dbl            
 169 duration_observed_Mean      Mean                          dbl            
 170 duration_observed_Median    Median                        dbl            
 171 StartsDuringPct             Percent of Total Frequency    dbl            
 172 syndrome1_Other             —                             dbl            
 173 syndrome2_GI                —                             dbl            
 174 syndrome3_Respiratory       —                             dbl            
 175 syndrome4_Neuro             —                             dbl            
 176 syndrome5_ChestPain         —                             dbl            
 177 syndrome6_Musculoskel       —                             dbl            
 178 possiblecombs               —                             dbl            
 179 nduration_observed          —                             dbl            
 180 yearhalf                    —                             chr            
 181 CC1                         fever syndrome                chr            
 182 cc2                         hemorrahgic illness           chr            
 183 cc3                         Lymphadenitis                 chr            
 184 cc4                         Localized Cutaneous Lesion    chr            
 185 cc5                         Botulism-like                 chr            
 186 cc6                         Gastrointestinal              chr            
 187 cc7                         Respiratory                   chr            
 188 cc8                         Unexplained death             chr            
 189 cc9                         Neurological                  chr            
 190 cc10                        Rash                          chr            
 191 cc11                        Specific Infection            chr            
 192 cc12                        Musculoskeletal               chr            
 193 musculoskel                 chief complaint is musculosk~ chr            
 194 pop_respir_pct              Percent of Total Frequency    dbl            
 195 pop_musculoskel_pct         Percent of Total Frequency    dbl            
 196 pop_chestP_pct              Percent of Total Frequency    dbl            
 197 pop_GI_pct                  Percent of Total Frequency    dbl            
 198 pop_neuro_pct               Percent of Total Frequency    dbl            
 199 pop_othersyndrome_pct       Percent of Total Frequency    dbl            
 200 arrive_by_EMS_pct           pct in shift population arri~ dbl            
 201 LOG_WDEGMIN_PS_PAT          —                             dbl            
 202 ParticipantCat2             any kind of staff/patient     chr            
 203 Num_uniqueRoomChanges       # of times changed location   dbl            

[[4]]
 pos variable       label col_type values
 1   shift_num_ampm —     chr            
 2   sid            —     chr            

[[5]]
 pos variable               label                              col_type values
 1   numshift               number of days from start of study dbl            
 2   dateTimeStart          shift start, date and time         dttm           
 3   dateTimeEnd            shift end, date and time           dttm           
 4   sid                    SID                                chr            
 5   d8                     d8                                 date           
 6   shift_ampm             shift_ampm                         chr            
 7   Reason_shortShift      Reason_shortShift                  chr            
 8   startd8time            —                                  dttm           
 9   endd8time              —                                  dttm           
 10  shift_d8_ampm          —                                  chr            
 11  quarter                1summer 2fall      **correct defi~ dbl            
 12  weekday                —                                  dbl            
 13  H1N1                   —                                  dbl            
 14  SevenToTwelve          —                                  dbl            
 15  dup_tag                dup_tag                            dbl            
 16  dup_samePT             dup_samePT                         dbl            
 17  keepDrop               keepDrop                           chr            
 18  time_difference        time difference                    chr            
 19  random                 random                             chr            
 20  EncounterNum           EncounterNum                       chr            
 21  ED_ARRIVAL             ED_Arrival                         dttm           
 22  ed_departure           ED_Departure                       dttm           
 23  patient                Patient                            chr            
 24  tag_starttime          TAG_starttime                      dttm           
 25  tagofftime             —                                  dttm           
 26  CHANGESID              —                                  chr            
 27  ad8                    arrival date                       date           
 28  dd8                    departure date                     date           
 29  a                      —                                  chr            
 30  b                      —                                  chr            
 31  sid_                   —                                  dbl            
 32  tag_problem            —                                  chr            
 33  durationInED           Minutes in ED                      dbl            
 34  duration_UntilTag      Minutes from arrival until tagging dbl            
 35  time_error             —                                  dbl            
 36  JOB                    —                                  chr            
 37  exclusionreason        categorizes everyone in shift popn chr            
 38  fltimeerror            —                                  dbl            
 39  flexcodes              —                                  dbl            
 40  fld                    —                                  dbl            
 41  flef                   —                                  dbl            
 42  indups                 —                                  dbl            
 43  er                     —                                  chr            
 44  inwhich                —                                  chr            
 45  encnum                 —                                  dbl            
 46  ID                     ID                                 dbl            
 47  ED_Arrival_Timestamp   ED Arrival Timestamp               dttm           
 48  Sex                    Sex                                chr            
 49  Patient_Age_at_Visit   Patient Age at Visit               chr            
 50  Race                   Race                               chr            
 51  Chief_Complaint        Chief Complaint                    chr            
 52  Acuity                 Acuity                             chr            
 53  Arr_Mode               Arr Mode                           chr            
 54  ED_Departure_Timestamp ED Departure Timestamp             dttm           
 55  ED_Disposition         ED Disposition                     chr            
 56  admitted               % ED Patients Admitted as Inpt or~ chr            
 57  d8ARR                  —                                  date           
 58  d8DEP                  —                                  date           
 59  timeARR                —                                  time           
 60  timeDEP                —                                  time           
 61  daysinED               —                                  dbl            
 62  MinutesInED            —                                  dbl            
 63  AGE                    —                                  dbl            
 64  ILI_Syndrome           ILI Syndrome                       chr            
 65  ILIwMissing            —                                  chr            
 66  hrsinED                —                                  dbl            
 67  timeCoveredbyShift     —                                  chr            
 68  popnFreqbyshift        Frequency Count                    dbl            
 69  shift_num_ampm         —                                  chr            
 70  participantyn          yes(w/events) no(tech issues/no e~ chr            
 71  approached             yes(recorded by volunteers in som~ chr            
 72  Pt_withData            —                                  chr            
 73  partic_if_eligible     partipant, excludes exclusions     chr            
 74  met_exclusion_crit     —                                  chr            
 75  approachedYN           intent to approach unacctd4(no),i~ chr            
 76  Participant_final      patient with data that made it in~ dbl            
 77  dset                   —                                  chr            

[[6]]
 pos variable               label                              col_type values
 1   shift_num              —                                  dbl            
 2   person                 —                                  dbl            
 3   sid                    SID                                chr            
 4   mon                    —                                  dbl            
 5   staff                  —                                  dbl            
 6   d8                     first date in shift                date           
 7   shift_ampm             shift_ampm                         chr            
 8   Reason_shortShift      Reason_shortShift                  chr            
 9   startd8time            —                                  dttm           
 10  shift_d8_ampm          —                                  chr            
 11  shift_num_ampm         —                                  chr            
 12  quarter                1summer 2fall      **correct defi~ dbl            
 13  weekday                —                                  dbl            
 14  H1N1                   —                                  dbl            
 15  SevenToTwelve          —                                  dbl            
 16  numshift               —                                  dbl            
 17  endd8time              —                                  dttm           
 18  dup_tag                dup_tag                            dbl            
 19  dup_samePT             dup_samePT                         dbl            
 20  keepDrop               keepDrop                           chr            
 21  time_difference        time difference                    chr            
 22  random                 random                             chr            
 23  EncounterNum           EncounterNum                       chr            
 24  ED_ARRIVAL             ED_Arrival                         dttm           
 25  ed_departure           ED_Departure                       dttm           
 26  patient                Patient                            chr            
 27  tag_starttime          TAG_starttime                      dttm           
 28  tagofftime             —                                  dttm           
 29  CHANGESID              —                                  chr            
 30  ad8                    arrival date                       date           
 31  dd8                    departure date                     date           
 32  a                      —                                  chr            
 33  b                      —                                  chr            
 34  sid_                   —                                  dbl            
 35  tag_problem            —                                  chr            
 36  durationInED           Minutes in ED                      dbl            
 37  duration_UntilTag      Minutes from arrival until tagging dbl            
 38  time_error             —                                  dbl            
 39  JOB                    —                                  chr            
 40  exclusionreason        categorizes everyone in shift popn chr            
 41  fltimeerror            —                                  dbl            
 42  flexcodes              —                                  dbl            
 43  fld                    —                                  dbl            
 44  flef                   —                                  dbl            
 45  indups                 —                                  dbl            
 46  er                     —                                  chr            
 47  inwhich                —                                  chr            
 48  encnum                 —                                  dbl            
 49  ID                     ID                                 dbl            
 50  ED_Arrival_Timestamp   ED Arrival Timestamp               dttm           
 51  Sex                    Sex                                chr            
 52  Patient_Age_at_Visit   Patient Age at Visit               chr            
 53  Race                   Race                               chr            
 54  Chief_Complaint        Chief Complaint                    chr            
 55  Acuity                 Acuity                             chr            
 56  Arr_Mode               Arr Mode                           chr            
 57  ED_Departure_Timestamp ED Departure Timestamp             dttm           
 58  ED_Disposition         ED Disposition                     chr            
 59  admitted               % ED Patients Admitted as Inpt or~ chr            
 60  d8ARR                  —                                  date           
 61  d8DEP                  —                                  date           
 62  timeARR                —                                  time           
 63  timeDEP                —                                  time           
 64  daysinED               —                                  dbl            
 65  MinutesInED            —                                  dbl            
 66  AGE                    —                                  dbl            
 67  ILI_Syndrome           ILI Syndrome                       chr            
 68  ILIwMissing            —                                  chr            
 69  hrsinED                —                                  dbl            
 70  timeCoveredbyShift     —                                  chr            
 71  popnFreqbyshift        Frequency Count                    dbl            
 72  approached             yes(recorded by volunteers in som~ chr            
 73  ShiftStart             ShiftStart                         time           
 74  ShiftEnd               ShiftEnd                           time           
 75  shiftlength            shift length in hrs                dbl            
 76  Participant_final      patient with data that made it in~ dbl            

[[7]]
 pos variable               label                              col_type values
 1   numshift               number of days from start of study dbl            
 2   dateTimeStart          shift start, date and time         dttm           
 3   dateTimeEnd            shift end, date and time           dttm           
 4   sid                    SID                                chr            
 5   d8                     d8                                 date           
 6   shift_ampm             shift_ampm                         chr            
 7   Reason_shortShift      Reason_shortShift                  chr            
 8   startd8time            —                                  dttm           
 9   endd8time              —                                  dttm           
 10  shift_d8_ampm          —                                  chr            
 11  quarter                1summer 2fall      **correct defi~ dbl            
 12  weekday                —                                  dbl            
 13  H1N1                   —                                  dbl            
 14  SevenToTwelve          —                                  dbl            
 15  dup_tag                dup_tag                            dbl            
 16  dup_samePT             dup_samePT                         dbl            
 17  keepDrop               keepDrop                           chr            
 18  time_difference        time difference                    chr            
 19  random                 random                             chr            
 20  EncounterNum           EncounterNum                       chr            
 21  ED_ARRIVAL             ED_Arrival                         dttm           
 22  ed_departure           ED_Departure                       dttm           
 23  patient                Patient                            chr            
 24  tag_starttime          TAG_starttime                      dttm           
 25  tagofftime             —                                  dttm           
 26  CHANGESID              —                                  chr            
 27  ad8                    arrival date                       date           
 28  dd8                    departure date                     date           
 29  a                      —                                  chr            
 30  b                      —                                  chr            
 31  sid_                   —                                  dbl            
 32  tag_problem            —                                  chr            
 33  durationInED           Minutes in ED                      dbl            
 34  duration_UntilTag      Minutes from arrival until tagging dbl            
 35  time_error             —                                  dbl            
 36  JOB                    —                                  chr            
 37  exclusionreason        categorizes everyone in shift popn chr            
 38  fltimeerror            —                                  dbl            
 39  flexcodes              —                                  dbl            
 40  fld                    —                                  dbl            
 41  flef                   —                                  dbl            
 42  indups                 —                                  dbl            
 43  er                     —                                  chr            
 44  inwhich                —                                  chr            
 45  encnum                 —                                  dbl            
 46  ID                     ID                                 dbl            
 47  ED_Arrival_Timestamp   ED Arrival Timestamp               dttm           
 48  Sex                    Sex                                chr            
 49  Patient_Age_at_Visit   Patient Age at Visit               chr            
 50  Race                   Race                               chr            
 51  Chief_Complaint        Chief Complaint                    chr            
 52  Acuity                 Acuity                             chr            
 53  Arr_Mode               Arr Mode                           chr            
 54  ED_Departure_Timestamp ED Departure Timestamp             dttm           
 55  ED_Disposition         ED Disposition                     chr            
 56  admitted               % ED Patients Admitted as Inpt or~ chr            
 57  d8ARR                  —                                  date           
 58  d8DEP                  —                                  date           
 59  timeARR                —                                  time           
 60  timeDEP                —                                  time           
 61  daysinED               —                                  dbl            
 62  MinutesInED            —                                  dbl            
 63  AGE                    —                                  dbl            
 64  ILI_Syndrome           ILI Syndrome                       chr            
 65  ILIwMissing            —                                  chr            
 66  hrsinED                —                                  dbl            
 67  timeCoveredbyShift     —                                  chr            
 68  popnFreqbyshift        Frequency Count                    dbl            
 69  shift_num_ampm         —                                  chr            
 70  participantyn          yes(w/events) no(tech issues/no e~ chr            
 71  approached             yes(recorded by volunteers in som~ chr            
 72  Pt_withData            —                                  chr            
 73  partic_if_eligible     partipant, excludes exclusions     chr            
 74  met_exclusion_crit     —                                  chr            
 75  approachedYN           intent to approach unacctd4(no),i~ chr            
 76  Participant_final      patient with data that made it in~ dbl            
 77  dset                   —                                  chr            
 78  t1                     —                                  dbl            
 79  t2                     —                                  dbl            
 80  shiftlength            —                                  dbl            
 81  lengthofstay           —                                  dbl            
 82  staycoverage           —                                  chr            
 83  lengthofcoverage       —                                  dbl            

[[8]]
 pos variable               label                              col_type values
 1   sid                    SID                                chr            
 2   shift_num              —                                  dbl            
 3   d8                     d8                                 date           
 4   shift_ampm             shift_ampm                         chr            
 5   Reason_shortShift      Reason_shortShift                  chr            
 6   startd8time            —                                  dttm           
 7   endd8time              —                                  dttm           
 8   shift_d8_ampm          —                                  chr            
 9   quarter                1summer 2fall      **correct defi~ dbl            
 10  weekday                —                                  dbl            
 11  H1N1                   —                                  dbl            
 12  SevenToTwelve          —                                  dbl            
 13  dup_tag                dup_tag                            dbl            
 14  dup_samePT             dup_samePT                         dbl            
 15  keepDrop               keepDrop                           chr            
 16  time_difference        time difference                    chr            
 17  random                 random                             chr            
 18  EncounterNum           EncounterNum                       chr            
 19  ED_ARRIVAL             ED_Arrival                         dttm           
 20  ed_departure           ED_Departure                       dttm           
 21  patient                Patient                            chr            
 22  tag_starttime          TAG_starttime                      dttm           
 23  tagofftime             —                                  dttm           
 24  CHANGESID              —                                  chr            
 25  ad8                    arrival date                       date           
 26  dd8                    departure date                     date           
 27  a                      —                                  chr            
 28  b                      —                                  chr            
 29  sid_                   —                                  dbl            
 30  tag_problem            —                                  chr            
 31  durationInED           Minutes in ED                      dbl            
 32  duration_UntilTag      Minutes from arrival until tagging dbl            
 33  time_error             —                                  dbl            
 34  JOB                    —                                  chr            
 35  exclusionreason        categorizes everyone in shift popn chr            
 36  fltimeerror            —                                  dbl            
 37  flexcodes              —                                  dbl            
 38  fld                    —                                  dbl            
 39  flef                   —                                  dbl            
 40  indups                 —                                  dbl            
 41  er                     —                                  chr            
 42  inwhich                —                                  chr            
 43  encnum                 —                                  dbl            
 44  ID                     ID                                 dbl            
 45  ED_Arrival_Timestamp   ED Arrival Timestamp               dttm           
 46  Sex                    Sex                                chr            
 47  Patient_Age_at_Visit   Patient Age at Visit               chr            
 48  Race                   Race                               chr            
 49  Chief_Complaint        Chief Complaint                    chr            
 50  Acuity                 Acuity                             chr            
 51  Arr_Mode               Arr Mode                           chr            
 52  ED_Departure_Timestamp ED Departure Timestamp             dttm           
 53  ED_Disposition         ED Disposition                     chr            
 54  admitted               % ED Patients Admitted as Inpt or~ chr            
 55  d8ARR                  —                                  date           
 56  d8DEP                  —                                  date           
 57  timeARR                —                                  time           
 58  timeDEP                —                                  time           
 59  daysinED               —                                  dbl            
 60  MinutesInED            —                                  dbl            
 61  AGE                    —                                  dbl            
 62  ILI_Syndrome           ILI Syndrome                       chr            
 63  ILIwMissing            —                                  chr            
 64  hrsinED                —                                  dbl            
 65  timeCoveredbyShift     —                                  chr            
 66  popnFreqbyshift        Frequency Count                    dbl            
 67  shift_num_ampm         —                                  chr            
 68  participantyn          yes(w/events) no(tech issues/no e~ chr            
 69  approached             yes(recorded by volunteers in som~ chr            
 70  Pt_withData            —                                  chr            
 71  partic_if_eligible     partipant, excludes exclusions     chr            
 72  met_exclusion_crit     —                                  chr            
 73  approachedYN           intent to approach unacctd4(no),i~ chr            
 74  Participant_final      patient with data that made it in~ dbl            
 75  dset                   —                                  chr            
 76  syndrome               —                                  chr            
 77  CC1                    fever syndrome                     chr            
 78  cc2                    hemorrahgic illness                chr            
 79  cc3                    Lymphadenitis                      chr            
 80  cc4                    Localized Cutaneous Lesion         chr            
 81  cc5                    Botulism-like                      chr            
 82  cc6                    Gastrointestinal                   chr            
 83  cc7                    Respiratory                        chr            
 84  cc8                    Unexplained death                  chr            
 85  cc9                    Neurological                       chr            
 86  cc10                   Rash                               chr            
 87  cc11                   Specific Infection                 chr            
 88  cc12                   Musculoskeletal                    chr            
 89  arrival_mode           —                                  chr            
 90  arrive_by_EMS_pct      pct in shift population arriving ~ dbl            
 91  pop_respir_pct         Percent of Total Frequency         dbl            
 92  pop_musculoskel_pct    Percent of Total Frequency         dbl            
 93  pop_chestP_pct         Percent of Total Frequency         dbl            
 94  pop_GI_pct             Percent of Total Frequency         dbl            
 95  pop_neuro_pct          Percent of Total Frequency         dbl            
 96  pop_othersyndrome_pct  Percent of Total Frequency         dbl            

[[9]]
 pos variable label col_type values
 1   shiftnum —     dbl            
 2   person   —     dbl            
 3   staff    —     dbl            
 4   degree   —     dbl            
 5   minutes  —     dbl            

[[10]]
 pos variable               label                              col_type values
 1   sid                    SID                                chr            
 2   numshift               —                                  dbl            
 3   d8                     d8                                 date           
 4   shift_ampm             shift_ampm                         chr            
 5   Reason_shortShift      Reason_shortShift                  chr            
 6   startd8time            —                                  dttm           
 7   endd8time              —                                  dttm           
 8   shift_d8_ampm          —                                  chr            
 9   quarter                1summer 2fall      **correct defi~ dbl            
 10  weekday                —                                  dbl            
 11  H1N1                   —                                  dbl            
 12  SevenToTwelve          —                                  dbl            
 13  dup_tag                dup_tag                            dbl            
 14  dup_samePT             dup_samePT                         dbl            
 15  keepDrop               keepDrop                           chr            
 16  time_difference        time difference                    chr            
 17  random                 random                             chr            
 18  EncounterNum           EncounterNum                       chr            
 19  ED_ARRIVAL             ED_Arrival                         dttm           
 20  ed_departure           ED_Departure                       dttm           
 21  patient                Patient                            chr            
 22  tag_starttime          TAG_starttime                      dttm           
 23  tagofftime             —                                  dttm           
 24  CHANGESID              —                                  chr            
 25  ad8                    arrival date                       date           
 26  dd8                    departure date                     date           
 27  a                      —                                  chr            
 28  b                      —                                  chr            
 29  sid_                   —                                  dbl            
 30  tag_problem            —                                  chr            
 31  durationInED           Minutes in ED                      dbl            
 32  duration_UntilTag      Minutes from arrival until tagging dbl            
 33  time_error             —                                  dbl            
 34  JOB                    —                                  chr            
 35  exclusionreason        categorizes everyone in shift popn chr            
 36  fltimeerror            —                                  dbl            
 37  flexcodes              —                                  dbl            
 38  fld                    —                                  dbl            
 39  flef                   —                                  dbl            
 40  indups                 —                                  dbl            
 41  er                     —                                  chr            
 42  inwhich                —                                  chr            
 43  encnum                 —                                  dbl            
 44  ID                     ID                                 dbl            
 45  ED_Arrival_Timestamp   ED Arrival Timestamp               dttm           
 46  Sex                    Sex                                chr            
 47  Patient_Age_at_Visit   Patient Age at Visit               chr            
 48  Race                   Race                               chr            
 49  Chief_Complaint        Chief Complaint                    chr            
 50  Acuity                 Acuity                             chr            
 51  Arr_Mode               Arr Mode                           chr            
 52  ED_Departure_Timestamp ED Departure Timestamp             dttm           
 53  ED_Disposition         ED Disposition                     chr            
 54  admitted               % ED Patients Admitted as Inpt or~ chr            
 55  d8ARR                  —                                  date           
 56  d8DEP                  —                                  date           
 57  timeARR                —                                  time           
 58  timeDEP                —                                  time           
 59  daysinED               —                                  dbl            
 60  MinutesInED            —                                  dbl            
 61  AGE                    —                                  dbl            
 62  ILI_Syndrome           ILI Syndrome                       chr            
 63  ILIwMissing            —                                  chr            
 64  hrsinED                —                                  dbl            
 65  timeCoveredbyShift     —                                  chr            
 66  popnFreqbyshift        Frequency Count                    dbl            
 67  shift_num_ampm         —                                  chr            
 68  participantyn          yes(w/events) no(tech issues/no e~ chr            
 69  approached             yes(recorded by volunteers in som~ chr            
 70  Pt_withData            —                                  chr            
 71  partic_if_eligible     partipant, excludes exclusions     chr            
 72  met_exclusion_crit     —                                  chr            
 73  approachedYN           intent to approach unacctd4(no),i~ chr            
 74  Participant_final      patient with data that made it in~ dbl            
 75  dset                   —                                  chr            

[[11]]
 pos variable             label                                col_type values
 1   sid                  SID                                  chr            
 2   numshift             —                                    dbl            
 3   d8                   d8                                   date           
 4   shift_ampm           shift_ampm                           chr            
 5   Reason_shortShift    Reason_shortShift                    chr            
 6   startd8time          —                                    dttm           
 7   endd8time            —                                    dttm           
 8   shift_d8_ampm        —                                    chr            
 9   quarter              1summer 2fall      **correct defini~ dbl            
 10  weekday              —                                    dbl            
 11  H1N1                 —                                    dbl            
 12  ED_ARRIVAL           ED_Arrival                           dttm           
 13  ed_departure         ED_Departure                         dttm           
 14  durationInED         Minutes in ED                        dbl            
 15  duration_UntilTag    Minutes from arrival until tagging   dbl            
 16  Sex                  Sex                                  chr            
 17  Patient_Age_at_Visit Patient Age at Visit                 chr            
 18  Race                 Race                                 chr            
 19  Chief_Complaint      Chief Complaint                      chr            
 20  Acuity               Acuity                               chr            
 21  Arr_Mode             Arr Mode                             chr            
 22  ED_Disposition       ED Disposition                       chr            
 23  daysinED             —                                    dbl            
 24  MinutesInED          —                                    dbl            
 25  AGE                  —                                    dbl            
 26  ILI_Syndrome         ILI Syndrome                         chr            
 27  ILIwMissing          —                                    chr            
 28  hrsinED              —                                    dbl            
 29  timeCoveredbyShift   —                                    chr            
 30  popnFreqbyshift      Frequency Count                      dbl            
 31  shift_num_ampm       —                                    chr            
 32  Participant_final    patient with data that made it into~ dbl            

[[12]]
 pos variable             label                                col_type values
 1   sid                  SID                                  chr            
 2   numshift             —                                    dbl            
 3   shift_ampm           shift_ampm                           chr            
 4   Reason_shortShift    Reason_shortShift                    chr            
 5   startd8time          —                                    dttm           
 6   endd8time            —                                    dttm           
 7   shift_d8_ampm        —                                    chr            
 8   quarter              1summer 2fall      **correct defini~ dbl            
 9   weekday              —                                    dbl            
 10  H1N1                 —                                    dbl            
 11  ED_ARRIVAL           ED_Arrival                           dttm           
 12  ed_departure         ED_Departure                         dttm           
 13  durationInED         Minutes in ED                        dbl            
 14  duration_UntilTag    Minutes from arrival until tagging   dbl            
 15  Sex                  Sex                                  chr            
 16  Patient_Age_at_Visit Patient Age at Visit                 chr            
 17  Race                 Race                                 chr            
 18  Chief_Complaint      Chief Complaint                      chr            
 19  Acuity               Acuity                               chr            
 20  Arr_Mode             Arr Mode                             chr            
 21  ED_Disposition       ED Disposition                       chr            
 22  daysinED             —                                    dbl            
 23  MinutesInED          —                                    dbl            
 24  AGE                  —                                    dbl            
 25  ILI_Syndrome         ILI Syndrome                         chr            
 26  ILIwMissing          —                                    chr            
 27  hrsinED              —                                    dbl            
 28  timeCoveredbyShift   —                                    chr            
 29  popnFreqbyshift      Frequency Count                      dbl            
 30  shift_num_ampm       —                                    chr            
 31  Participant_final    patient with data that made it into~ dbl            </code></pre>
</div>
</div>
</section>
<section id="patient-acuity-pt_acuity" class="level3" data-number="3.1.2">
<h3 data-number="3.1.2" class="anchored" data-anchor-id="patient-acuity-pt_acuity"><span class="header-section-number">3.1.2</span> Patient Acuity: <code>pt_acuity</code></h3>
<p>Read &amp; print patient acuity data in “ACUITY-patients.xlsx,” which is an Excel workbook with 3 sheets.</p>
<div class="cell" data-hash="NACI_DataLog_cache/html/ReadData pt_acuity_e3301d6479f366d31ae9e08fd2d5e219">
<div class="sourceCode" id="cb16"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1e. read 'ACUITY-patients.xlsx</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>pt_acuity <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="fu">paste</span>(data_path, <span class="st">"ACUITY-patients.xlsx"</span>,</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">sep =</span> <span class="st">"/"</span>))</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co"># str(pt_acuity)</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>pt_acuity_s2 <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="fu">paste</span>(data_path, <span class="st">"ACUITY-patients.xlsx"</span>,</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">sep =</span> <span class="st">"/"</span>), <span class="at">sheet =</span> <span class="dv">2</span>, <span class="at">range =</span> <span class="st">"A2:H83"</span>)</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="co"># str(pt_acuity_s2)</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>pt_acuity_s3 <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="fu">paste</span>(data_path, <span class="st">"ACUITY-patients.xlsx"</span>,</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">sep =</span> <span class="st">"/"</span>), <span class="at">sheet =</span> <span class="dv">3</span>, <span class="at">range =</span> <span class="st">"A2:G83"</span>)</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a><span class="co"># str(pt_acuity_s3)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The first sheet lists the number of patients in each ESI acuity level (columns) by shift (rows). The other two sheets appear to be variations of the first.</p>
<div class="cell" data-hash="NACI_DataLog_cache/html/PrintData pt_acuity_84a68faa03e28112ffa15dd849013400">
<div class="sourceCode" id="cb17"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Patient acuity (Emergency Severity Index; ESI) counts by</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="co"># shift</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(pt_acuity))</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Pivot_wider to view number of patients in each ESI</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="co"># category by shift</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>pt_acuity <span class="sc">%&gt;%</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(Acuity) <span class="sc">%&gt;%</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">count</span>(Shift) <span class="sc">%&gt;%</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Acuity, <span class="at">values_from =</span> n) <span class="sc">%&gt;%</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">head</span>() <span class="sc">%&gt;%</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable</span>()</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the first 6 rows of the other two sheets in the</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a><span class="co"># xlsx file</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(pt_acuity_s2))</span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(pt_acuity_s3))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="patient-location-pt_complete" class="level3" data-number="3.1.3">
<h3 data-number="3.1.3" class="anchored" data-anchor-id="patient-location-pt_complete"><span class="header-section-number">3.1.3</span> Patient Location: <code>pt_complete</code></h3>
<p>The SAS data file, “completepat.sas7bdat,” contains RFID badge location (by <em>room number</em>) for all patients each second of every shift. The data were stored in a table that is extremely <strong>wide</strong> (i.e., 1columns), I used <code>pivot_longer()</code> to reshape it by collapsing all location-by-second columns (variables <code>flocX</code>, where <code>X</code> is the shift time in seconds that the respective SID was identified in room number <code>flocX</code>) into two columns, names to <code>seconds</code> and values to <code>location</code>. Note that this creates <strong>many duplicated rows</strong> (i.e., needs filtering).</p>
<div class="cell" data-hash="NACI_DataLog_cache/html/pt_complete_11a5cb0d3a6322351e62be9c86680bf0">
<div class="sourceCode" id="cb18"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. pull 'completepat.sas7bdat' from `sas_data_list` as</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="co"># `tibble()`</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>pt_complete <span class="ot">&lt;-</span> <span class="fu">tibble</span>(sas_data_list[<span class="st">"completepat.sas7bdat"</span>])</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 2a. subset first 10 observations for data transformation</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="co"># code preparation</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>pt_cmplt <span class="ot">&lt;-</span> pt_complete <span class="sc">%&gt;%</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 2a. Pivot the data.frame from wide to long by placing</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># all column names that start with 'floc' into a new</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># column, 'seconds,' and placing respective</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># observations for each 'floc' variable into a</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 'location_num' column</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a><span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">starts_with</span>(<span class="st">"floc"</span>), <span class="at">names_to =</span> <span class="st">"seconds"</span>,</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"location_num"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 2b. Remove the prefix 'floc' from `time_seconds` and</span></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># keep the digits as `seconds`</span></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(<span class="at">seconds =</span> <span class="fu">as.integer</span>(<span class="fu">str_replace</span>(seconds, <span class="st">"floc"</span>, <span class="st">""</span>)),</span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift_num_ampm =</span> <span class="fu">str_trim</span>(shift_num_ampm), <span class="at">shift_num =</span> <span class="fu">as.integer</span>(<span class="fu">str_extract</span>(shift_num_ampm,</span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>        <span class="st">"[:digit:]+"</span>)), <span class="at">am_pm =</span> <span class="fu">str_extract</span>(shift_num_ampm, <span class="st">"am|pm"</span>),</span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">date =</span> <span class="fu">make_date</span>(<span class="at">year =</span> year, <span class="at">month =</span> mon, <span class="at">day =</span> day)) <span class="sc">%&gt;%</span></span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 2c. Filter out all rows for which no location was</span></span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># recorded</span></span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(location))</span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. View data frame dictionary</span></span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a><span class="fu">generate_dictionary</span>(pt_cmplt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="staff-data" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="staff-data"><span class="header-section-number">3.2</span> Staff Data</h2>
<section id="staff-location-staff_complete" class="level3" data-number="3.2.1">
<h3 data-number="3.2.1" class="anchored" data-anchor-id="staff-location-staff_complete"><span class="header-section-number">3.2.1</span> Staff location: <code>staff_complete</code></h3>
<p>The SAS data file, “completestaff.sas7bdat,” contains RFID badge location (by <em>room number</em>) for all staff each second of every shift.</p>
<div class="cell" data-hash="NACI_DataLog_cache/html/staff_complete_10f51e523e0426a2b1db3007b0e91e4a">
<div class="sourceCode" id="cb19"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. pull 'completestaff.sas7bdat' from `sas_data_list` as</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="co"># `tibble()`</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>staff_complete <span class="ot">&lt;-</span> <span class="fu">tibble</span>(sas_data_list[<span class="st">"completestaff.sas7bdat"</span>])</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Use staff_complete to make staff_cmplt for data</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="co"># cleaning &amp; transformation</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>staff_cmplt <span class="ot">&lt;-</span> staff_complete <span class="sc">%&gt;%</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 2a. Pivot the data.frame from wide to long by placing</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># all column names that start with 'floc' into a new</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># column, 'seconds,' and placing respective</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># observations for each 'floc' variable into a</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 'location_num' column</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a><span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">starts_with</span>(<span class="st">"floc"</span>), <span class="at">names_to =</span> <span class="st">"seconds"</span>,</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"location_num"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 2b. Remove the prefix 'floc' from `time_seconds` and</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># keep the digits as `seconds`</span></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(<span class="at">seconds =</span> <span class="fu">as.integer</span>(<span class="fu">str_replace</span>(seconds, <span class="st">"floc"</span>, <span class="st">""</span>)),</span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift_num_ampm =</span> <span class="fu">str_trim</span>(shift_num_ampm), <span class="at">shift_num =</span> <span class="fu">as.integer</span>(<span class="fu">str_extract</span>(shift_num_ampm,</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>        <span class="st">"[:digit:]+"</span>)), <span class="at">am_pm =</span> <span class="fu">str_extract</span>(shift_num_ampm, <span class="st">"am|pm"</span>),</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">date =</span> <span class="fu">make_date</span>(<span class="at">year =</span> year, <span class="at">month =</span> mon, <span class="at">day =</span> day))  <span class="co"># %&gt;% </span></span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a><span class="co"># 2c. Filter out all rows for which no location was</span></span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a><span class="co"># recorded</span></span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(location))</span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. View data frame structure</span></span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a><span class="fu">generate_dictionary</span>(staff_cmplt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
</section>
<section id="sessioninfo" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> SessionInfo</h1>
<div class="cell" data-hash="NACI_DataLog_cache/html/SessionInfo_381e356d142587cb332adc7a7cc1baf1">
<div class="sourceCode" id="cb20"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>sessioninfo<span class="sc">::</span><span class="fu">session_info</span>() <span class="sc">%&gt;%</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    details<span class="sc">::</span><span class="fu">details</span>(<span class="at">summary =</span> <span class="st">"Current session info"</span>, <span class="at">open =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<details closed="">
<summary>
<span title="Click to Expand"> Current session info </span>
</summary>
<div class="sourceCode" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>─ Session info ───────────────────────────────────────────────────────────────</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a> setting  value</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a> version  R version <span class="dv">4</span>.<span class="fl">1.2</span> (<span class="dv">2021-11-01</span>)</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a> os       macOS Big Sur <span class="fl">10.16</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a> system   x86_64, darwin17<span class="fl">.0</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a> ui       X11</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a> <span class="fu">language</span> (EN)</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a> collate  en_US.UTF<span class="dv">-8</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a> ctype    en_US.UTF<span class="dv">-8</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a> tz       America<span class="sc">/</span>New_York</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a> date     <span class="dv">2022-03-16</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a> pandoc   <span class="dv">2</span>.<span class="dv">17</span>.<span class="fl">1.1</span> <span class="sc">@</span> <span class="er">/</span>Applications<span class="sc">/</span>RStudio.app<span class="sc">/</span>Contents<span class="sc">/</span>MacOS<span class="sc">/</span>quarto<span class="sc">/</span>bin<span class="sc">/</span> (via rmarkdown)</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>─ Packages ───────────────────────────────────────────────────────────────────</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a> package     <span class="sc">*</span> version    <span class="fu">date</span> (UTC) lib source</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a> assertthat    <span class="dv">0</span>.<span class="fl">2.1</span>      <span class="dv">2019-03-21</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a> backports     <span class="dv">1</span>.<span class="fl">4.1</span>      <span class="dv">2021-12-13</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a> broom         <span class="dv">0</span>.<span class="fl">7.12</span>     <span class="dv">2022-01-28</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a> cellranger    <span class="dv">1</span>.<span class="fl">1.0</span>      <span class="dv">2016-07-27</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a> cli           <span class="dv">3</span>.<span class="fl">2.0</span>      <span class="dv">2022-02-14</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a> clipr         <span class="dv">0</span>.<span class="fl">8.0</span>      <span class="dv">2022-02-22</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a> codetools     <span class="fl">0.2</span><span class="dv">-18</span>     <span class="dv">2020-11-04</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a> colorspace    <span class="fl">2.0</span><span class="dv">-3</span>      <span class="dv">2022-02-21</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a> crayon        <span class="dv">1</span>.<span class="fl">5.0</span>      <span class="dv">2022-02-14</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a> DBI           <span class="dv">1</span>.<span class="fl">1.2</span>      <span class="dv">2021-12-20</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a> dbplyr        <span class="dv">2</span>.<span class="fl">1.1</span>      <span class="dv">2021-04-06</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true" tabindex="-1"></a> desc          <span class="dv">1</span>.<span class="fl">4.0</span>      <span class="dv">2021-09-28</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true" tabindex="-1"></a> details     <span class="sc">*</span> <span class="dv">0</span>.<span class="fl">2.1</span>      <span class="dv">2020-01-12</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-30"><a href="#cb21-30" aria-hidden="true" tabindex="-1"></a> digest        <span class="dv">0</span>.<span class="fl">6.29</span>     <span class="dv">2021-12-01</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-31"><a href="#cb21-31" aria-hidden="true" tabindex="-1"></a> dplyr       <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">0.8</span>      <span class="dv">2022-02-08</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb21-32"><a href="#cb21-32" aria-hidden="true" tabindex="-1"></a> ellipsis      <span class="dv">0</span>.<span class="fl">3.2</span>      <span class="dv">2021-04-29</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-33"><a href="#cb21-33" aria-hidden="true" tabindex="-1"></a> evaluate      <span class="fl">0.15</span>       <span class="dv">2022-02-18</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb21-34"><a href="#cb21-34" aria-hidden="true" tabindex="-1"></a> fansi         <span class="dv">1</span>.<span class="fl">0.2</span>      <span class="dv">2022-01-14</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb21-35"><a href="#cb21-35" aria-hidden="true" tabindex="-1"></a> fastmap       <span class="dv">1</span>.<span class="fl">1.0</span>      <span class="dv">2021-01-25</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-36"><a href="#cb21-36" aria-hidden="true" tabindex="-1"></a> forcats     <span class="sc">*</span> <span class="dv">0</span>.<span class="fl">5.1</span>      <span class="dv">2021-01-27</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-37"><a href="#cb21-37" aria-hidden="true" tabindex="-1"></a> formatR       <span class="fl">1.11</span>       <span class="dv">2021-06-01</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-38"><a href="#cb21-38" aria-hidden="true" tabindex="-1"></a> fs            <span class="dv">1</span>.<span class="fl">5.2</span>      <span class="dv">2021-12-08</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-39"><a href="#cb21-39" aria-hidden="true" tabindex="-1"></a> generics      <span class="dv">0</span>.<span class="fl">1.2</span>      <span class="dv">2022-01-31</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb21-40"><a href="#cb21-40" aria-hidden="true" tabindex="-1"></a> ggplot2     <span class="sc">*</span> <span class="dv">3</span>.<span class="fl">3.5</span>      <span class="dv">2021-06-25</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-41"><a href="#cb21-41" aria-hidden="true" tabindex="-1"></a> glue          <span class="dv">1</span>.<span class="fl">6.2</span>      <span class="dv">2022-02-24</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb21-42"><a href="#cb21-42" aria-hidden="true" tabindex="-1"></a> gt          <span class="sc">*</span> <span class="dv">0</span>.<span class="fl">4.0</span>      <span class="dv">2022-02-15</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb21-43"><a href="#cb21-43" aria-hidden="true" tabindex="-1"></a> gtable        <span class="dv">0</span>.<span class="fl">3.0</span>      <span class="dv">2019-03-25</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-44"><a href="#cb21-44" aria-hidden="true" tabindex="-1"></a> haven       <span class="sc">*</span> <span class="dv">2</span>.<span class="fl">4.3</span>      <span class="dv">2021-08-04</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-45"><a href="#cb21-45" aria-hidden="true" tabindex="-1"></a> hms           <span class="dv">1</span>.<span class="fl">1.1</span>      <span class="dv">2021-09-26</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-46"><a href="#cb21-46" aria-hidden="true" tabindex="-1"></a> htmltools   <span class="sc">*</span> <span class="dv">0</span>.<span class="fl">5.2</span>      <span class="dv">2021-08-25</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-47"><a href="#cb21-47" aria-hidden="true" tabindex="-1"></a> htmlwidgets   <span class="dv">1</span>.<span class="fl">5.4</span>      <span class="dv">2021-09-08</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-48"><a href="#cb21-48" aria-hidden="true" tabindex="-1"></a> httr          <span class="dv">1</span>.<span class="fl">4.2</span>      <span class="dv">2020-07-20</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-49"><a href="#cb21-49" aria-hidden="true" tabindex="-1"></a> igraph      <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">2.11</span>     <span class="dv">2022-01-04</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb21-50"><a href="#cb21-50" aria-hidden="true" tabindex="-1"></a> jsonlite      <span class="dv">1</span>.<span class="fl">8.0</span>      <span class="dv">2022-02-22</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb21-51"><a href="#cb21-51" aria-hidden="true" tabindex="-1"></a> kableExtra  <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">3.4</span>      <span class="dv">2021-02-20</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-52"><a href="#cb21-52" aria-hidden="true" tabindex="-1"></a> knitr       <span class="sc">*</span> <span class="fl">1.37</span>       <span class="dv">2021-12-16</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-53"><a href="#cb21-53" aria-hidden="true" tabindex="-1"></a> labelled    <span class="sc">*</span> <span class="dv">2</span>.<span class="fl">9.0</span>      <span class="dv">2021-10-29</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-54"><a href="#cb21-54" aria-hidden="true" tabindex="-1"></a> lifecycle     <span class="dv">1</span>.<span class="fl">0.1</span>      <span class="dv">2021-09-24</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-55"><a href="#cb21-55" aria-hidden="true" tabindex="-1"></a> lubridate   <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">8.0</span>      <span class="dv">2021-10-07</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-56"><a href="#cb21-56" aria-hidden="true" tabindex="-1"></a> magrittr      <span class="dv">2</span>.<span class="fl">0.2</span>      <span class="dv">2022-01-26</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb21-57"><a href="#cb21-57" aria-hidden="true" tabindex="-1"></a> modelr        <span class="dv">0</span>.<span class="fl">1.8</span>      <span class="dv">2020-05-19</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-58"><a href="#cb21-58" aria-hidden="true" tabindex="-1"></a> munsell       <span class="dv">0</span>.<span class="fl">5.0</span>      <span class="dv">2018-06-12</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-59"><a href="#cb21-59" aria-hidden="true" tabindex="-1"></a> pillar        <span class="dv">1</span>.<span class="fl">7.0</span>      <span class="dv">2022-02-01</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb21-60"><a href="#cb21-60" aria-hidden="true" tabindex="-1"></a> pkgconfig     <span class="dv">2</span>.<span class="fl">0.3</span>      <span class="dv">2019-09-22</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-61"><a href="#cb21-61" aria-hidden="true" tabindex="-1"></a> png           <span class="fl">0.1</span><span class="dv">-7</span>      <span class="dv">2013-12-03</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-62"><a href="#cb21-62" aria-hidden="true" tabindex="-1"></a> purrr       <span class="sc">*</span> <span class="dv">0</span>.<span class="fl">3.4</span>      <span class="dv">2020-04-17</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-63"><a href="#cb21-63" aria-hidden="true" tabindex="-1"></a> R6            <span class="dv">2</span>.<span class="fl">5.1</span>      <span class="dv">2021-08-19</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-64"><a href="#cb21-64" aria-hidden="true" tabindex="-1"></a> Rcpp          <span class="dv">1</span>.<span class="fl">0.8</span>      <span class="dv">2022-01-13</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb21-65"><a href="#cb21-65" aria-hidden="true" tabindex="-1"></a> readr       <span class="sc">*</span> <span class="dv">2</span>.<span class="fl">1.2</span>      <span class="dv">2022-01-30</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb21-66"><a href="#cb21-66" aria-hidden="true" tabindex="-1"></a> readxl      <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">3.1</span>      <span class="dv">2019-03-13</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-67"><a href="#cb21-67" aria-hidden="true" tabindex="-1"></a> reprex        <span class="dv">2</span>.<span class="fl">0.1</span>      <span class="dv">2021-08-05</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-68"><a href="#cb21-68" aria-hidden="true" tabindex="-1"></a> rlang         <span class="dv">1</span>.<span class="fl">0.1</span>      <span class="dv">2022-02-03</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb21-69"><a href="#cb21-69" aria-hidden="true" tabindex="-1"></a> rmarkdown     <span class="fl">2.11</span>       <span class="dv">2021-09-14</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-70"><a href="#cb21-70" aria-hidden="true" tabindex="-1"></a> rprojroot     <span class="dv">2</span>.<span class="fl">0.2</span>      <span class="dv">2020-11-15</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-71"><a href="#cb21-71" aria-hidden="true" tabindex="-1"></a> rstudioapi    <span class="fl">0.13</span>       <span class="dv">2020-11-12</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-72"><a href="#cb21-72" aria-hidden="true" tabindex="-1"></a> rvest         <span class="dv">1</span>.<span class="fl">0.2</span>      <span class="dv">2021-10-16</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-73"><a href="#cb21-73" aria-hidden="true" tabindex="-1"></a> scales        <span class="dv">1</span>.<span class="fl">1.1</span>      <span class="dv">2020-05-11</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-74"><a href="#cb21-74" aria-hidden="true" tabindex="-1"></a> sessioninfo   <span class="dv">1</span>.<span class="fl">2.2</span>      <span class="dv">2021-12-06</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-75"><a href="#cb21-75" aria-hidden="true" tabindex="-1"></a> stringi       <span class="dv">1</span>.<span class="fl">7.6</span>      <span class="dv">2021-11-29</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-76"><a href="#cb21-76" aria-hidden="true" tabindex="-1"></a> stringr     <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">4.0</span>      <span class="dv">2019-02-10</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-77"><a href="#cb21-77" aria-hidden="true" tabindex="-1"></a> svglite       <span class="dv">2</span>.<span class="fl">1.0</span>      <span class="dv">2022-02-03</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb21-78"><a href="#cb21-78" aria-hidden="true" tabindex="-1"></a> systemfonts   <span class="dv">1</span>.<span class="fl">0.4</span>      <span class="dv">2022-02-11</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb21-79"><a href="#cb21-79" aria-hidden="true" tabindex="-1"></a> tibble      <span class="sc">*</span> <span class="dv">3</span>.<span class="fl">1.6</span>      <span class="dv">2021-11-07</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-80"><a href="#cb21-80" aria-hidden="true" tabindex="-1"></a> tidyr       <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">2.0</span>      <span class="dv">2022-02-01</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb21-81"><a href="#cb21-81" aria-hidden="true" tabindex="-1"></a> tidyselect    <span class="dv">1</span>.<span class="dv">1</span>.<span class="fl">1.9000</span> <span class="dv">2022-03-02</span> [<span class="dv">1</span>] <span class="fu">Github</span> (r<span class="sc">-</span>lib<span class="sc">/</span>tidyselect<span class="sc">@</span><span class="fl">00e8</span>f39)</span>
<span id="cb21-82"><a href="#cb21-82" aria-hidden="true" tabindex="-1"></a> tidyverse   <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">3.1</span>      <span class="dv">2021-04-15</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-83"><a href="#cb21-83" aria-hidden="true" tabindex="-1"></a> tzdb          <span class="dv">0</span>.<span class="fl">2.0</span>      <span class="dv">2021-10-27</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-84"><a href="#cb21-84" aria-hidden="true" tabindex="-1"></a> utf8          <span class="dv">1</span>.<span class="fl">2.2</span>      <span class="dv">2021-07-24</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-85"><a href="#cb21-85" aria-hidden="true" tabindex="-1"></a> vctrs         <span class="dv">0</span>.<span class="dv">3</span>.<span class="fl">8.9001</span> <span class="dv">2022-03-02</span> [<span class="dv">1</span>] <span class="fu">Github</span> (r<span class="sc">-</span>lib<span class="sc">/</span>vctrs<span class="sc">@</span>f0c4ead)</span>
<span id="cb21-86"><a href="#cb21-86" aria-hidden="true" tabindex="-1"></a> viridisLite   <span class="dv">0</span>.<span class="fl">4.0</span>      <span class="dv">2021-04-13</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-87"><a href="#cb21-87" aria-hidden="true" tabindex="-1"></a> webshot       <span class="dv">0</span>.<span class="fl">5.2</span>      <span class="dv">2019-11-22</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-88"><a href="#cb21-88" aria-hidden="true" tabindex="-1"></a> withr         <span class="dv">2</span>.<span class="fl">4.3</span>      <span class="dv">2021-11-30</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-89"><a href="#cb21-89" aria-hidden="true" tabindex="-1"></a> xfun          <span class="fl">0.29</span>       <span class="dv">2021-12-14</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-90"><a href="#cb21-90" aria-hidden="true" tabindex="-1"></a> xml2          <span class="dv">1</span>.<span class="fl">3.3</span>      <span class="dv">2021-11-30</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb21-91"><a href="#cb21-91" aria-hidden="true" tabindex="-1"></a> yaml          <span class="dv">2</span>.<span class="fl">3.5</span>      <span class="dv">2022-02-21</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb21-92"><a href="#cb21-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-93"><a href="#cb21-93" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="sc">/</span>Library<span class="sc">/</span>Frameworks<span class="sc">/</span>R.framework<span class="sc">/</span>Versions<span class="sc">/</span><span class="fl">4.1</span><span class="sc">/</span>Resources<span class="sc">/</span>library</span>
<span id="cb21-94"><a href="#cb21-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-95"><a href="#cb21-95" aria-hidden="true" tabindex="-1"></a>──────────────────────────────────────────────────────────────────────────────</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<p><br></p>
</div>
</div>
<!-- -->
<div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title anchored" id="quarto-embedded-source-code-modal-label" data-anchor-id="sessioninfo">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb22" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Data Log"</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Tommy Flynn"</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="an">bibliography:</span><span class="co"> package_citations.bib</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span><span class="co"> </span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="co">    theme: solar</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="co">    toc-location: left</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: false</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="co">    code-summary: "Show source code"</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a><span class="co">    code-block-bg: true</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a><span class="co">    code-block-border-left: "#31BAE9"</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a><span class="co">    number-sections: true</span></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a><span class="co">    comments:</span></span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a><span class="co">      hypothesis: true</span></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a><span class="an">editor:</span><span class="co"> visual</span></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a><span class="fu"># Setup</span></span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a><span class="in">```{r Knitr Options}</span></span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a><span class="co">#| error: false</span></span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a><span class="co"># set options</span></span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">root.dir =</span> <span class="st">"~/Documents/1_Research/2_Data_Science/0_Projects/1_NACI/Data"</span>,</span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a>                      <span class="at">echo =</span> <span class="cn">TRUE</span>,</span>
<span id="cb22-31"><a href="#cb22-31" aria-hidden="true" tabindex="-1"></a>                      <span class="at">error =</span> <span class="cn">TRUE</span>,</span>
<span id="cb22-32"><a href="#cb22-32" aria-hidden="true" tabindex="-1"></a>                      <span class="at">tidy =</span> <span class="cn">TRUE</span>,</span>
<span id="cb22-33"><a href="#cb22-33" aria-hidden="true" tabindex="-1"></a>                      <span class="at">tidy.opts =</span> <span class="fu">list</span>(<span class="at">width.cutoff =</span> <span class="dv">60</span>),</span>
<span id="cb22-34"><a href="#cb22-34" aria-hidden="true" tabindex="-1"></a>                      <span class="at">message =</span> <span class="cn">FALSE</span>,</span>
<span id="cb22-35"><a href="#cb22-35" aria-hidden="true" tabindex="-1"></a>                      <span class="at">warning =</span> <span class="cn">FALSE</span>,</span>
<span id="cb22-36"><a href="#cb22-36" aria-hidden="true" tabindex="-1"></a>                      <span class="at">cache =</span> <span class="cn">TRUE</span>)</span>
<span id="cb22-37"><a href="#cb22-37" aria-hidden="true" tabindex="-1"></a><span class="co"># options(na.action = na.warn)??</span></span>
<span id="cb22-38"><a href="#cb22-38" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb22-39"><a href="#cb22-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-40"><a href="#cb22-40" aria-hidden="true" tabindex="-1"></a><span class="in">```{r Packages}</span></span>
<span id="cb22-41"><a href="#cb22-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Chunk options:----</span></span>
<span id="cb22-42"><a href="#cb22-42" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb22-43"><a href="#cb22-43" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb22-44"><a href="#cb22-44" aria-hidden="true" tabindex="-1"></a><span class="co"># Packages for reading data from files: ----</span></span>
<span id="cb22-45"><a href="#cb22-45" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb22-46"><a href="#cb22-46" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(haven) <span class="co"># for SAS and SPSS data files (e.g., ".sas7bdat")</span></span>
<span id="cb22-47"><a href="#cb22-47" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl) <span class="co"># for Microsoft Excel spreadsheets</span></span>
<span id="cb22-48"><a href="#cb22-48" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(labelled)</span>
<span id="cb22-49"><a href="#cb22-49" aria-hidden="true" tabindex="-1"></a><span class="co"># Packages for data wrangling &amp; cleaning: ----</span></span>
<span id="cb22-50"><a href="#cb22-50" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co"># set of packages for data import, cleaning, transformation, and analysis from the "Tidyverse"  </span></span>
<span id="cb22-51"><a href="#cb22-51" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate) <span class="co"># working with date-times</span></span>
<span id="cb22-52"><a href="#cb22-52" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(anytime) <span class="co"># data-times</span></span>
<span id="cb22-53"><a href="#cb22-53" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(hms) <span class="co"># times</span></span>
<span id="cb22-54"><a href="#cb22-54" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(forcats) <span class="co"># package for making and working with factors</span></span>
<span id="cb22-55"><a href="#cb22-55" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb22-56"><a href="#cb22-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-57"><a href="#cb22-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-58"><a href="#cb22-58" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(details)</span>
<span id="cb22-59"><a href="#cb22-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-60"><a href="#cb22-60" aria-hidden="true" tabindex="-1"></a><span class="co"># Packages for formatting output with rmarkdown/latex/quarto/knitr/etc. ----</span></span>
<span id="cb22-61"><a href="#cb22-61" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb22-62"><a href="#cb22-62" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(htmltools)</span>
<span id="cb22-63"><a href="#cb22-63" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt) <span class="co"># create and format latex tables</span></span>
<span id="cb22-64"><a href="#cb22-64" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pander) <span class="co"># ????</span></span>
<span id="cb22-65"><a href="#cb22-65" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(printr) <span class="co"># Print R objects in 'knitr' documents nicely see the [(vignette)](https://cran.r-project.org/web/packages/printr/vignettes/printr.html#vignettedataset-lists)  </span></span>
<span id="cb22-66"><a href="#cb22-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-67"><a href="#cb22-67" aria-hidden="true" tabindex="-1"></a><span class="co"># Packages for Analyzing Data ----</span></span>
<span id="cb22-68"><a href="#cb22-68" aria-hidden="true" tabindex="-1"></a><span class="co"># Time series analyses</span></span>
<span id="cb22-69"><a href="#cb22-69" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tseries)</span>
<span id="cb22-70"><a href="#cb22-70" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(xts)</span>
<span id="cb22-71"><a href="#cb22-71" aria-hidden="true" tabindex="-1"></a><span class="co"># Network analyses</span></span>
<span id="cb22-72"><a href="#cb22-72" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb22-73"><a href="#cb22-73" aria-hidden="true" tabindex="-1"></a><span class="co"># Statistics &amp; Models</span></span>
<span id="cb22-74"><a href="#cb22-74" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(modelr) <span class="co"># package for statistical modeling in r</span></span>
<span id="cb22-75"><a href="#cb22-75" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb22-76"><a href="#cb22-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-77"><a href="#cb22-77" aria-hidden="true" tabindex="-1"></a><span class="fu"># Import</span></span>
<span id="cb22-78"><a href="#cb22-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-79"><a href="#cb22-79" aria-hidden="true" tabindex="-1"></a>Create an object that points to the directory (i.e., "\~/project_folder/Data") that contains data. Use that object to print a list of all the data files from the parent study.</span>
<span id="cb22-80"><a href="#cb22-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-81"><a href="#cb22-81" aria-hidden="true" tabindex="-1"></a><span class="in">```{r Data_Directory}</span></span>
<span id="cb22-82"><a href="#cb22-82" aria-hidden="true" tabindex="-1"></a>data_path <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="fu">getwd</span>(), <span class="st">"Data"</span>, <span class="at">sep =</span> <span class="st">"/"</span>)</span>
<span id="cb22-83"><a href="#cb22-83" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb22-84"><a href="#cb22-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-85"><a href="#cb22-85" aria-hidden="true" tabindex="-1"></a><span class="in">```{r All_Files}</span></span>
<span id="cb22-86"><a href="#cb22-86" aria-hidden="true" tabindex="-1"></a><span class="co"># 1.  This code creates two lists for each file type storing data (i.e., .sas7bdat, .xls/.xlsx, and .txt), each list containing; 1) the complete pathnames for all files, and  2) the file names (i.e., without complete path names) for all data files</span></span>
<span id="cb22-87"><a href="#cb22-87" aria-hidden="true" tabindex="-1"></a>all_data_fullpaths <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> data_path,</span>
<span id="cb22-88"><a href="#cb22-88" aria-hidden="true" tabindex="-1"></a>                             <span class="at">pattern =</span> <span class="st">".sas7bdat|.xls|.csv|.txt"</span>,</span>
<span id="cb22-89"><a href="#cb22-89" aria-hidden="true" tabindex="-1"></a>                             <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb22-90"><a href="#cb22-90" aria-hidden="true" tabindex="-1"></a>all_data_filenames <span class="ot">&lt;-</span> <span class="fu">lst</span>(<span class="fu">list.files</span>(<span class="at">path =</span> data_path,</span>
<span id="cb22-91"><a href="#cb22-91" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">pattern =</span> <span class="st">".sas7bdat|.xls|.csv|.txt"</span>,</span>
<span id="cb22-92"><a href="#cb22-92" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">full.names =</span> <span class="cn">FALSE</span>))</span>
<span id="cb22-93"><a href="#cb22-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-94"><a href="#cb22-94" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Now, this prints the names of all the data files by mapping over the list of file names (i.e., not file path names)</span></span>
<span id="cb22-95"><a href="#cb22-95" aria-hidden="true" tabindex="-1"></a><span class="fu">map</span>(all_data_filenames, paste, <span class="at">sep =</span> <span class="st">"/n"</span>)</span>
<span id="cb22-96"><a href="#cb22-96" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb22-97"><a href="#cb22-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-98"><a href="#cb22-98" aria-hidden="true" tabindex="-1"></a><span class="in">```{r SAS_Files}</span></span>
<span id="cb22-99"><a href="#cb22-99" aria-hidden="true" tabindex="-1"></a><span class="co"># Create list of all .sas7bdat (SAS)  file paths and  files names</span></span>
<span id="cb22-100"><a href="#cb22-100" aria-hidden="true" tabindex="-1"></a>sas_data_fullpaths <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> data_path,</span>
<span id="cb22-101"><a href="#cb22-101" aria-hidden="true" tabindex="-1"></a>                             <span class="at">pattern =</span> <span class="st">"*.sas7bdat"</span>,</span>
<span id="cb22-102"><a href="#cb22-102" aria-hidden="true" tabindex="-1"></a>                             <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb22-103"><a href="#cb22-103" aria-hidden="true" tabindex="-1"></a>sas_data_filenames <span class="ot">&lt;-</span> <span class="fu">lst</span>(<span class="fu">list.files</span>(<span class="at">path =</span> data_path,</span>
<span id="cb22-104"><a href="#cb22-104" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">pattern =</span> <span class="st">"*.sas7bdat"</span>,</span>
<span id="cb22-105"><a href="#cb22-105" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">full.names =</span> <span class="cn">FALSE</span>))</span>
<span id="cb22-106"><a href="#cb22-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-107"><a href="#cb22-107" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the names of all .sas7bdat (SAS) files</span></span>
<span id="cb22-108"><a href="#cb22-108" aria-hidden="true" tabindex="-1"></a>sas_data_filenames</span>
<span id="cb22-109"><a href="#cb22-109" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb22-110"><a href="#cb22-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-111"><a href="#cb22-111" aria-hidden="true" tabindex="-1"></a>After removing duplicate data files and files containing data from other studies, there were <span class="in">`r length(sas_data_filenames)`</span> ".sas7bdat" (SAS data) files. The combined size of these files was <span class="in">`r sum(file.size(paste(data_path, sas_data_filenames, sep = "/")))/1000000000`</span> gigabytes.</span>
<span id="cb22-112"><a href="#cb22-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-113"><a href="#cb22-113" aria-hidden="true" tabindex="-1"></a><span class="in">```{r Excel_Files}</span></span>
<span id="cb22-114"><a href="#cb22-114" aria-hidden="true" tabindex="-1"></a><span class="co"># Create list of all .xlsx and .xls (Excel)  file paths and  files names</span></span>
<span id="cb22-115"><a href="#cb22-115" aria-hidden="true" tabindex="-1"></a>xlsx_data_fullpaths <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> data_path,</span>
<span id="cb22-116"><a href="#cb22-116" aria-hidden="true" tabindex="-1"></a>                             <span class="at">pattern =</span> <span class="st">"*.xls"</span>,</span>
<span id="cb22-117"><a href="#cb22-117" aria-hidden="true" tabindex="-1"></a>                             <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb22-118"><a href="#cb22-118" aria-hidden="true" tabindex="-1"></a>xlsx_data_filenames <span class="ot">&lt;-</span> <span class="fu">lst</span>(<span class="fu">list.files</span>(<span class="at">path =</span> data_path,</span>
<span id="cb22-119"><a href="#cb22-119" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">pattern =</span> <span class="st">"*.xls"</span>,</span>
<span id="cb22-120"><a href="#cb22-120" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">full.names =</span> <span class="cn">FALSE</span>))</span>
<span id="cb22-121"><a href="#cb22-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-122"><a href="#cb22-122" aria-hidden="true" tabindex="-1"></a><span class="co"># Print list of all .xlsx (Excel) files</span></span>
<span id="cb22-123"><a href="#cb22-123" aria-hidden="true" tabindex="-1"></a>xlsx_data_filenames</span>
<span id="cb22-124"><a href="#cb22-124" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb22-125"><a href="#cb22-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-126"><a href="#cb22-126" aria-hidden="true" tabindex="-1"></a><span class="in">```{r TXT_files}</span></span>
<span id="cb22-127"><a href="#cb22-127" aria-hidden="true" tabindex="-1"></a><span class="co"># Create list of all .txt file paths and  files names</span></span>
<span id="cb22-128"><a href="#cb22-128" aria-hidden="true" tabindex="-1"></a>txt_data_fullpaths <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> data_path,</span>
<span id="cb22-129"><a href="#cb22-129" aria-hidden="true" tabindex="-1"></a>                             <span class="at">pattern =</span> <span class="st">"*.txt"</span>,</span>
<span id="cb22-130"><a href="#cb22-130" aria-hidden="true" tabindex="-1"></a>                             <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb22-131"><a href="#cb22-131" aria-hidden="true" tabindex="-1"></a>txt_data_filenames <span class="ot">&lt;-</span> <span class="fu">lst</span>(<span class="fu">list.files</span>(<span class="at">path =</span> data_path,</span>
<span id="cb22-132"><a href="#cb22-132" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">pattern =</span> <span class="st">"*.txt"</span>,</span>
<span id="cb22-133"><a href="#cb22-133" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">full.names =</span> <span class="cn">FALSE</span>))</span>
<span id="cb22-134"><a href="#cb22-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-135"><a href="#cb22-135" aria-hidden="true" tabindex="-1"></a><span class="co"># Print list of all .txt filenames</span></span>
<span id="cb22-136"><a href="#cb22-136" aria-hidden="true" tabindex="-1"></a>txt_data_filenames</span>
<span id="cb22-137"><a href="#cb22-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-138"><a href="#cb22-138" aria-hidden="true" tabindex="-1"></a>txt_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(txt_data_filenames)</span>
<span id="cb22-139"><a href="#cb22-139" aria-hidden="true" tabindex="-1"></a>txt_df <span class="ot">&lt;-</span> txt_df <span class="sc">%&gt;%</span> </span>
<span id="cb22-140"><a href="#cb22-140" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">shifts =</span> <span class="fu">as.integer</span>(<span class="fu">str_match</span>(<span class="st">`</span><span class="at">list.files.path...data_path..pattern......txt...full.names...FALSE.</span><span class="st">`</span>, <span class="st">"[:digit:]{2,}"</span>))) <span class="sc">%&gt;%</span> </span>
<span id="cb22-141"><a href="#cb22-141" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(shifts)</span>
<span id="cb22-142"><a href="#cb22-142" aria-hidden="true" tabindex="-1"></a><span class="fu">read_table</span>(<span class="st">"Data/shifts1.txt"</span>, <span class="at">col_names =</span> <span class="fu">c</span>(<span class="st">"month"</span>, <span class="st">"day"</span>))</span>
<span id="cb22-143"><a href="#cb22-143" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb22-144"><a href="#cb22-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-145"><a href="#cb22-145" aria-hidden="true" tabindex="-1"></a><span class="fu"># Wrangle</span></span>
<span id="cb22-146"><a href="#cb22-146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-147"><a href="#cb22-147" aria-hidden="true" tabindex="-1"></a><span class="fu">## Patient Data</span></span>
<span id="cb22-148"><a href="#cb22-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-149"><a href="#cb22-149" aria-hidden="true" tabindex="-1"></a><span class="fu">### Patient IDs/SIDs: `id_sid`</span></span>
<span id="cb22-150"><a href="#cb22-150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-151"><a href="#cb22-151" aria-hidden="true" tabindex="-1"></a>Read &amp; print data from "id_sid_matchup.sas7bdat" &amp; "id_sid_matchup.sas7bdat."</span>
<span id="cb22-152"><a href="#cb22-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-153"><a href="#cb22-153" aria-hidden="true" tabindex="-1"></a><span class="in">```{r ReadData id_sid_matchup}</span></span>
<span id="cb22-154"><a href="#cb22-154" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false  </span></span>
<span id="cb22-155"><a href="#cb22-155" aria-hidden="true" tabindex="-1"></a><span class="co"># 1d. read "id_sid_matchup.sas7bdat" into id_sid and "id_sid_matchup2.sas7bdat" into id_sid2</span></span>
<span id="cb22-156"><a href="#cb22-156" aria-hidden="true" tabindex="-1"></a>id_sid_matchup <span class="ot">&lt;-</span> <span class="fu">read_sas</span>(<span class="fu">paste</span>(data_path, <span class="st">"id_sid_matchup.sas7bdat"</span>, <span class="at">sep =</span> <span class="st">"/"</span>))</span>
<span id="cb22-157"><a href="#cb22-157" aria-hidden="true" tabindex="-1"></a>id_sid_matchup2 <span class="ot">&lt;-</span> <span class="fu">read_sas</span>(<span class="fu">paste</span>(data_path, <span class="st">"id_sid_matchup2.sas7bdat"</span>, <span class="at">sep =</span> <span class="st">"/"</span>))</span>
<span id="cb22-158"><a href="#cb22-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-159"><a href="#cb22-159" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb22-160"><a href="#cb22-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-161"><a href="#cb22-161" aria-hidden="true" tabindex="-1"></a>Import every SAS data file with "patient" or "person" in its name (<span class="in">`haven`</span> library) and print a data dictionary for each file (<span class="in">`labelled`</span> library).</span>
<span id="cb22-162"><a href="#cb22-162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-163"><a href="#cb22-163" aria-hidden="true" tabindex="-1"></a><span class="in">```{r Patient_Data}</span></span>
<span id="cb22-164"><a href="#cb22-164" aria-hidden="true" tabindex="-1"></a><span class="co"># Make a list of filenames with "patient" or "person" in the name</span></span>
<span id="cb22-165"><a href="#cb22-165" aria-hidden="true" tabindex="-1"></a>patient_files <span class="ot">&lt;-</span> <span class="fu">as.list</span>(sas_data_fullpaths[(<span class="fu">str_detect</span>(sas_data_fullpaths, <span class="st">"patient|person"</span>))])</span>
<span id="cb22-166"><a href="#cb22-166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-167"><a href="#cb22-167" aria-hidden="true" tabindex="-1"></a><span class="co"># Use package purrr to import patient_data by iterating over every element of `patient_files` </span></span>
<span id="cb22-168"><a href="#cb22-168" aria-hidden="true" tabindex="-1"></a>patient_data <span class="ot">&lt;-</span> <span class="fu">map</span>(patient_files, read_sas)</span>
<span id="cb22-169"><a href="#cb22-169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-170"><a href="#cb22-170" aria-hidden="true" tabindex="-1"></a><span class="co"># generate a data dictionary with package labelled</span></span>
<span id="cb22-171"><a href="#cb22-171" aria-hidden="true" tabindex="-1"></a><span class="fu">map</span>(patient_data, generate_dictionary)</span>
<span id="cb22-172"><a href="#cb22-172" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb22-173"><a href="#cb22-173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-174"><a href="#cb22-174" aria-hidden="true" tabindex="-1"></a><span class="fu">### Patient Acuity: `pt_acuity`</span></span>
<span id="cb22-175"><a href="#cb22-175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-176"><a href="#cb22-176" aria-hidden="true" tabindex="-1"></a>Read &amp; print patient acuity data in "ACUITY-patients.xlsx," which is an Excel workbook with 3 sheets.</span>
<span id="cb22-177"><a href="#cb22-177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-178"><a href="#cb22-178" aria-hidden="true" tabindex="-1"></a><span class="in">```{r ReadData pt_acuity}</span></span>
<span id="cb22-179"><a href="#cb22-179" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false   </span></span>
<span id="cb22-180"><a href="#cb22-180" aria-hidden="true" tabindex="-1"></a><span class="co"># 1e. read "ACUITY-patients.xlsx</span></span>
<span id="cb22-181"><a href="#cb22-181" aria-hidden="true" tabindex="-1"></a>pt_acuity <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="fu">paste</span>(data_path, <span class="st">"ACUITY-patients.xlsx"</span>, <span class="at">sep =</span> <span class="st">"/"</span>))</span>
<span id="cb22-182"><a href="#cb22-182" aria-hidden="true" tabindex="-1"></a><span class="co"># str(pt_acuity)</span></span>
<span id="cb22-183"><a href="#cb22-183" aria-hidden="true" tabindex="-1"></a>pt_acuity_s2 <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="fu">paste</span>(data_path, <span class="st">"ACUITY-patients.xlsx"</span>, <span class="at">sep =</span> <span class="st">"/"</span>), </span>
<span id="cb22-184"><a href="#cb22-184" aria-hidden="true" tabindex="-1"></a>                          <span class="at">sheet =</span> <span class="dv">2</span>, </span>
<span id="cb22-185"><a href="#cb22-185" aria-hidden="true" tabindex="-1"></a>                          <span class="at">range =</span> <span class="st">"A2:H83"</span>)</span>
<span id="cb22-186"><a href="#cb22-186" aria-hidden="true" tabindex="-1"></a><span class="co"># str(pt_acuity_s2)</span></span>
<span id="cb22-187"><a href="#cb22-187" aria-hidden="true" tabindex="-1"></a>pt_acuity_s3 <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="fu">paste</span>(data_path, <span class="st">"ACUITY-patients.xlsx"</span>, <span class="at">sep =</span> <span class="st">"/"</span>), </span>
<span id="cb22-188"><a href="#cb22-188" aria-hidden="true" tabindex="-1"></a>                          <span class="at">sheet =</span> <span class="dv">3</span>, </span>
<span id="cb22-189"><a href="#cb22-189" aria-hidden="true" tabindex="-1"></a>                          <span class="at">range =</span> <span class="st">"A2:G83"</span>)</span>
<span id="cb22-190"><a href="#cb22-190" aria-hidden="true" tabindex="-1"></a><span class="co"># str(pt_acuity_s3)  </span></span>
<span id="cb22-191"><a href="#cb22-191" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb22-192"><a href="#cb22-192" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-193"><a href="#cb22-193" aria-hidden="true" tabindex="-1"></a>The first sheet lists the number of patients in each ESI acuity level (columns) by shift (rows). The other two sheets appear to be variations of the first.</span>
<span id="cb22-194"><a href="#cb22-194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-195"><a href="#cb22-195" aria-hidden="true" tabindex="-1"></a><span class="in">```{r PrintData pt_acuity}</span></span>
<span id="cb22-196"><a href="#cb22-196" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false  </span></span>
<span id="cb22-197"><a href="#cb22-197" aria-hidden="true" tabindex="-1"></a><span class="co"># Patient acuity (Emergency Severity Index; ESI) counts by shift</span></span>
<span id="cb22-198"><a href="#cb22-198" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(pt_acuity))</span>
<span id="cb22-199"><a href="#cb22-199" aria-hidden="true" tabindex="-1"></a><span class="co"># Pivot_wider to view number of patients in each ESI category by shift</span></span>
<span id="cb22-200"><a href="#cb22-200" aria-hidden="true" tabindex="-1"></a>pt_acuity <span class="sc">%&gt;%</span> </span>
<span id="cb22-201"><a href="#cb22-201" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Acuity) <span class="sc">%&gt;%</span> </span>
<span id="cb22-202"><a href="#cb22-202" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(Shift) <span class="sc">%&gt;%</span> </span>
<span id="cb22-203"><a href="#cb22-203" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Acuity, <span class="at">values_from =</span> n) <span class="sc">%&gt;%</span> </span>
<span id="cb22-204"><a href="#cb22-204" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>() <span class="sc">%&gt;%</span> <span class="fu">kable</span>()</span>
<span id="cb22-205"><a href="#cb22-205" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the first 6 rows of the other two sheets in the xlsx file</span></span>
<span id="cb22-206"><a href="#cb22-206" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(pt_acuity_s2))</span>
<span id="cb22-207"><a href="#cb22-207" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(pt_acuity_s3))</span>
<span id="cb22-208"><a href="#cb22-208" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb22-209"><a href="#cb22-209" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-210"><a href="#cb22-210" aria-hidden="true" tabindex="-1"></a><span class="fu">### Patient Location: `pt_complete`</span></span>
<span id="cb22-211"><a href="#cb22-211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-212"><a href="#cb22-212" aria-hidden="true" tabindex="-1"></a>The SAS data file, "completepat.sas7bdat," contains RFID badge location (by *room number*) for all patients each second of every shift. The data were stored in a table that is extremely **wide** (i.e., `r length(patient_files["completepat.sas7bdat"])`columns), I used `pivot_longer()` to reshape it by collapsing all location-by-second columns (variables `flocX`, where `X` is the shift time in seconds that the respective SID was identified in room number `flocX`) into two columns, names to `seconds` and values to `location`. Note that this creates **many duplicated rows** (i.e., needs filtering).</span>
<span id="cb22-213"><a href="#cb22-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-214"><a href="#cb22-214" aria-hidden="true" tabindex="-1"></a><span class="in">```{r pt_complete}</span></span>
<span id="cb22-215"><a href="#cb22-215" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false  </span></span>
<span id="cb22-216"><a href="#cb22-216" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. pull "completepat.sas7bdat" from `sas_data_list` as `tibble()`</span></span>
<span id="cb22-217"><a href="#cb22-217" aria-hidden="true" tabindex="-1"></a>pt_complete <span class="ot">&lt;-</span> <span class="fu">tibble</span>(sas_data_list[<span class="st">"completepat.sas7bdat"</span>])</span>
<span id="cb22-218"><a href="#cb22-218" aria-hidden="true" tabindex="-1"></a><span class="co"># 2a. subset first 10 observations for data transformation code preparation</span></span>
<span id="cb22-219"><a href="#cb22-219" aria-hidden="true" tabindex="-1"></a>pt_cmplt <span class="ot">&lt;-</span> pt_complete <span class="sc">%&gt;%</span> </span>
<span id="cb22-220"><a href="#cb22-220" aria-hidden="true" tabindex="-1"></a><span class="co"># 2a. Pivot the data.frame from wide to long by placing all column names that start with "floc" into a new column, "seconds," and placing respective observations for each "floc" variable into a "location_num" column</span></span>
<span id="cb22-221"><a href="#cb22-221" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">starts_with</span>(<span class="st">"floc"</span>), <span class="at">names_to =</span> <span class="st">"seconds"</span>, <span class="at">values_to =</span> <span class="st">"location_num"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb22-222"><a href="#cb22-222" aria-hidden="true" tabindex="-1"></a><span class="co"># 2b. Remove the prefix "floc" from `time_seconds` and keep the digits as `seconds`</span></span>
<span id="cb22-223"><a href="#cb22-223" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">seconds =</span> <span class="fu">as.integer</span>(<span class="fu">str_replace</span>(seconds, <span class="st">"floc"</span>, <span class="st">""</span>)), </span>
<span id="cb22-224"><a href="#cb22-224" aria-hidden="true" tabindex="-1"></a>         <span class="at">shift_num_ampm =</span> <span class="fu">str_trim</span>(shift_num_ampm),</span>
<span id="cb22-225"><a href="#cb22-225" aria-hidden="true" tabindex="-1"></a>         <span class="at">shift_num =</span> <span class="fu">as.integer</span>(<span class="fu">str_extract</span>(shift_num_ampm, <span class="st">"[:digit:]+"</span>)),</span>
<span id="cb22-226"><a href="#cb22-226" aria-hidden="true" tabindex="-1"></a>         <span class="at">am_pm =</span> <span class="fu">str_extract</span>(shift_num_ampm, <span class="st">"am|pm"</span>),</span>
<span id="cb22-227"><a href="#cb22-227" aria-hidden="true" tabindex="-1"></a>         <span class="at">date =</span> <span class="fu">make_date</span>(<span class="at">year =</span> year, <span class="at">month =</span> mon, <span class="at">day =</span> day)) <span class="sc">%&gt;%</span> </span>
<span id="cb22-228"><a href="#cb22-228" aria-hidden="true" tabindex="-1"></a><span class="co"># 2c. Filter out all rows for which no location was recorded</span></span>
<span id="cb22-229"><a href="#cb22-229" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(location))</span>
<span id="cb22-230"><a href="#cb22-230" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-231"><a href="#cb22-231" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. View data frame dictionary  </span></span>
<span id="cb22-232"><a href="#cb22-232" aria-hidden="true" tabindex="-1"></a><span class="fu">generate_dictionary</span>(pt_cmplt)</span>
<span id="cb22-233"><a href="#cb22-233" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-234"><a href="#cb22-234" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb22-235"><a href="#cb22-235" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-236"><a href="#cb22-236" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-237"><a href="#cb22-237" aria-hidden="true" tabindex="-1"></a><span class="fu">## Staff Data</span></span>
<span id="cb22-238"><a href="#cb22-238" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-239"><a href="#cb22-239" aria-hidden="true" tabindex="-1"></a><span class="fu">### Staff location: `staff_complete`</span></span>
<span id="cb22-240"><a href="#cb22-240" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-241"><a href="#cb22-241" aria-hidden="true" tabindex="-1"></a>The SAS data file, "completestaff.sas7bdat," contains RFID badge location (by *room number*) for all staff each second of every shift.</span>
<span id="cb22-242"><a href="#cb22-242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-243"><a href="#cb22-243" aria-hidden="true" tabindex="-1"></a><span class="in">```{r staff_complete}</span></span>
<span id="cb22-244"><a href="#cb22-244" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false  </span></span>
<span id="cb22-245"><a href="#cb22-245" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. pull "completestaff.sas7bdat" from `sas_data_list` as `tibble()` </span></span>
<span id="cb22-246"><a href="#cb22-246" aria-hidden="true" tabindex="-1"></a>staff_complete <span class="ot">&lt;-</span> <span class="fu">tibble</span>(sas_data_list[<span class="st">"completestaff.sas7bdat"</span>])</span>
<span id="cb22-247"><a href="#cb22-247" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Use staff_complete to make staff_cmplt for data cleaning &amp; transformation </span></span>
<span id="cb22-248"><a href="#cb22-248" aria-hidden="true" tabindex="-1"></a>staff_cmplt <span class="ot">&lt;-</span> staff_complete <span class="sc">%&gt;%</span> </span>
<span id="cb22-249"><a href="#cb22-249" aria-hidden="true" tabindex="-1"></a>  <span class="co"># 2a. Pivot the data.frame from wide to long by placing all column names that start with "floc" into a new column, "seconds," and placing respective observations for each "floc" variable into a "location_num" column</span></span>
<span id="cb22-250"><a href="#cb22-250" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">starts_with</span>(<span class="st">"floc"</span>), <span class="at">names_to =</span> <span class="st">"seconds"</span>, <span class="at">values_to =</span> <span class="st">"location_num"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb22-251"><a href="#cb22-251" aria-hidden="true" tabindex="-1"></a>  <span class="co"># 2b. Remove the prefix "floc" from `time_seconds` and keep the digits as `seconds`</span></span>
<span id="cb22-252"><a href="#cb22-252" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">seconds =</span> <span class="fu">as.integer</span>(<span class="fu">str_replace</span>(seconds, <span class="st">"floc"</span>, <span class="st">""</span>)), </span>
<span id="cb22-253"><a href="#cb22-253" aria-hidden="true" tabindex="-1"></a>         <span class="at">shift_num_ampm =</span> <span class="fu">str_trim</span>(shift_num_ampm),</span>
<span id="cb22-254"><a href="#cb22-254" aria-hidden="true" tabindex="-1"></a>         <span class="at">shift_num =</span> <span class="fu">as.integer</span>(<span class="fu">str_extract</span>(shift_num_ampm, <span class="st">"[:digit:]+"</span>)),</span>
<span id="cb22-255"><a href="#cb22-255" aria-hidden="true" tabindex="-1"></a>         <span class="at">am_pm =</span> <span class="fu">str_extract</span>(shift_num_ampm, <span class="st">"am|pm"</span>),</span>
<span id="cb22-256"><a href="#cb22-256" aria-hidden="true" tabindex="-1"></a>         <span class="at">date =</span> <span class="fu">make_date</span>(<span class="at">year =</span> year, <span class="at">month =</span> mon, <span class="at">day =</span> day)) <span class="co"># %&gt;% </span></span>
<span id="cb22-257"><a href="#cb22-257" aria-hidden="true" tabindex="-1"></a>  <span class="co"># 2c. Filter out all rows for which no location was recorded</span></span>
<span id="cb22-258"><a href="#cb22-258" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(location))</span>
<span id="cb22-259"><a href="#cb22-259" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-260"><a href="#cb22-260" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. View data frame structure</span></span>
<span id="cb22-261"><a href="#cb22-261" aria-hidden="true" tabindex="-1"></a><span class="fu">generate_dictionary</span>(staff_cmplt)</span>
<span id="cb22-262"><a href="#cb22-262" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb22-263"><a href="#cb22-263" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-264"><a href="#cb22-264" aria-hidden="true" tabindex="-1"></a><span class="fu"># SessionInfo</span></span>
<span id="cb22-265"><a href="#cb22-265" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-266"><a href="#cb22-266" aria-hidden="true" tabindex="-1"></a><span class="in">```{r SessionInfo}</span></span>
<span id="cb22-267"><a href="#cb22-267" aria-hidden="true" tabindex="-1"></a>sessioninfo<span class="sc">::</span><span class="fu">session_info</span>()<span class="sc">%&gt;%</span></span>
<span id="cb22-268"><a href="#cb22-268" aria-hidden="true" tabindex="-1"></a>  details<span class="sc">::</span><span class="fu">details</span>(</span>
<span id="cb22-269"><a href="#cb22-269" aria-hidden="true" tabindex="-1"></a>    <span class="at">summary =</span> <span class="st">'Current session info'</span>,</span>
<span id="cb22-270"><a href="#cb22-270" aria-hidden="true" tabindex="-1"></a>    <span class="at">open    =</span> <span class="cn">FALSE</span></span>
<span id="cb22-271"><a href="#cb22-271" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb22-272"><a href="#cb22-272" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</section>
</main>
<!-- /main column -->
<script type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    setTimeout(function() {
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->


</body></html>