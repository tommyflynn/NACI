<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
  <meta charset="utf-8">
  <meta name="generator" content="quarto-0.9.93">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <meta name="author" content="Tommy Flynn">
  <title>Data Log</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>

  <script src="NACI_DataLog_files/libs/clipboard/clipboard.min.js"></script>
  <script src="NACI_DataLog_files/libs/quarto-html/quarto.js"></script>
  <script src="NACI_DataLog_files/libs/quarto-html/popper.min.js"></script>
  <script src="NACI_DataLog_files/libs/quarto-html/tippy.umd.min.js"></script>
  <script src="NACI_DataLog_files/libs/quarto-html/anchor.min.js"></script>
  <link href="NACI_DataLog_files/libs/quarto-html/tippy.css" rel="stylesheet">
  <link href="NACI_DataLog_files/libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet">
  <script src="NACI_DataLog_files/libs/bootstrap/bootstrap.min.js"></script>
  <link href="NACI_DataLog_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
  <link href="NACI_DataLog_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet">
  <script async="" src="https://hypothes.is/embed.js"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc">
<h2 id="toc-title">Table of contents</h2>
<ul>
<li><a href="#setup-document-and-data-directories" class="nav-link active" data-scroll-target="#setup-document-and-data-directories"> <span class="header-section-number">1</span> Setup Document and Data Directories</a>
<ul class="collapse">
<li><a href="#set-chunk-options" class="nav-link" data-scroll-target="#set-chunk-options"> <span class="header-section-number">1.1</span> Set chunk options</a></li>
<li><a href="#load-packages" class="nav-link" data-scroll-target="#load-packages"> <span class="header-section-number">1.2</span> Load packages</a></li>
<li><a href="#data-directory-list-of-files" class="nav-link" data-scroll-target="#data-directory-list-of-files"> <span class="header-section-number">1.3</span> Data Directory &amp; List of Files</a></li>
</ul></li>
<li><a href="#data-import-cleaning" class="nav-link" data-scroll-target="#data-import-cleaning"> <span class="header-section-number">2</span> Data Import &amp; Cleaning</a>
<ul class="collapse">
<li><a href="#patients" class="nav-link" data-scroll-target="#patients"> <span class="header-section-number">2.1</span> Patients</a>
<ul class="collapse">
<li><a href="#patient-id-to-rfid-badge-sid-key-id_sid" class="nav-link" data-scroll-target="#patient-id-to-rfid-badge-sid-key-id_sid"> <span class="header-section-number">2.1.1</span> Patient ID to RFID badge SID key: <code>id_sid</code></a></li>
<li><a href="#patient-attributes" class="nav-link" data-scroll-target="#patient-attributes"> <span class="header-section-number">2.1.2</span> Patient attributes</a></li>
<li><a href="#patient-acuity-pt_acuity" class="nav-link" data-scroll-target="#patient-acuity-pt_acuity"> <span class="header-section-number">2.1.3</span> Patient Acuity: <code>pt_acuity</code></a></li>
<li><a href="#patient-location-dataset-pt_complete" class="nav-link" data-scroll-target="#patient-location-dataset-pt_complete"> <span class="header-section-number">2.1.4</span> Patient Location Dataset: <code>pt_complete</code></a></li>
</ul></li>
<li><a href="#staff-data" class="nav-link" data-scroll-target="#staff-data"> <span class="header-section-number">2.2</span> Staff Data</a>
<ul class="collapse">
<li><a href="#staff-location-staff_complete" class="nav-link" data-scroll-target="#staff-location-staff_complete"> <span class="header-section-number">2.2.1</span> Staff location: <code>staff_complete</code></a></li>
<li><a href="#list-of-rfid-badge-encounters-i.e.-clinical-interactions-as-vertices-edge_list" class="nav-link" data-scroll-target="#list-of-rfid-badge-encounters-i.e.-clinical-interactions-as-vertices-edge_list"> <span class="header-section-number">2.2.2</span> List of RFID badge encounters (i.e., clinical interactions) as vertices: <code>edge_list</code></a></li>
</ul></li>
<li><a href="#ed-geography" class="nav-link" data-scroll-target="#ed-geography"> <span class="header-section-number">2.3</span> ED Geography</a></li>
</ul></li>
<li><a href="#sessioninfo" class="nav-link" data-scroll-target="#sessioninfo"> <span class="header-section-number">3</span> SessionInfo</a></li>
</ul>
</nav>
</div>
<main class="content" id="quarto-document-content">
<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title-block"><div><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>

<div class="quarto-title"><h1 class="title">Data Log</h1></div><div class="quarto-title-meta"><div><div class="quarto-title-meta-heading">Author</div><div class="quarto-title-meta-contents"><div class="quarto-title-authors"><p>Tommy Flynn</p></div></div></div></div></header>

<section id="setup-document-and-data-directories" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Setup Document and Data Directories</h1>
<section id="set-chunk-options" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="set-chunk-options"><span class="header-section-number">1.1</span> Set chunk options</h2>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># set options</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># This is an example setup chunk from the N741 project</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(knitr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stderr">
<pre><code>Loading required package: knitr</code></pre>
</div>
<div class="sourceCode" id="cb3"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">root.dir =</span> <span class="st">"~/Documents/1_Research/2_Data_Science/0_Projects/1_NACI/Data"</span>,</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>                      <span class="at">echo =</span> <span class="cn">TRUE</span>,</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">error =</span> <span class="cn">TRUE</span>,</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>                      <span class="at">tidy =</span> <span class="cn">TRUE</span>,</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>                      <span class="at">tidy.opts =</span> <span class="fu">list</span>(<span class="at">width.cutoff =</span> <span class="dv">60</span>),</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>                      <span class="at">message =</span> <span class="cn">FALSE</span>,</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>                      <span class="at">warning =</span> <span class="cn">FALSE</span>,</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>                      <span class="at">cache =</span> <span class="cn">TRUE</span>)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="co"># options(na.action = na.warn)??</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="load-packages" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="load-packages"><span class="header-section-number">1.2</span> Load packages</h2>
<div class="cell" data-hash="NACI_DataLog_cache/html/Library_d67e6387fa9ae6defb616199d2100249">
<div class="sourceCode" id="cb4"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load packages library(igraph) # package for working with</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co"># and visualizing network analysis objectve</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(haven)  <span class="co"># package for importing SAS data files (i.e., '.sas7bdat')</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)  <span class="co"># set of packages for data import, cleaning, transformation, and analysis from the 'Tidyverse'  </span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co"># library(gt) # package for creating and formatting latex</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="co"># tables</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)  <span class="co"># package for working with date data</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="co"># library(pander) # ????</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(printr)  <span class="co"># Print R objects in 'knitr' documents nicely see the [vignette](https://cran.r-project.org/web/packages/printr/vignettes/printr.html#vignettedataset-lists)  </span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="co"># library(forcats) # package for making and working with</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="co"># factors library(modelr) # package for statistical</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="co"># modeling in r</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(labelled)</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(details)</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(htmltools)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="data-directory-list-of-files" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="data-directory-list-of-files"><span class="header-section-number">1.3</span> Data Directory &amp; List of Files</h2>
<p>Make a path object for the data directory and print a list of all data files ::: {.cell hash=‘NACI_DataLog_cache/html/Data Directory_350df95bf2b175788679cd48cf01aff7’}</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>data_path <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="fu">getwd</span>(), <span class="st">"Data"</span>, <span class="at">sep =</span> <span class="st">"/"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>:::</p>
<p>Data files are stored in /Users/tommy-two/Documents/1_Research/2_Data_Science/0_Projects/1_NACI/Data.</p>
<div class="cell" data-hash="NACI_DataLog_cache/html/Data Files_e8edb611cfea660e5947a1c77f8cac28">
<div class="sourceCode" id="cb6"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># kable(tibble(list.files(data_path)), caption = 'List of</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Datasets (filenames)')</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>data_files <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> data_path, <span class="at">pattern =</span> <span class="st">"*.sas7bdat"</span>,</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>data_filenames <span class="ot">&lt;-</span> <span class="fu">as.list</span>(<span class="fu">list.files</span>(<span class="at">path =</span> data_path, <span class="at">pattern =</span> <span class="st">"*.sas7bdat"</span>,</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">full.names =</span> <span class="cn">FALSE</span>))</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="fu">map</span>(data_filenames, print)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>[1] "allshifts_edges.sas7bdat"
[1] "allstaff_numbyshift.sas7bdat"
[1] "censusmax_perperson.sas7bdat"
[1] "centrality_measures.sas7bdat"
[1] "clusterboot_patient.sas7bdat"
[1] "clusterboot_staff.sas7bdat"
[1] "clusterboot.sas7bdat"
[1] "combined35a_halfyr4.sas7bdat"
[1] "completepat.sas7bdat"
[1] "completepat2.sas7bdat"
[1] "completestaff.sas7bdat"
[1] "completestaff2.sas7bdat"
[1] "count_rooms_used.sas7bdat"
[1] "count_rooms_used2.sas7bdat"
[1] "countspershift.sas7bdat"
[1] "date_shiftnum.sas7bdat"
[1] "degree_by_edgetype.sas7bdat"
[1] "degree_pp_resid.sas7bdat"
[1] "degree_ps_resid.sas7bdat"
[1] "degree_pscat_resid.sas7bdat"
[1] "degreepscat_resids.sas7bdat"
[1] "edges_all_allshifts.sas7bdat"
[1] "edges_shift19.sas7bdat"
[1] "edges2.sas7bdat"
[1] "eventfile_long2.sas7bdat"
[1] "eventfile_long6944_noduploc.sas7bdat"
[1] "events_notunique_persid.sas7bdat"
[1] "events_uniquepersid.sas7bdat"
[1] "events_uniquepersid2.sas7bdat"
[1] "excessiveroomchanges.sas7bdat"
[1] "finalsids6944.sas7bdat"
[1] "flynn_eventfile.sas7bdat"
[1] "id_sid_matchup.sas7bdat"
[1] "id_sid_matchup2.sas7bdat"
[1] "location_categories_list.sas7bdat"
[1] "location_definitions.sas7bdat"
[1] "locationslist.sas7bdat"
[1] "lone_all_allshifts.sas7bdat"
[1] "network_allshifts.sas7bdat"
[1] "network_wts_bycombo.sas7bdat"
[1] "network_wts_overall_nolone.sas7bdat"
[1] "network_wts_overall.sas7bdat"
[1] "networkall_freqbyd8.sas7bdat"
[1] "networkall_summary.sas7bdat"
[1] "nodelevel_all_19_halfyr_patients.sas7bdat"
[1] "nodelevel_all_19_halfyr_staff.sas7bdat"
[1] "nodelevel_all_19_halfyr.sas7bdat"
[1] "nodup.sas7bdat"
[1] "participationrates.sas7bdat"
[1] "patients_in_completepat.sas7bdat"
[1] "patients_notapproached.sas7bdat"
[1] "patients_participating.sas7bdat"
[1] "Patients_population.sas7bdat"
[1] "patients_population2.sas7bdat"
[1] "patients_populationwithsyndrome.sas7bdat"
[1] "person_dataset.sas7bdat"
[1] "popn_patients_our_shifts7.sas7bdat"
[1] "popn_pts_our_shifts_freqbyd8.sas7bdat"
[1] "population_35shifts.sas7bdat"
[1] "population_first35shifts.sas7bdat"
[1] "staff_in_edgefile2012june.sas7bdat"
[1] "staffsids_in_eventfile.sas7bdat"
[1] "tommy_edges_2009.sas7bdat"
[1] "tommy_edges_shift10_19.sas7bdat"
[1] "tommy_nodes_2009.sas7bdat"
[1] "tommy_nodes_shift10_19.sas7bdat"
[1] "tommyflynn_patient_info_2009.sas7bdat"
[1] "tommyflynn_patient_info.sas7bdat"
[1] "wdegree_bytype.sas7bdat"</code></pre>
</div>
<div class="cell-output-stdout">
<pre><code>[[1]]
[1] "allshifts_edges.sas7bdat"

[[2]]
[1] "allstaff_numbyshift.sas7bdat"

[[3]]
[1] "censusmax_perperson.sas7bdat"

[[4]]
[1] "centrality_measures.sas7bdat"

[[5]]
[1] "clusterboot_patient.sas7bdat"

[[6]]
[1] "clusterboot_staff.sas7bdat"

[[7]]
[1] "clusterboot.sas7bdat"

[[8]]
[1] "combined35a_halfyr4.sas7bdat"

[[9]]
[1] "completepat.sas7bdat"

[[10]]
[1] "completepat2.sas7bdat"

[[11]]
[1] "completestaff.sas7bdat"

[[12]]
[1] "completestaff2.sas7bdat"

[[13]]
[1] "count_rooms_used.sas7bdat"

[[14]]
[1] "count_rooms_used2.sas7bdat"

[[15]]
[1] "countspershift.sas7bdat"

[[16]]
[1] "date_shiftnum.sas7bdat"

[[17]]
[1] "degree_by_edgetype.sas7bdat"

[[18]]
[1] "degree_pp_resid.sas7bdat"

[[19]]
[1] "degree_ps_resid.sas7bdat"

[[20]]
[1] "degree_pscat_resid.sas7bdat"

[[21]]
[1] "degreepscat_resids.sas7bdat"

[[22]]
[1] "edges_all_allshifts.sas7bdat"

[[23]]
[1] "edges_shift19.sas7bdat"

[[24]]
[1] "edges2.sas7bdat"

[[25]]
[1] "eventfile_long2.sas7bdat"

[[26]]
[1] "eventfile_long6944_noduploc.sas7bdat"

[[27]]
[1] "events_notunique_persid.sas7bdat"

[[28]]
[1] "events_uniquepersid.sas7bdat"

[[29]]
[1] "events_uniquepersid2.sas7bdat"

[[30]]
[1] "excessiveroomchanges.sas7bdat"

[[31]]
[1] "finalsids6944.sas7bdat"

[[32]]
[1] "flynn_eventfile.sas7bdat"

[[33]]
[1] "id_sid_matchup.sas7bdat"

[[34]]
[1] "id_sid_matchup2.sas7bdat"

[[35]]
[1] "location_categories_list.sas7bdat"

[[36]]
[1] "location_definitions.sas7bdat"

[[37]]
[1] "locationslist.sas7bdat"

[[38]]
[1] "lone_all_allshifts.sas7bdat"

[[39]]
[1] "network_allshifts.sas7bdat"

[[40]]
[1] "network_wts_bycombo.sas7bdat"

[[41]]
[1] "network_wts_overall_nolone.sas7bdat"

[[42]]
[1] "network_wts_overall.sas7bdat"

[[43]]
[1] "networkall_freqbyd8.sas7bdat"

[[44]]
[1] "networkall_summary.sas7bdat"

[[45]]
[1] "nodelevel_all_19_halfyr_patients.sas7bdat"

[[46]]
[1] "nodelevel_all_19_halfyr_staff.sas7bdat"

[[47]]
[1] "nodelevel_all_19_halfyr.sas7bdat"

[[48]]
[1] "nodup.sas7bdat"

[[49]]
[1] "participationrates.sas7bdat"

[[50]]
[1] "patients_in_completepat.sas7bdat"

[[51]]
[1] "patients_notapproached.sas7bdat"

[[52]]
[1] "patients_participating.sas7bdat"

[[53]]
[1] "Patients_population.sas7bdat"

[[54]]
[1] "patients_population2.sas7bdat"

[[55]]
[1] "patients_populationwithsyndrome.sas7bdat"

[[56]]
[1] "person_dataset.sas7bdat"

[[57]]
[1] "popn_patients_our_shifts7.sas7bdat"

[[58]]
[1] "popn_pts_our_shifts_freqbyd8.sas7bdat"

[[59]]
[1] "population_35shifts.sas7bdat"

[[60]]
[1] "population_first35shifts.sas7bdat"

[[61]]
[1] "staff_in_edgefile2012june.sas7bdat"

[[62]]
[1] "staffsids_in_eventfile.sas7bdat"

[[63]]
[1] "tommy_edges_2009.sas7bdat"

[[64]]
[1] "tommy_edges_shift10_19.sas7bdat"

[[65]]
[1] "tommy_nodes_2009.sas7bdat"

[[66]]
[1] "tommy_nodes_shift10_19.sas7bdat"

[[67]]
[1] "tommyflynn_patient_info_2009.sas7bdat"

[[68]]
[1] "tommyflynn_patient_info.sas7bdat"

[[69]]
[1] "wdegree_bytype.sas7bdat"</code></pre>
</div>
<div class="sourceCode" id="cb9"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Iterate over SAS data files in `data_files` and read all</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co"># data into a new list of dfs, `data_list` data_list &lt;-</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co"># map(data_files, read_sas) Iterate over all dfs in</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co"># data_list, print a glimpse of each map(data_list,</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co"># glimpse)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="data-import-cleaning" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Data Import &amp; Cleaning</h1>
<section id="patients" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="patients"><span class="header-section-number">2.1</span> Patients</h2>
<section id="patient-id-to-rfid-badge-sid-key-id_sid" class="level3" data-number="2.1.1">
<h3 data-number="2.1.1" class="anchored" data-anchor-id="patient-id-to-rfid-badge-sid-key-id_sid"><span class="header-section-number">2.1.1</span> Patient ID to RFID badge SID key: <code>id_sid</code></h3>
<p>Read &amp; print data from “id_sid_matchup.sas7bdat” &amp; “id_sid_matchup.sas7bdat.”</p>
<div class="cell" data-hash="NACI_DataLog_cache/html/ReadData id_sid_f274ff4f5e43707e57a1b5df51e309fc">
<div class="sourceCode" id="cb10"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1d. read 'id_sid_matchup.sas7bdat' into id_sid and</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 'id_sid_matchup2.sas7bdat' into id_sid2</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>id_sid <span class="ot">&lt;-</span> <span class="fu">read_sas</span>(<span class="fu">paste</span>(data_path, <span class="st">"id_sid_matchup.sas7bdat"</span>,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">sep =</span> <span class="st">"/"</span>))</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>id_sid2 <span class="ot">&lt;-</span> <span class="fu">read_sas</span>(<span class="fu">paste</span>(data_path, <span class="st">"id_sid_matchup2.sas7bdat"</span>,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">sep =</span> <span class="st">"/"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="NACI_DataLog_cache/html/PrintData id_sid_77916082d2a324b3ad36fed2be912b85">
<div class="sourceCode" id="cb11"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the first 6 rows of id_sid</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(id_sid))</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the first 6 rows of id_sid2</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(id_sid2))</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Print variable labels</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>idsid_varbles <span class="ot">&lt;-</span> <span class="fu">var_label</span>(id_sid)</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>idsid2_varbles <span class="ot">&lt;-</span> <span class="fu">var_label</span>(id_sid2)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>idsid_labeltable <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="fu">names</span>(idsid_varbles), idsid_varbles,</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">sep =</span> <span class="st">": "</span>)</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">tibble</span>(idsid_labeltable))</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>idsid2_labeltable <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="fu">names</span>(idsid2_varbles), idsid2_varbles,</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">sep =</span> <span class="st">": "</span>)</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">tibble</span>(idsid2_labeltable))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="patient-attributes" class="level3" data-number="2.1.2">
<h3 data-number="2.1.2" class="anchored" data-anchor-id="patient-attributes"><span class="header-section-number">2.1.2</span> Patient attributes</h3>
<p>Read all SAS data files and print a glimpse of each.</p>
<div class="cell" data-hash="NACI_DataLog_cache/html/Patient info_5471e2edee0faeb21fd3392259a97e31">
<div class="sourceCode" id="cb12"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>patient_files <span class="ot">&lt;-</span> <span class="fu">as.list</span>(data_files[(<span class="fu">str_detect</span>(data_files, <span class="st">"patient|person"</span>))])</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">map</span>(patient_files, <span class="fu">c</span>(read_sas, head, glimpse))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stdout">
<pre><code>Rows: 6
Columns: 3
$ SHIFT_NUM           &lt;dbl&gt; 1, 1, 1, 1, 1, 1
$ SID                 &lt;chr&gt; "0002d045", "0002d078", "0002d098", "0002d10b", "0…
$ censusMax_perPerson &lt;dbl&gt; 53, 41, 53, 53, 53, 46
Rows: 6
Columns: 86
$ sid                      &lt;chr&gt; "0021159c", "00215d4b", "00215d82", "00215da0…
$ d8                       &lt;date&gt; 2009-07-31, 2009-07-31, 2009-07-31, 2009-07-…
$ duration_observed        &lt;dbl&gt; 252.9667, 453.0000, 96.0000, 127.9000, 77.000…
$ censusmax_perperson      &lt;dbl&gt; 35, 38, 31, 38, 31, 38
$ censusmedian_perperson   &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ censusmean_perperson     &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ shift_num                &lt;dbl&gt; 23, 23, 23, 23, 23, 23
$ shiftlength              &lt;dbl&gt; 12, 12, 12, 12, 12, 12
$ ampm                     &lt;dbl&gt; 1, 1, 1, 1, 1, 1
$ studyQuarter             &lt;dbl&gt; 1, 1, 1, 1, 1, 1
$ weekday                  &lt;dbl&gt; 1, 1, 1, 1, 1, 1
$ staff                    &lt;dbl&gt; 0, 0, 0, 0, 0, 0
$ participant_type         &lt;chr&gt; "_PAT", "_PAT", "_PAT", "_PAT", "_PAT", "_PAT"
$ staffcount               &lt;dbl&gt; 38, 38, 38, 38, 38, 38
$ patcount                 &lt;dbl&gt; 72, 72, 72, 72, 72, 72
$ census_min               &lt;dbl&gt; 25, 25, 25, 25, 25, 25
$ census_max               &lt;dbl&gt; 38, 38, 38, 38, 38, 38
$ patient_patient          &lt;dbl&gt; 359, 359, 359, 359, 359, 359
$ staff_patient            &lt;dbl&gt; 430, 430, 430, 430, 430, 430
$ staff_staff              &lt;dbl&gt; 400, 400, 400, 400, 400, 400
$ lone_patient             &lt;dbl&gt; 0, 0, 0, 0, 0, 0
$ lone_staff               &lt;dbl&gt; 1, 1, 1, 1, 1, 1
$ degree                   &lt;dbl&gt; 15, 21, 15, 4, 26, 21
$ degree_pp                &lt;dbl&gt; 11, 13, 8, 2, 10, 13
$ degree_ps                &lt;dbl&gt; 4, 8, 7, 2, 16, 8
$ degree_ss                &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ wdegree                  &lt;dbl&gt; 0.9622222, 1.6472222, 0.6377778, 2.1491667, 0…
$ WDEGMIN_SS               &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ wdegmin_PP               &lt;dbl&gt; 56.50000, 47.83333, 31.48333, 128.30000, 32.0…
$ wdegmin_PS_STAFF         &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ wdegmin_PS_pat           &lt;dbl&gt; 1.233333, 51.000000, 6.783333, 0.650000, 23.1…
$ RELATIVE_DEGREE          &lt;dbl&gt; 0.13761468, 0.19266055, 0.13761468, 0.0366972…
$ RELATIVE_DEGREE_PS_PAT   &lt;dbl&gt; 0.10526316, 0.21052632, 0.18421053, 0.0526315…
$ RELATIVE_DEGREE_PS_STAFF &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ RELATIVE_DEGREE_SS       &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ RELATIVE_DEGREE_PP       &lt;dbl&gt; 0.15492958, 0.18309859, 0.11267606, 0.0281690…
$ LOG_WTDEGREE             &lt;dbl&gt; 0.6740776, 0.9735109, 0.4933403, 1.1471379, 0…
$ Closeness_Centrality     &lt;dbl&gt; 0.5192308, 0.5373134, 0.5320197, 0.4576271, 0…
$ Betweenness_Centrality   &lt;dbl&gt; 1.943202e-03, 9.593717e-03, 8.937011e-04, 1.6…
$ Clustering_Coefficient   &lt;dbl&gt; 0.5047619, 0.4000000, 0.6571429, 0.8333333, 0…
$ Number_of_triangles      &lt;dbl&gt; 53, 84, 69, 5, 163, 111
$ Eigenvector_Centrality   &lt;dbl&gt; 0.20128667, 0.31221947, 0.29038734, 0.0812490…
$ Authority                &lt;dbl&gt; 0.006433454, 0.008845999, 0.006433454, 0.0020…
$ Hub                      &lt;dbl&gt; 0.006433454, 0.008845999, 0.006433454, 0.0020…
$ Modularity_Class         &lt;dbl&gt; 5, 4, 4, 5, 4, 5
$ PageRank                 &lt;dbl&gt; 0.007127199, 0.009297011, 0.006601165, 0.0028…
$ Eccentricity             &lt;dbl&gt; 3, 3, 3, 3, 3, 3
$ Component_ID             &lt;dbl&gt; 0, 0, 0, 0, 0, 0
$ num_shortest_paths       &lt;dbl&gt; 11772, 11772, 11772, 11772, 11772, 11772
$ weak_components          &lt;dbl&gt; 2, 2, 2, 2, 2, 2
$ triangle                 &lt;dbl&gt; 0.5047619, 0.4000000, 0.6571429, 0.8333333, 0…
$ tot_triangles            &lt;dbl&gt; 5772, 5772, 5772, 5772, 5772, 5772
$ pop_high_acuity          &lt;dbl&gt; 0.2105263, 0.2105263, 0.2105263, 0.2105263, 0…
$ pop_med_age              &lt;dbl&gt; 44, 44, 44, 44, 44, 44
$ pop_female_freq          &lt;dbl&gt; 51.57895, 51.57895, 51.57895, 51.57895, 51.57…
$ pop_black_freq           &lt;dbl&gt; 81.05263, 81.05263, 81.05263, 81.05263, 81.05…
$ pop_acuity_hilo          &lt;chr&gt; "low", "low", "low", "low", "low", "low"
$ pop_med_age_hilo         &lt;chr&gt; " low", " low", " low", " low", " low", " low"
$ pop_female_freq_hilo     &lt;chr&gt; " low", " low", " low", " low", " low", " low"
$ pop_black_freq_hilo      &lt;chr&gt; " low", " low", " low", " low", " low", " low"
$ timeCoveredbyShift       &lt;chr&gt; "stay is completely in shift", "startsDuring"…
$ arrival_mode             &lt;chr&gt; "Other", "EMS", "Other", "EMS", "Other", "Oth…
$ AGE                      &lt;dbl&gt; 56, 56, 40, 88, 53, 44
$ Sex                      &lt;chr&gt; "Female", "Male", "Male", "Male", "Female", "…
$ ED_Disposition           &lt;chr&gt; "Discharge", "Discharge", "Discharge", "Admit…
$ admitted                 &lt;chr&gt; "0.00%", "100.00%", "0.00%", "100.00%", "0.00…
$ acuitycat                &lt;chr&gt; "2 Urgent", "3 Immediate/Emergent", "2 Urgent…
$ COUNT_OF_MD              &lt;dbl&gt; 5, 5, 5, 5, 5, 5
$ COUNT_OF_RN              &lt;dbl&gt; 16, 16, 16, 16, 16, 16
$ COUNT_OF_ST              &lt;dbl&gt; 17, 17, 17, 17, 17, 17
$ Syndrome                 &lt;chr&gt; "1 Other", "5 ChestPain", "1 Other", "1 Other…
$ BLACKyn                  &lt;chr&gt; "Black", "Black", "Black", "Black", "Black", …
$ StartsDuringPct          &lt;dbl&gt; 76.38889, 76.38889, 76.38889, 76.38889, 76.38…
$ musculoskel              &lt;chr&gt; "other", "other", "other", "other", "other", …
$ pop_respir_pct           &lt;dbl&gt; 11.6, 11.6, 11.6, 11.6, 11.6, 11.6
$ pop_musculoskel_pct      &lt;dbl&gt; 9.5, 9.5, 9.5, 9.5, 9.5, 9.5
$ pop_chestP_pct           &lt;dbl&gt; 15.8, 15.8, 15.8, 15.8, 15.8, 15.8
$ pop_GI_pct               &lt;dbl&gt; 11.6, 11.6, 11.6, 11.6, 11.6, 11.6
$ pop_neuro_pct            &lt;dbl&gt; 5.3, 5.3, 5.3, 5.3, 5.3, 5.3
$ pop_othersyndrome_pct    &lt;dbl&gt; 46.3, 46.3, 46.3, 46.3, 46.3, 46.3
$ arrive_by_EMS_pct        &lt;dbl&gt; 27.7, 27.7, 27.7, 27.7, 27.7, 27.7
$ ParticipantCat2          &lt;chr&gt; "PATIENT", "PATIENT", "PATIENT", "PATIENT", "…
$ Num_uniqueRoomChanges    &lt;dbl&gt; 64, 20, 41, 6, 58, 165
$ uniqueshiftnum           &lt;dbl&gt; 23, 23, 23, 23, 23, 23
$ Replicate                &lt;dbl&gt; 1, 1, 1, 1, 1, 1
$ COUNT                    &lt;dbl&gt; 1, 1, 1, 1, 1, 1
Rows: 6
Columns: 203
$ sid                         &lt;chr&gt; "0002d045", "0002d078", "0002d098", "0002d…
$ d8                          &lt;date&gt; 2009-07-09, 2009-07-09, 2009-07-09, 2009-…
$ day                         &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ year                        &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ startd8time                 &lt;dttm&gt; 2009-07-09 20:00:00, 2009-07-09 20:00:00, …
$ endd8time                   &lt;dttm&gt; NA, NA, NA, NA, NA, NA
$ shift_num_ampm              &lt;chr&gt; "1pm", "1pm", "1pm", "1pm", "1pm", "1pm"
$ mon                         &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ starttime                   &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ endtime                     &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ sdatetime                   &lt;dttm&gt; NA, NA, NA, NA, NA, NA
$ edatetime                   &lt;dttm&gt; NA, NA, NA, NA, NA, NA
$ duration_observed           &lt;dbl&gt; 196.01667, 228.31667, 172.83333, 51.28333,…
$ censusmax_perperson         &lt;dbl&gt; 53, 41, 53, 53, 53, 46
$ censusmedian_perperson      &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ censusmean_perperson        &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ shift_num                   &lt;dbl&gt; 1, 1, 1, 1, 1, 1
$ ID                          &lt;dbl&gt; 79200934, 79200935, 79200936, 79200937, 7…
$ i                           &lt;dbl&gt; 34, 35, 36, 37, 38, 39
$ ShiftStart                  &lt;time&gt; 20:00:00, 20:00:00, 20:00:00, 20:00:00, 2…
$ ShiftEnd                    &lt;time&gt; 07:00:00, 07:00:00, 07:00:00, 07:00:00, 07…
$ shiftlength                 &lt;dbl&gt; 11, 11, 11, 11, 11, 11
$ Reason_shortShift           &lt;chr&gt; "", "", "", "", "", ""
$ month                       &lt;dbl&gt; 7, 7, 7, 7, 7, 7
$ day_of_month                &lt;dbl&gt; 9, 9, 9, 9, 9, 9
$ ampm                        &lt;dbl&gt; 2, 2, 2, 2, 2, 2
$ shift_ampm                  &lt;chr&gt; "pm", "pm", "pm", "pm", "pm", "pm"
$ shift_d8_ampm               &lt;chr&gt; "200979pm", "200979pm", "200979pm", "20097…
$ studyQuarter                &lt;dbl&gt; 1, 1, 1, 1, 1, 1
$ quarter_year                &lt;dbl&gt; 3, 3, 3, 3, 3, 3
$ H1N1                        &lt;dbl&gt; 0, 0, 0, 0, 0, 0
$ weekday                     &lt;dbl&gt; 1, 1, 1, 1, 1, 1
$ day1                        &lt;chr&gt; "5 Thu", "5 Thu", "5 Thu", "5 Thu", "5 Thu…
$ day2                        &lt;chr&gt; "Fri", "Fri", "Fri", "Fri", "Fri", "Fri"
$ dayofweek                   &lt;chr&gt; "5 Thu Fri", "5 Thu Fri", "5 Thu Fri", "5 …
$ staff                       &lt;dbl&gt; 0, 0, 0, 0, 0, 0
$ participant_type            &lt;chr&gt; "_PAT", "_PAT", "_PAT", "_PAT", "_PAT", "…
$ jobtitle                    &lt;chr&gt; "", "", "", "", "", ""
$ staffcount                  &lt;dbl&gt; 33, 33, 33, 33, 33, 33
$ patcount                    &lt;dbl&gt; 74, 74, 74, 74, 74, 74
$ total_patients              &lt;dbl&gt; 98, 98, 98, 98, 98, 98
$ census_min                  &lt;dbl&gt; 22, 22, 22, 22, 22, 22
$ census_max                  &lt;dbl&gt; 53, 53, 53, 53, 53, 53
$ participationrate           &lt;dbl&gt; 75.5102, 75.5102, 75.5102, 75.5102, 75.51…
$ patient_patient             &lt;dbl&gt; 379, 379, 379, 379, 379, 379
$ staff_patient               &lt;dbl&gt; 411, 411, 411, 411, 411, 411
$ staff_staff                 &lt;dbl&gt; 263, 263, 263, 263, 263, 263
$ lone_patient                &lt;dbl&gt; 0, 0, 0, 0, 0, 0
$ lone_staff                  &lt;dbl&gt; 1, 1, 1, 1, 1, 1
$ total_edges                 &lt;dbl&gt; 1053, 1053, 1053, 1053, 1053, 1053
$ degree                      &lt;dbl&gt; 9, 9, 12, 7, 14, 16
$ degree_pp                   &lt;dbl&gt; 8, 7, 10, 6, 12, 11
$ degree_ps                   &lt;dbl&gt; 1, 2, 2, 1, 2, 5
$ degree_ss                   &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ wdegree                     &lt;dbl&gt; 0.8058333, 0.4083333, 2.6636111, 0.8122222…
$ WDEGMIN_SS                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ wdegmin_PP                  &lt;dbl&gt; 33.80000, 23.03333, 99.61667, 43.13333, 21…
$ wdegmin_PS_STAFF            &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ wdegmin_PS_pat              &lt;dbl&gt; 14.550000, 1.466667, 60.200000, 5.600000, …
$ RELATIVE_DEGREE             &lt;dbl&gt; 0.08490566, 0.08490566, 0.11320755, 0.0660…
$ RELATIVE_DEGREE_PS_PAT      &lt;dbl&gt; 0.03030303, 0.06060606, 0.06060606, 0.0303…
$ RELATIVE_DEGREE_PS_STAFF    &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ RELATIVE_DEGREE_SS          &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ RELATIVE_DEGREE_PP          &lt;dbl&gt; 0.10958904, 0.09589041, 0.13698630, 0.0821…
$ LOG_WTDEGREE                &lt;dbl&gt; 0.5910222, 0.3424070, 1.2984493, 0.5945538…
$ LNLN_WTDEGREE               &lt;dbl&gt; 0.4643767, 0.2944643, 0.8322347, 0.466594…
$ Closeness_Centrality        &lt;dbl&gt; 0.4666667, 0.4625551, 0.4883721, 0.448717…
$ Betweenness_Centrality      &lt;dbl&gt; 0.0042596699, 0.0002467233, 0.0001093526, …
$ Clustering_Coefficient      &lt;dbl&gt; 0.4722222, 0.6944444, 0.9242424, 0.8095238…
$ Number_of_triangles         &lt;dbl&gt; 17, 25, 61, 17, 36, 89
$ Eigenvector_Centrality      &lt;dbl&gt; 0.08722264, 0.15296689, 0.22784539, 0.0835…
$ Authority                   &lt;dbl&gt; 0.004520796, 0.004520796, 0.005877034, 0.0…
$ Hub                         &lt;dbl&gt; 0.004520796, 0.004520796, 0.005877034, 0.0…
$ Modularity_Class            &lt;dbl&gt; 1, 1, 1, 1, 1, 1
$ PageRank                    &lt;dbl&gt; 0.005891000, 0.005060375, 0.006111256, 0.0…
$ Eccentricity                &lt;dbl&gt; 3, 3, 3, 3, 3, 3
$ Component_ID                &lt;dbl&gt; 0, 0, 0, 0, 0, 0
$ avg_degree                  &lt;dbl&gt; 19.682, 19.682, 19.682, 19.682, 19.682, 19…
$ avg_wdegree                 &lt;dbl&gt; 12.982, 12.982, 12.982, 12.982, 12.982, 12…
$ diameter                    &lt;dbl&gt; 4, 4, 4, 4, 4, 4
$ apl                         &lt;dbl&gt; 1.993172, 1.993172, 1.993172, 1.993172, 1.…
$ num_shortest_paths          &lt;dbl&gt; 11130, 11130, 11130, 11130, 11130, 11130
$ Density                     &lt;dbl&gt; 0.1856815, 0.1856815, 0.1856815, 0.1856815…
$ weak_components             &lt;dbl&gt; 2, 2, 2, 2, 2, 2
$ triangle                    &lt;dbl&gt; 0.4722222, 0.6944444, 0.9242424, 0.8095238…
$ Tran                        &lt;dbl&gt; 0.4979071, 0.4979071, 0.4979071, 0.4979071…
$ tot_triangles               &lt;dbl&gt; 4639, 4639, 4639, 4639, 4639, 4639
$ part_hilo                   &lt;chr&gt; "low", "low", "low", "low", "low", "low"
$ part_high_acuity            &lt;dbl&gt; 0.2567568, 0.2567568, 0.2567568, 0.2567568…
$ part_med_age                &lt;dbl&gt; 43.5, 43.5, 43.5, 43.5, 43.5, 43.5
$ part_female_freq            &lt;dbl&gt; 56.75676, 56.75676, 56.75676, 56.75676, 56…
$ part_black_freq             &lt;dbl&gt; 82.19178, 82.19178, 82.19178, 82.19178, 82…
$ pop_high_acuity             &lt;dbl&gt; 0.255102, 0.255102, 0.255102, 0.255102, 0.…
$ pop_med_age                 &lt;dbl&gt; 43.5, 43.5, 43.5, 43.5, 43.5, 43.5
$ pop_female_freq             &lt;dbl&gt; 58.16327, 58.16327, 58.16327, 58.16327, 58…
$ pop_black_freq              &lt;dbl&gt; 82.47423, 82.47423, 82.47423, 82.47423, 82…
$ pop_acuity_hilo             &lt;chr&gt; "low", "low", "low", "low", "low", "low"
$ pop_med_age_hilo            &lt;chr&gt; " low", " low", " low", " low", " low", " …
$ pop_female_freq_hilo        &lt;chr&gt; "high", "high", "high", "high", "high", "h…
$ pop_black_freq_hilo         &lt;chr&gt; "high", "high", "high", "high", "high", "h…
$ EncounterNum                &lt;chr&gt; "11941539190", "15625579190", "15625279190…
$ dup_tag                     &lt;dbl&gt; 1, 1, 1, 1, 1, 1
$ dup_samePT                  &lt;dbl&gt; 1, 1, 1, 1, 1, 1
$ ED_ARRIVAL                  &lt;dttm&gt; 2009-07-09 15:44:00, 2009-07-09 23:28:59, …
$ ed_departure                &lt;dttm&gt; 2009-07-09 23:20:01, 2009-07-10 03:25:18, …
$ tag_starttime               &lt;dttm&gt; 2009-07-09 20:03:59, 2009-07-09 23:37:00, …
$ d8ARR                       &lt;date&gt; 2009-07-09, 2009-07-09, 2009-07-09, 2009-0…
$ d8DEP                       &lt;date&gt; 2009-07-09, 2009-07-10, 2009-07-09, 2009-0…
$ timeARR                     &lt;time&gt; 15:44:00.000000, 23:29:00.000000, 19:46:00…
$ timeDEP                     &lt;time&gt; 23:20:01.000000, 03:25:19.000000, 22:52:50…
$ tagofftime                  &lt;dttm&gt; NA, NA, NA, NA, NA, NA
$ CHANGESID                   &lt;chr&gt; "", "", "", "", "", ""
$ tag_problem                 &lt;chr&gt; "no", "no", "no", "no", "no", "no"
$ durationInED                &lt;dbl&gt; 456.01667, 236.31667, 186.83333, 84.28333,…
$ duration_UntilTag           &lt;dbl&gt; 260, 8, 6, 33, 329, 6
$ timeCoveredbyShift          &lt;chr&gt; "endsDuring", "stay is completely in shift…
$ daysinED                    &lt;dbl&gt; 0.31667824, 0.16410880, 0.12974537, 0.0585…
$ MinutesInED                 &lt;dbl&gt; 456.01667, 236.31667, 186.83333, 84.28333,…
$ hrsinED                     &lt;dbl&gt; 7.600278, 3.938611, 3.113889, 1.404722, 24…
$ arrival_mode                &lt;chr&gt; "EMS", "Other", "", "EMS", "Other", "Other"
$ AGE                         &lt;dbl&gt; 24, 38, 19, 83, 53, 35
$ Sex                         &lt;chr&gt; "Female", "Female", "Female", "Female", "M…
$ Race                        &lt;chr&gt; "White", "White", "Black", "White", "White…
$ Chief_Complaint             &lt;chr&gt; "Preg, Vag Bleed, &amp;lt;", "Other Complaint"…
$ Acuity                      &lt;chr&gt; "3 Urgent", "3 Urgent", "4 Stable", "4 Sta…
$ Arr_Mode                    &lt;chr&gt; "Private Vehicle", "Walk", "Unknown", "EMS…
$ ED_Disposition              &lt;chr&gt; "Discharge", "Discharge", "Discharge", "Di…
$ admitted                    &lt;chr&gt; "0.00%", "0.00%", "0.00%", "0.00%", "100.0…
$ ILI_Syndrome                &lt;chr&gt; "No", "No", "No", "No", "No", "No"
$ ILIwMissing                 &lt;chr&gt; "No", "No", "No", "No", "No", "No"
$ acuitycat                   &lt;chr&gt; "2 Urgent", "2 Urgent", "1 Stable/nonUrgen…
$ Botulism_like               &lt;chr&gt; "No", "No", "No", "No", "No", "No"
$ Hemorrahgic_Illness         &lt;chr&gt; "No", "No", "No", "No", "No", "No"
$ Lymphadenitis               &lt;chr&gt; "No", "No", "No", "No", "No", "No"
$ Localized_Cutaneous_Lesion  &lt;chr&gt; "No", "No", "No", "No", "No", "No"
$ Gastrointestinal            &lt;chr&gt; "No", "No", "No", "No", "No", "No"
$ Respiratory                 &lt;chr&gt; "No", "No", "No", "No", "No", "Yes"
$ Unexplained_death           &lt;chr&gt; "No", "No", "No", "No", "No", "No"
$ Neurological                &lt;chr&gt; "No", "No", "No", "No", "No", "No"
$ Rash                        &lt;chr&gt; "No", "No", "No", "No", "No", "No"
$ Specific_Infection          &lt;chr&gt; "No", "No", "No", "No", "No", "No"
$ Fever                       &lt;chr&gt; "No", "No", "No", "No", "No", "No"
$ Musculoskeletal             &lt;chr&gt; "No", "No", "Yes", "No", "No", "No"
$ COUNT_OF_MD                 &lt;dbl&gt; 4, 4, 4, 4, 4, 4
$ COUNT_OF_RN                 &lt;dbl&gt; 12, 12, 12, 12, 12, 12
$ COUNT_OF_ST                 &lt;dbl&gt; 17, 17, 17, 17, 17, 17
$ Botulism_liken              &lt;dbl&gt; 0, 0, 0, 0, 0, 0
$ Fevern                      &lt;dbl&gt; 0, 0, 0, 0, 0, 0
$ Gastrointestinaln           &lt;dbl&gt; 0, 0, 0, 0, 0, 0
$ Hemorrahgic_Illnessn        &lt;dbl&gt; 0, 0, 0, 0, 0, 0
$ Localized_Cutaneous_Lesionn &lt;dbl&gt; 0, 0, 0, 0, 0, 0
$ Lymphadenitisn              &lt;dbl&gt; 0, 0, 0, 0, 0, 0
$ Musculoskeletaln            &lt;dbl&gt; 0, 0, 1, 0, 0, 0
$ Neurologicaln               &lt;dbl&gt; 0, 0, 0, 0, 0, 0
$ Rashn                       &lt;dbl&gt; 0, 0, 0, 0, 0, 0
$ Respiratoryn                &lt;dbl&gt; 0, 0, 0, 0, 0, 1
$ Specific_Infectionn         &lt;dbl&gt; 0, 0, 0, 0, 0, 0
$ Unexplained_deathn          &lt;dbl&gt; 0, 0, 0, 0, 0, 0
$ N                           &lt;dbl&gt; 13, 13, 13, 13, 13, 13
$ Syndrome                    &lt;chr&gt; "1 Other", "1 Other", "6 Muscul", "1 Other…
$ TOTAL                       &lt;dbl&gt; 107, 107, 107, 107, 107, 107
$ d1                          &lt;dbl&gt; 11761, 13699, 10850, 3077, 67385, 11536
$ d2                          &lt;dbl&gt; 39360, 26580, 40080, 39300, 44580, 29040
$ d3                          &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ max                         &lt;dbl&gt; 39600, 39600, 39600, 39600, 39600, 39600
$ BLACKyn                     &lt;chr&gt; "All Other", "All Other", "Black", "All Ot…
$ DegreePScat                 &lt;dbl&gt; 2, 1, 1, 2, 1, 0
$ NObs                        &lt;dbl&gt; 107, 107, 107, 107, 107, 107
$ duration_observed_Mean      &lt;dbl&gt; 265.3119, 265.3119, 265.3119, 265.3119, 26…
$ duration_observed_Median    &lt;dbl&gt; 227.0083, 227.0083, 227.0083, 227.0083, 22…
$ StartsDuringPct             &lt;dbl&gt; 51.35135, 51.35135, 51.35135, 51.35135, 51…
$ syndrome1_Other             &lt;dbl&gt; 39.18919, 39.18919, 39.18919, 39.18919, 39…
$ syndrome2_GI                &lt;dbl&gt; 17.56757, 17.56757, 17.56757, 17.56757, 17…
$ syndrome3_Respiratory       &lt;dbl&gt; 6.756757, 6.756757, 6.756757, 6.756757, 6.…
$ syndrome4_Neuro             &lt;dbl&gt; 5.405405, 5.405405, 5.405405, 5.405405, 5.…
$ syndrome5_ChestPain         &lt;dbl&gt; 17.56757, 17.56757, 17.56757, 17.56757, 17…
$ syndrome6_Musculoskel       &lt;dbl&gt; 13.51351, 13.51351, 13.51351, 13.51351, 13…
$ possiblecombs               &lt;dbl&gt; 5671, 5671, 5671, 5671, 5671, 5671
$ nduration_observed          &lt;dbl&gt; NA, NA, 172.8333, NA, 577.0000, NA
$ yearhalf                    &lt;chr&gt; "1st half", "1st half", "1st half", "1st h…
$ CC1                         &lt;chr&gt; "", "", "", "", "", ""
$ cc2                         &lt;chr&gt; "", "", "", "", "", ""
$ cc3                         &lt;chr&gt; "", "", "", "", "", ""
$ cc4                         &lt;chr&gt; "", "", "", "", "", ""
$ cc5                         &lt;chr&gt; "", "", "", "", "", ""
$ cc6                         &lt;chr&gt; "", "", "", "", "", ""
$ cc7                         &lt;chr&gt; "", "", "", "", "", "Respiratory"
$ cc8                         &lt;chr&gt; "", "", "", "", "", ""
$ cc9                         &lt;chr&gt; "", "", "", "", "", ""
$ cc10                        &lt;chr&gt; "", "", "", "", "", ""
$ cc11                        &lt;chr&gt; "", "", "", "", "", ""
$ cc12                        &lt;chr&gt; "", "", "Musculoskeletal", "", "", ""
$ musculoskel                 &lt;chr&gt; "other", "other", "musculoskel", "other", …
$ pop_respir_pct              &lt;dbl&gt; 6.1, 6.1, 6.1, 6.1, 6.1, 6.1
$ pop_musculoskel_pct         &lt;dbl&gt; 14.3, 14.3, 14.3, 14.3, 14.3, 14.3
$ pop_chestP_pct              &lt;dbl&gt; 20.4, 20.4, 20.4, 20.4, 20.4, 20.4
$ pop_GI_pct                  &lt;dbl&gt; 17.3, 17.3, 17.3, 17.3, 17.3, 17.3
$ pop_neuro_pct               &lt;dbl&gt; 4.1, 4.1, 4.1, 4.1, 4.1, 4.1
$ pop_othersyndrome_pct       &lt;dbl&gt; 37.8, 37.8, 37.8, 37.8, 37.8, 37.8
$ arrive_by_EMS_pct           &lt;dbl&gt; 34.4, 34.4, 34.4, 34.4, 34.4, 34.4
$ LOG_WDEGMIN_PS_PAT          &lt;dbl&gt; 2.7440606, 0.9028677, 4.1141472, 1.8870696…
$ ParticipantCat2             &lt;chr&gt; "PATIENT", "PATIENT", "PATIENT", "PATIENT"…
$ Num_uniqueRoomChanges       &lt;dbl&gt; 29, 101, 6, 32, 78, 74
Rows: 6
Columns: 2
$ shift_num_ampm &lt;chr&gt; "           1pm", "           1pm", "           1pm", "…
$ sid            &lt;chr&gt; "0002d045", "0002d078", "0002d098", "0002d10b", "0002d1…
Rows: 6
Columns: 77
$ numshift               &lt;dbl&gt; 1, 1, 1, 1, 1, 1
$ dateTimeStart          &lt;dttm&gt; 2009-07-09 20:00:00, 2009-07-09 20:00:00, 2009-…
$ dateTimeEnd            &lt;dttm&gt; 2009-07-10 07:00:00, 2009-07-10 07:00:00, 2009…
$ sid                    &lt;chr&gt; "", "", "", "", "", ""
$ d8                     &lt;date&gt; 2009-07-09, 2009-07-09, 2009-07-09, 2009-07-09…
$ shift_ampm             &lt;chr&gt; "", "", "", "", "", ""
$ Reason_shortShift      &lt;chr&gt; "", "", "", "", "", ""
$ startd8time            &lt;dttm&gt; NA, NA, NA, NA, NA, NA
$ endd8time              &lt;dttm&gt; NA, NA, NA, NA, NA, NA
$ shift_d8_ampm          &lt;chr&gt; "", "", "", "", "", ""
$ quarter                &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ weekday                &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ H1N1                   &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ SevenToTwelve          &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ dup_tag                &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ dup_samePT             &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ keepDrop               &lt;chr&gt; "", "", "", "", "", ""
$ time_difference        &lt;chr&gt; "", "", "", "", "", ""
$ random                 &lt;chr&gt; "", "", "", "", "", ""
$ EncounterNum           &lt;chr&gt; "", "", "", "", "", ""
$ ED_ARRIVAL             &lt;dttm&gt; NA, NA, NA, NA, NA, NA
$ ed_departure           &lt;dttm&gt; NA, NA, NA, NA, NA, NA
$ patient                &lt;chr&gt; "926382", "933283", "5941687", "6009302", "2853…
$ tag_starttime          &lt;dttm&gt; NA, NA, NA, NA, NA, NA
$ tagofftime             &lt;dttm&gt; NA, NA, NA, NA, NA, NA
$ CHANGESID              &lt;chr&gt; "", "", "", "", "", ""
$ ad8                    &lt;date&gt; NA, NA, NA, NA, NA, NA
$ dd8                    &lt;date&gt; NA, NA, NA, NA, NA, NA
$ a                      &lt;chr&gt; "", "", "", "", "", ""
$ b                      &lt;chr&gt; "", "", "", "", "", ""
$ sid_                   &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ tag_problem            &lt;chr&gt; "", "", "", "", "", ""
$ durationInED           &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ duration_UntilTag      &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ time_error             &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ JOB                    &lt;chr&gt; "", "", "", "", "", ""
$ exclusionreason        &lt;chr&gt; "Unacctd4", "Unacctd4", "Unacctd4", "Unacctd4"…
$ fltimeerror            &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ flexcodes              &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ fld                    &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ flef                   &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ indups                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ er                     &lt;chr&gt; "", "", "", "", "", ""
$ inwhich                &lt;chr&gt; "p", "p", "p", "p", "p", "p"
$ encnum                 &lt;dbl&gt; 1200899190, 5425719190, 11684349190, 1196539919…
$ ID                     &lt;dbl&gt; 3802, 10482, 26084, 27296, 30062, 4747
$ ED_Arrival_Timestamp   &lt;dttm&gt; 2009-07-09 18:17:59, 2009-07-09 14:35:59, 2009-…
$ Sex                    &lt;chr&gt; "Male", "Male", "Female", "Female", "Female", …
$ Patient_Age_at_Visit   &lt;chr&gt; "65", "80", "38", "43", "27", "36"
$ Race                   &lt;chr&gt; "Black", "Black", "Black", "Black", "Black", "…
$ Chief_Complaint        &lt;chr&gt; "Urinary Retention", "Syncope, Near", "Chest Pa…
$ Acuity                 &lt;chr&gt; "3 Urgent", "3 Urgent", "3 Urgent", "Not Record…
$ Arr_Mode               &lt;chr&gt; "Private Vehicle", "Private Vehicle", "Walk", "…
$ ED_Departure_Timestamp &lt;dttm&gt; 2009-07-09 20:57:33, 2009-07-10 00:21:55, 2009-…
$ ED_Disposition         &lt;chr&gt; "Discharge", "Admit", "Left W/out Being Seen", …
$ admitted               &lt;chr&gt; "0.00%", "100.00%", "0.00%", "0.00%", "0.00%", …
$ d8ARR                  &lt;date&gt; 2009-07-09, 2009-07-09, 2009-07-09, 2009-07-09,…
$ d8DEP                  &lt;date&gt; 2009-07-09, 2009-07-10, 2009-07-09, 2009-07-09,…
$ timeARR                &lt;time&gt; 18:18:00.000000, 14:36:00.000000, 15:47:00.0000…
$ timeDEP                &lt;time&gt; 20:57:34.000000, 00:21:55.000000, 21:51:22.0000…
$ daysinED               &lt;dbl&gt; 0, 1, 0, 0, 0, 0
$ MinutesInED            &lt;dbl&gt; 159.5667, 585.9167, 364.3667, 48.0000, 202.0667…
$ AGE                    &lt;dbl&gt; 65, 80, 38, 43, 27, 36
$ ILI_Syndrome           &lt;chr&gt; "No", "No", "No", "", "", "No"
$ ILIwMissing            &lt;chr&gt; "No", "No", "No", "missing", "missing", "No"
$ hrsinED                &lt;dbl&gt; 2.659444, 9.765278, 6.072778, 0.800000, 3.3677…
$ timeCoveredbyShift     &lt;chr&gt; "endsDuring", "endsDuring", "endsDuring", "sta…
$ popnFreqbyshift        &lt;dbl&gt; 98, 98, 98, 98, 98, 98
$ shift_num_ampm         &lt;chr&gt; "", "", "", "", "", ""
$ participantyn          &lt;chr&gt; "", "", "", "", "", ""
$ approached             &lt;chr&gt; "No", "No", "No", "No", "No", "No"
$ Pt_withData            &lt;chr&gt; "No", "No", "No", "No", "No", "No"
$ partic_if_eligible     &lt;chr&gt; "", "", "", "", "", ""
$ met_exclusion_crit     &lt;chr&gt; "", "", "", "", "", ""
$ approachedYN           &lt;chr&gt; "no", "no", "no", "no", "no", "no"
$ Participant_final      &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ dset                   &lt;chr&gt; "m", "m", "m", "m", "m", "m"
Rows: 6
Columns: 76
$ shift_num              &lt;dbl&gt; 1, 1, 1, 1, 1, 1
$ person                 &lt;dbl&gt; 34, 35, 36, 37, 38, 39
$ sid                    &lt;chr&gt; "0002d045", "0002d078", "0002d098", "0002d10b",…
$ mon                    &lt;dbl&gt; 7, 7, 7, 7, 7, 7
$ staff                  &lt;dbl&gt; 0, 0, 0, 0, 0, 0
$ d8                     &lt;date&gt; 2009-07-09, 2009-07-09, 2009-07-09, 2009-07-09,…
$ shift_ampm             &lt;chr&gt; "pm", "pm", "pm", "pm", "pm", "pm"
$ Reason_shortShift      &lt;chr&gt; "", "", "", "", "", ""
$ startd8time            &lt;dttm&gt; 2009-07-09 20:00:00, 2009-07-09 20:00:00, 2009-…
$ shift_d8_ampm          &lt;chr&gt; "200979pm", "200979pm", "200979pm", "200979pm",…
$ shift_num_ampm         &lt;chr&gt; "1pm", "", "", "", "", ""
$ quarter                &lt;dbl&gt; 1, 1, 1, 1, 1, 1
$ weekday                &lt;dbl&gt; 1, 1, 1, 1, 1, 1
$ H1N1                   &lt;dbl&gt; 0, 0, 0, 0, 0, 0
$ SevenToTwelve          &lt;dbl&gt; 1, 1, 1, 1, 1, 1
$ numshift               &lt;dbl&gt; 1, 1, 1, 1, 1, 1
$ endd8time              &lt;dttm&gt; 2009-07-09 23:59:59, 2009-07-09 23:59:59, 2009-…
$ dup_tag                &lt;dbl&gt; 1, 1, 1, 1, 1, 1
$ dup_samePT             &lt;dbl&gt; 1, 1, 1, 1, 1, 1
$ keepDrop               &lt;chr&gt; "", "", "", "", "", ""
$ time_difference        &lt;chr&gt; "", "", "", "", "", ""
$ random                 &lt;chr&gt; "", "", "", "", "", ""
$ EncounterNum           &lt;chr&gt; "11941539190", "15625579190", "15625279190", "…
$ ED_ARRIVAL             &lt;dttm&gt; 2009-07-09 15:44:00, 2009-07-09 23:28:59, 2009-…
$ ed_departure           &lt;dttm&gt; 2009-07-09 23:20:01, 2009-07-10 03:25:18, 2009-…
$ patient                &lt;chr&gt; "6003657", "6675149", "6675057", "6675048", "6…
$ tag_starttime          &lt;dttm&gt; 2009-07-09 20:03:59, 2009-07-09 23:37:00, 2009-…
$ tagofftime             &lt;dttm&gt; NA, NA, NA, NA, NA, NA
$ CHANGESID              &lt;chr&gt; "", "", "", "", "", ""
$ ad8                    &lt;date&gt; 2009-07-09, 2009-07-09, 2009-07-09, 2009-07-09,…
$ dd8                    &lt;date&gt; 2009-07-09, 2009-07-10, 2009-07-09, 2009-07-09,…
$ a                      &lt;chr&gt; "000", "000", "000", "000", "000", "000"
$ b                      &lt;chr&gt; "00", "00", "00", "00", "00", "00"
$ sid_                   &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ tag_problem            &lt;chr&gt; "no", "no", "no", "no", "no", "no"
$ durationInED           &lt;dbl&gt; 456.01667, 236.31667, 186.83333, 84.28333, 1452…
$ duration_UntilTag      &lt;dbl&gt; 260, 8, 6, 33, 329, 6
$ time_error             &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ JOB                    &lt;chr&gt; "PATIENT", "PATIENT", "PATIENT", "PATIENT", "PA…
$ exclusionreason        &lt;chr&gt; "PARTICIPANT", "PARTICIPANT", "PARTICIPANT", "P…
$ fltimeerror            &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ flexcodes              &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ fld                    &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ flef                   &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ indups                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ er                     &lt;chr&gt; "", "", "", "", "", ""
$ inwhich                &lt;chr&gt; "both", "both", "both", "both", "both", "both"
$ encnum                 &lt;dbl&gt; 11941539190, 15625579190, 15625279190, 15625249…
$ ID                     &lt;dbl&gt; 27210, 39790, 39785, 39782, 39762, 24886
$ ED_Arrival_Timestamp   &lt;dttm&gt; 2009-07-09 15:43:59, 2009-07-09 23:29:00, 2009…
$ Sex                    &lt;chr&gt; "Female", "Female", "Female", "Female", "Male",…
$ Patient_Age_at_Visit   &lt;chr&gt; "24", "38", "19", "83", "53", "35"
$ Race                   &lt;chr&gt; "White", "White", "Black", "White", "White", "B…
$ Chief_Complaint        &lt;chr&gt; "Preg, Vag Bleed, &amp;lt; 20 wks", "Other Complain…
$ Acuity                 &lt;chr&gt; "3 Urgent", "3 Urgent", "4 Stable", "4 Stable",…
$ Arr_Mode               &lt;chr&gt; "Private Vehicle", "Walk", "Unknown", "EMS Grou…
$ ED_Departure_Timestamp &lt;dttm&gt; 2009-07-09 23:20:01, 2009-07-10 03:25:19, 2009-…
$ ED_Disposition         &lt;chr&gt; "Discharge", "Discharge", "Discharge", "Discha…
$ admitted               &lt;chr&gt; "0.00%", "0.00%", "0.00%", "0.00%", "100.00%",…
$ d8ARR                  &lt;date&gt; 2009-07-09, 2009-07-09, 2009-07-09, 2009-07-09,…
$ d8DEP                  &lt;date&gt; 2009-07-09, 2009-07-10, 2009-07-09, 2009-07-09…
$ timeARR                &lt;time&gt; 15:44:00.000000, 23:29:00.000000, 19:46:00.000…
$ timeDEP                &lt;time&gt; 23:20:01.000000, 03:25:19.000000, 22:52:50.0000…
$ daysinED               &lt;dbl&gt; 0.31667824, 0.16410880, 0.12974537, 0.05853009…
$ MinutesInED            &lt;dbl&gt; 456.01667, 236.31667, 186.83333, 84.28333, 145…
$ AGE                    &lt;dbl&gt; 24, 38, 19, 83, 53, 35
$ ILI_Syndrome           &lt;chr&gt; "No", "No", "No", "No", "No", "No"
$ ILIwMissing            &lt;chr&gt; "No", "No", "No", "No", "No", "No"
$ hrsinED                &lt;dbl&gt; 7.600278, 3.938611, 3.113889, 1.404722, 24.2013…
$ timeCoveredbyShift     &lt;chr&gt; "endsDuring", "stay is completely in shift", "e…
$ popnFreqbyshift        &lt;dbl&gt; 98, 98, 98, 98, 98, 98
$ approached             &lt;chr&gt; "Yes", "Yes", "Yes", "Yes", "Yes", "Yes"
$ ShiftStart             &lt;time&gt; 20:00:00, 20:00:00, 20:00:00, 20:00:00, 20:00:0…
$ ShiftEnd               &lt;time&gt; 07:00:00, 07:00:00, 07:00:00, 07:00:00, 07:00:0…
$ shiftlength            &lt;dbl&gt; 11, 11, 11, 11, 11, 11
$ Participant_final      &lt;dbl&gt; 1, 1, 1, 1, 1, 1
Rows: 6
Columns: 83
$ numshift               &lt;dbl&gt; 1, 1, 1, 1, 1, 1
$ dateTimeStart          &lt;dttm&gt; 2009-07-09 20:00:00, 2009-07-09 20:00:00, 2009-…
$ dateTimeEnd            &lt;dttm&gt; 2009-07-10 07:00:00, 2009-07-10 07:00:00, 2009…
$ sid                    &lt;chr&gt; "", "", "", "", "", ""
$ d8                     &lt;date&gt; 2009-07-09, 2009-07-09, 2009-07-09, 2009-07-09…
$ shift_ampm             &lt;chr&gt; "", "", "", "", "", ""
$ Reason_shortShift      &lt;chr&gt; "", "", "", "", "", ""
$ startd8time            &lt;dttm&gt; NA, NA, NA, NA, NA, NA
$ endd8time              &lt;dttm&gt; NA, NA, NA, NA, NA, NA
$ shift_d8_ampm          &lt;chr&gt; "", "", "", "", "", ""
$ quarter                &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ weekday                &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ H1N1                   &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ SevenToTwelve          &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ dup_tag                &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ dup_samePT             &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ keepDrop               &lt;chr&gt; "", "", "", "", "", ""
$ time_difference        &lt;chr&gt; "", "", "", "", "", ""
$ random                 &lt;chr&gt; "", "", "", "", "", ""
$ EncounterNum           &lt;chr&gt; "", "", "", "", "", ""
$ ED_ARRIVAL             &lt;dttm&gt; NA, NA, NA, NA, NA, NA
$ ed_departure           &lt;dttm&gt; NA, NA, NA, NA, NA, NA
$ patient                &lt;chr&gt; "926382", "933283", "5941687", "6009302", "2853…
$ tag_starttime          &lt;dttm&gt; NA, NA, NA, NA, NA, NA
$ tagofftime             &lt;dttm&gt; NA, NA, NA, NA, NA, NA
$ CHANGESID              &lt;chr&gt; "", "", "", "", "", ""
$ ad8                    &lt;date&gt; NA, NA, NA, NA, NA, NA
$ dd8                    &lt;date&gt; NA, NA, NA, NA, NA, NA
$ a                      &lt;chr&gt; "", "", "", "", "", ""
$ b                      &lt;chr&gt; "", "", "", "", "", ""
$ sid_                   &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ tag_problem            &lt;chr&gt; "", "", "", "", "", ""
$ durationInED           &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ duration_UntilTag      &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ time_error             &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ JOB                    &lt;chr&gt; "", "", "", "", "", ""
$ exclusionreason        &lt;chr&gt; "Unacctd4", "Unacctd4", "Unacctd4", "Unacctd4"…
$ fltimeerror            &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ flexcodes              &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ fld                    &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ flef                   &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ indups                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ er                     &lt;chr&gt; "", "", "", "", "", ""
$ inwhich                &lt;chr&gt; "p", "p", "p", "p", "p", "p"
$ encnum                 &lt;dbl&gt; 1200899190, 5425719190, 11684349190, 1196539919…
$ ID                     &lt;dbl&gt; 3802, 10482, 26084, 27296, 30062, 4747
$ ED_Arrival_Timestamp   &lt;dttm&gt; 2009-07-09 18:17:59, 2009-07-09 14:35:59, 2009-…
$ Sex                    &lt;chr&gt; "Male", "Male", "Female", "Female", "Female", …
$ Patient_Age_at_Visit   &lt;chr&gt; "65", "80", "38", "43", "27", "36"
$ Race                   &lt;chr&gt; "Black", "Black", "Black", "Black", "Black", "…
$ Chief_Complaint        &lt;chr&gt; "Urinary Retention", "Syncope, Near", "Chest Pa…
$ Acuity                 &lt;chr&gt; "3 Urgent", "3 Urgent", "3 Urgent", "Not Record…
$ Arr_Mode               &lt;chr&gt; "Private Vehicle", "Private Vehicle", "Walk", "…
$ ED_Departure_Timestamp &lt;dttm&gt; 2009-07-09 20:57:33, 2009-07-10 00:21:55, 2009-…
$ ED_Disposition         &lt;chr&gt; "Discharge", "Admit", "Left W/out Being Seen", …
$ admitted               &lt;chr&gt; "0.00%", "100.00%", "0.00%", "0.00%", "0.00%", …
$ d8ARR                  &lt;date&gt; 2009-07-09, 2009-07-09, 2009-07-09, 2009-07-09,…
$ d8DEP                  &lt;date&gt; 2009-07-09, 2009-07-10, 2009-07-09, 2009-07-09,…
$ timeARR                &lt;time&gt; 18:18:00.000000, 14:36:00.000000, 15:47:00.0000…
$ timeDEP                &lt;time&gt; 20:57:34.000000, 00:21:55.000000, 21:51:22.0000…
$ daysinED               &lt;dbl&gt; 0, 1, 0, 0, 0, 0
$ MinutesInED            &lt;dbl&gt; 159.5667, 585.9167, 364.3667, 48.0000, 202.0667…
$ AGE                    &lt;dbl&gt; 65, 80, 38, 43, 27, 36
$ ILI_Syndrome           &lt;chr&gt; "No", "No", "No", "", "", "No"
$ ILIwMissing            &lt;chr&gt; "No", "No", "No", "missing", "missing", "No"
$ hrsinED                &lt;dbl&gt; 2.659444, 9.765278, 6.072778, 0.800000, 3.3677…
$ timeCoveredbyShift     &lt;chr&gt; "endsDuring", "endsDuring", "endsDuring", "sta…
$ popnFreqbyshift        &lt;dbl&gt; 98, 98, 98, 98, 98, 98
$ shift_num_ampm         &lt;chr&gt; "", "", "", "", "", ""
$ participantyn          &lt;chr&gt; "", "", "", "", "", ""
$ approached             &lt;chr&gt; "No", "No", "No", "No", "No", "No"
$ Pt_withData            &lt;chr&gt; "No", "No", "No", "No", "No", "No"
$ partic_if_eligible     &lt;chr&gt; "", "", "", "", "", ""
$ met_exclusion_crit     &lt;chr&gt; "", "", "", "", "", ""
$ approachedYN           &lt;chr&gt; "no", "no", "no", "no", "no", "no"
$ Participant_final      &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ dset                   &lt;chr&gt; "m", "m", "m", "m", "m", "m"
$ t1                     &lt;dbl&gt; -102, -324, -253, 174, -136, 386
$ t2                     &lt;dbl&gt; -602.4333, -398.0833, -548.6333, -438.0000, -59…
$ shiftlength            &lt;dbl&gt; 660, 660, 660, 660, 660, 660
$ lengthofstay           &lt;dbl&gt; 159.5667, 585.9167, 364.3667, 48.0000, 202.066…
$ staycoverage           &lt;chr&gt; "start b4, end within", "start b4, end within"…
$ lengthofcoverage       &lt;dbl&gt; 57.56667, 261.91667, 111.36667, 48.00000, 66.06…
Rows: 6
Columns: 96
$ sid                    &lt;chr&gt; "", "", "", "", "", ""
$ shift_num              &lt;dbl&gt; 1, 1, 1, 1, 1, 1
$ d8                     &lt;date&gt; 2009-07-09, 2009-07-09, 2009-07-09, 2009-07-09,…
$ shift_ampm             &lt;chr&gt; "", "", "", "", "", ""
$ Reason_shortShift      &lt;chr&gt; "", "", "", "", "", ""
$ startd8time            &lt;dttm&gt; NA, NA, NA, NA, NA, NA
$ endd8time              &lt;dttm&gt; NA, NA, NA, NA, NA, NA
$ shift_d8_ampm          &lt;chr&gt; "", "", "", "", "", ""
$ quarter                &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ weekday                &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ H1N1                   &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ SevenToTwelve          &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ dup_tag                &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ dup_samePT             &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ keepDrop               &lt;chr&gt; "", "", "", "", "", ""
$ time_difference        &lt;chr&gt; "", "", "", "", "", ""
$ random                 &lt;chr&gt; "", "", "", "", "", ""
$ EncounterNum           &lt;chr&gt; "", "", "", "", "", ""
$ ED_ARRIVAL             &lt;dttm&gt; NA, NA, NA, NA, NA, NA
$ ed_departure           &lt;dttm&gt; NA, NA, NA, NA, NA, NA
$ patient                &lt;chr&gt; "926382", "933283", "5941687", "6009302", "2853…
$ tag_starttime          &lt;dttm&gt; NA, NA, NA, NA, NA, NA
$ tagofftime             &lt;dttm&gt; NA, NA, NA, NA, NA, NA
$ CHANGESID              &lt;chr&gt; "", "", "", "", "", ""
$ ad8                    &lt;date&gt; NA, NA, NA, NA, NA, NA
$ dd8                    &lt;date&gt; NA, NA, NA, NA, NA, NA
$ a                      &lt;chr&gt; "", "", "", "", "", ""
$ b                      &lt;chr&gt; "", "", "", "", "", ""
$ sid_                   &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ tag_problem            &lt;chr&gt; "", "", "", "", "", ""
$ durationInED           &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ duration_UntilTag      &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ time_error             &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ JOB                    &lt;chr&gt; "", "", "", "", "", ""
$ exclusionreason        &lt;chr&gt; "Unacctd4", "Unacctd4", "Unacctd4", "Unacctd4"…
$ fltimeerror            &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ flexcodes              &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ fld                    &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ flef                   &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ indups                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ er                     &lt;chr&gt; "", "", "", "", "", ""
$ inwhich                &lt;chr&gt; "p", "p", "p", "p", "p", "p"
$ encnum                 &lt;dbl&gt; 1200899190, 5425719190, 11684349190, 1196539919…
$ ID                     &lt;dbl&gt; 3802, 10482, 26084, 27296, 30062, 4747
$ ED_Arrival_Timestamp   &lt;dttm&gt; 2009-07-09 18:17:59, 2009-07-09 14:35:59, 2009-…
$ Sex                    &lt;chr&gt; "Male", "Male", "Female", "Female", "Female", …
$ Patient_Age_at_Visit   &lt;chr&gt; "65", "80", "38", "43", "27", "36"
$ Race                   &lt;chr&gt; "Black", "Black", "Black", "Black", "Black", "…
$ Chief_Complaint        &lt;chr&gt; "Urinary Retention", "Syncope, Near", "Chest Pa…
$ Acuity                 &lt;chr&gt; "3 Urgent", "3 Urgent", "3 Urgent", "Not Record…
$ Arr_Mode               &lt;chr&gt; "Private Vehicle", "Private Vehicle", "Walk", "…
$ ED_Departure_Timestamp &lt;dttm&gt; 2009-07-09 20:57:33, 2009-07-10 00:21:55, 2009-…
$ ED_Disposition         &lt;chr&gt; "Discharge", "Admit", "Left W/out Being Seen", …
$ admitted               &lt;chr&gt; "0.00%", "100.00%", "0.00%", "0.00%", "0.00%", …
$ d8ARR                  &lt;date&gt; 2009-07-09, 2009-07-09, 2009-07-09, 2009-07-09,…
$ d8DEP                  &lt;date&gt; 2009-07-09, 2009-07-10, 2009-07-09, 2009-07-09,…
$ timeARR                &lt;time&gt; 18:18:00.000000, 14:36:00.000000, 15:47:00.0000…
$ timeDEP                &lt;time&gt; 20:57:34.000000, 00:21:55.000000, 21:51:22.0000…
$ daysinED               &lt;dbl&gt; 0, 1, 0, 0, 0, 0
$ MinutesInED            &lt;dbl&gt; 159.5667, 585.9167, 364.3667, 48.0000, 202.0667…
$ AGE                    &lt;dbl&gt; 65, 80, 38, 43, 27, 36
$ ILI_Syndrome           &lt;chr&gt; "No", "No", "No", "", "", "No"
$ ILIwMissing            &lt;chr&gt; "No", "No", "No", "missing", "missing", "No"
$ hrsinED                &lt;dbl&gt; 2.659444, 9.765278, 6.072778, 0.800000, 3.3677…
$ timeCoveredbyShift     &lt;chr&gt; "endsDuring", "endsDuring", "endsDuring", "sta…
$ popnFreqbyshift        &lt;dbl&gt; 98, 98, 98, 98, 98, 98
$ shift_num_ampm         &lt;chr&gt; "", "", "", "", "", ""
$ participantyn          &lt;chr&gt; "", "", "", "", "", ""
$ approached             &lt;chr&gt; "No", "No", "No", "No", "No", "No"
$ Pt_withData            &lt;chr&gt; "No", "No", "No", "No", "No", "No"
$ partic_if_eligible     &lt;chr&gt; "", "", "", "", "", ""
$ met_exclusion_crit     &lt;chr&gt; "", "", "", "", "", ""
$ approachedYN           &lt;chr&gt; "no", "no", "no", "no", "no", "no"
$ Participant_final      &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ dset                   &lt;chr&gt; "m", "m", "m", "m", "m", "m"
$ syndrome               &lt;chr&gt; "1 Other", "1 Other", "5 ChestP", "1 Other", "1…
$ CC1                    &lt;chr&gt; "", "", "", "", "", ""
$ cc2                    &lt;chr&gt; "", "", "", "", "", ""
$ cc3                    &lt;chr&gt; "", "", "", "", "", ""
$ cc4                    &lt;chr&gt; "", "", "", "", "", ""
$ cc5                    &lt;chr&gt; "", "", "", "", "", ""
$ cc6                    &lt;chr&gt; "", "", "", "", "", ""
$ cc7                    &lt;chr&gt; "", "", "", "", "", ""
$ cc8                    &lt;chr&gt; "", "", "", "", "", ""
$ cc9                    &lt;chr&gt; "", "", "", "", "", ""
$ cc10                   &lt;chr&gt; "", "", "", "", "", ""
$ cc11                   &lt;chr&gt; "", "", "", "", "", ""
$ cc12                   &lt;chr&gt; "", "", "", "", "", ""
$ arrival_mode           &lt;chr&gt; "EMS", "EMS", "EMS", "EMS", "EMS", "EMS"
$ arrive_by_EMS_pct      &lt;dbl&gt; 34.4, 34.4, 34.4, 34.4, 34.4, 34.4
$ pop_respir_pct         &lt;dbl&gt; 6.100000, 6.122449, 6.122449, 6.122449, 6.1224…
$ pop_musculoskel_pct    &lt;dbl&gt; 14.30000, 14.28571, 14.28571, 14.28571, 14.285…
$ pop_chestP_pct         &lt;dbl&gt; 20.4, 20.4, 20.4, 20.4, 20.4, 20.4
$ pop_GI_pct             &lt;dbl&gt; 17.3, 17.3, 17.3, 17.3, 17.3, 17.3
$ pop_neuro_pct          &lt;dbl&gt; 4.1, 4.1, 4.1, 4.1, 4.1, 4.1
$ pop_othersyndrome_pct  &lt;dbl&gt; 37.8, 37.8, 37.8, 37.8, 37.8, 37.8
Rows: 6
Columns: 5
$ shiftnum &lt;dbl&gt; 1, 1, 1, 1, 1, 1
$ person   &lt;dbl&gt; 1, 2, 3, 4, 5, 6
$ staff    &lt;dbl&gt; 1, 1, 1, 1, 1, 1
$ degree   &lt;dbl&gt; 31, 26, 34, 33, 34, 20
$ minutes  &lt;dbl&gt; 1287.850, 4346.367, 3465.950, 920.500, 4466.917, 3650.817
Rows: 6
Columns: 75
$ sid                    &lt;chr&gt; "", "", "", "", "", ""
$ numshift               &lt;dbl&gt; 1, 1, 1, 1, 1, 1
$ d8                     &lt;date&gt; 2009-07-09, 2009-07-09, 2009-07-09, 2009-07-09,…
$ shift_ampm             &lt;chr&gt; "", "", "", "", "", ""
$ Reason_shortShift      &lt;chr&gt; "", "", "", "", "", ""
$ startd8time            &lt;dttm&gt; NA, NA, NA, NA, NA, NA
$ endd8time              &lt;dttm&gt; NA, NA, NA, NA, NA, NA
$ shift_d8_ampm          &lt;chr&gt; "", "", "", "", "", ""
$ quarter                &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ weekday                &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ H1N1                   &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ SevenToTwelve          &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ dup_tag                &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ dup_samePT             &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ keepDrop               &lt;chr&gt; "", "", "", "", "", ""
$ time_difference        &lt;chr&gt; "", "", "", "", "", ""
$ random                 &lt;chr&gt; "", "", "", "", "", ""
$ EncounterNum           &lt;chr&gt; "", "", "", "", "", ""
$ ED_ARRIVAL             &lt;dttm&gt; NA, NA, NA, NA, NA, NA
$ ed_departure           &lt;dttm&gt; NA, NA, NA, NA, NA, NA
$ patient                &lt;chr&gt; "926382", "933283", "5941687", "6009302", "2853…
$ tag_starttime          &lt;dttm&gt; NA, NA, NA, NA, NA, NA
$ tagofftime             &lt;dttm&gt; NA, NA, NA, NA, NA, NA
$ CHANGESID              &lt;chr&gt; "", "", "", "", "", ""
$ ad8                    &lt;date&gt; NA, NA, NA, NA, NA, NA
$ dd8                    &lt;date&gt; NA, NA, NA, NA, NA, NA
$ a                      &lt;chr&gt; "", "", "", "", "", ""
$ b                      &lt;chr&gt; "", "", "", "", "", ""
$ sid_                   &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ tag_problem            &lt;chr&gt; "", "", "", "", "", ""
$ durationInED           &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ duration_UntilTag      &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ time_error             &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ JOB                    &lt;chr&gt; "", "", "", "", "", ""
$ exclusionreason        &lt;chr&gt; "Unacctd4", "Unacctd4", "Unacctd4", "Unacctd4"…
$ fltimeerror            &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ flexcodes              &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ fld                    &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ flef                   &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ indups                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ er                     &lt;chr&gt; "", "", "", "", "", ""
$ inwhich                &lt;chr&gt; "p", "p", "p", "p", "p", "p"
$ encnum                 &lt;dbl&gt; 1200899190, 5425719190, 11684349190, 1196539919…
$ ID                     &lt;dbl&gt; 3802, 10482, 26084, 27296, 30062, 4747
$ ED_Arrival_Timestamp   &lt;dttm&gt; 2009-07-09 18:17:59, 2009-07-09 14:35:59, 2009-…
$ Sex                    &lt;chr&gt; "Male", "Male", "Female", "Female", "Female", …
$ Patient_Age_at_Visit   &lt;chr&gt; "65", "80", "38", "43", "27", "36"
$ Race                   &lt;chr&gt; "Black", "Black", "Black", "Black", "Black", "…
$ Chief_Complaint        &lt;chr&gt; "Urinary Retention", "Syncope, Near", "Chest Pa…
$ Acuity                 &lt;chr&gt; "3 Urgent", "3 Urgent", "3 Urgent", "Not Record…
$ Arr_Mode               &lt;chr&gt; "Private Vehicle", "Private Vehicle", "Walk", "…
$ ED_Departure_Timestamp &lt;dttm&gt; 2009-07-09 20:57:33, 2009-07-10 00:21:55, 2009-…
$ ED_Disposition         &lt;chr&gt; "Discharge", "Admit", "Left W/out Being Seen", …
$ admitted               &lt;chr&gt; "0.00%", "100.00%", "0.00%", "0.00%", "0.00%", …
$ d8ARR                  &lt;date&gt; 2009-07-09, 2009-07-09, 2009-07-09, 2009-07-09,…
$ d8DEP                  &lt;date&gt; 2009-07-09, 2009-07-10, 2009-07-09, 2009-07-09,…
$ timeARR                &lt;time&gt; 18:18:00.000000, 14:36:00.000000, 15:47:00.0000…
$ timeDEP                &lt;time&gt; 20:57:34.000000, 00:21:55.000000, 21:51:22.0000…
$ daysinED               &lt;dbl&gt; 0, 1, 0, 0, 0, 0
$ MinutesInED            &lt;dbl&gt; 159.5667, 585.9167, 364.3667, 48.0000, 202.0667…
$ AGE                    &lt;dbl&gt; 65, 80, 38, 43, 27, 36
$ ILI_Syndrome           &lt;chr&gt; "No", "No", "No", "", "", "No"
$ ILIwMissing            &lt;chr&gt; "No", "No", "No", "missing", "missing", "No"
$ hrsinED                &lt;dbl&gt; 2.659444, 9.765278, 6.072778, 0.800000, 3.3677…
$ timeCoveredbyShift     &lt;chr&gt; "endsDuring", "endsDuring", "endsDuring", "sta…
$ popnFreqbyshift        &lt;dbl&gt; 98, 98, 98, 98, 98, 98
$ shift_num_ampm         &lt;chr&gt; "", "", "", "", "", ""
$ participantyn          &lt;chr&gt; "", "", "", "", "", ""
$ approached             &lt;chr&gt; "No", "No", "No", "No", "No", "No"
$ Pt_withData            &lt;chr&gt; "No", "No", "No", "No", "No", "No"
$ partic_if_eligible     &lt;chr&gt; "", "", "", "", "", ""
$ met_exclusion_crit     &lt;chr&gt; "", "", "", "", "", ""
$ approachedYN           &lt;chr&gt; "no", "no", "no", "no", "no", "no"
$ Participant_final      &lt;dbl&gt; NA, NA, NA, NA, NA, NA
$ dset                   &lt;chr&gt; "m", "m", "m", "m", "m", "m"
Rows: 6
Columns: 32
$ sid                  &lt;chr&gt; "0002f63d", "0003031b", "0002f652", "0003025d", "…
$ numshift             &lt;dbl&gt; 1, 1, 1, 1, 1, 1
$ d8                   &lt;date&gt; 2009-07-09, 2009-07-10, 2009-07-10, 2009-07-09, 2…
$ shift_ampm           &lt;chr&gt; "pm", "pm", "pm", "pm", "pm", "pm"
$ Reason_shortShift    &lt;chr&gt; "", "", "", "", "", ""
$ startd8time          &lt;dttm&gt; 2009-07-09 20:00:00, 2009-07-10 00:00:00, 2009-0…
$ endd8time            &lt;dttm&gt; 2009-07-09 23:59:59, 2009-07-10 07:00:00, 2009-07…
$ shift_d8_ampm        &lt;chr&gt; "200979pm", "200979pm", "200979pm", "200979pm", "…
$ quarter              &lt;dbl&gt; 1, 1, 1, 1, 1, 1
$ weekday              &lt;dbl&gt; 1, 1, 1, 1, 1, 1
$ H1N1                 &lt;dbl&gt; 0, 0, 0, 0, 0, 0
$ ED_ARRIVAL           &lt;dttm&gt; 2009-07-09 21:04:00, 2009-07-10 03:22:59, 2009-0…
$ ed_departure         &lt;dttm&gt; 2009-07-10 04:48:18, 2009-07-10 06:21:49, 2009-0…
$ durationInED         &lt;dbl&gt; NA, 178.8333, 346.9333, 303.4333, 244.9667, 1101.…
$ duration_UntilTag    &lt;dbl&gt; NA, 22, 4, 33, 189, 225
$ Sex                  &lt;chr&gt; "Male", "Male", "Male", "Female", "Female", "Fema…
$ Patient_Age_at_Visit &lt;chr&gt; "48", "61", "41", "46", "44", "86"
$ Race                 &lt;chr&gt; "Black", "Black", "Black", "Black", "Black", "Bla…
$ Chief_Complaint      &lt;chr&gt; "Flank Pain", "Pain, Muscular General", "Pain, Le…
$ Acuity               &lt;chr&gt; "3 Urgent", "3 Urgent", "5 Non Urgent", "2 Emerg…
$ Arr_Mode             &lt;chr&gt; "Private Vehicle", "EMS Ground", "Unknown", "EMS…
$ ED_Disposition       &lt;chr&gt; "Discharge", "Discharge", "AMA", "Admit", "Discha…
$ daysinED             &lt;dbl&gt; 1, 0, 0, 1, 0, 1
$ MinutesInED          &lt;dbl&gt; 464.3000, 178.8333, 346.9333, 303.4333, 244.9667,…
$ AGE                  &lt;dbl&gt; 48, 61, 41, 46, 44, 86
$ ILI_Syndrome         &lt;chr&gt; "No", "No", "No", "No", "No", "No"
$ ILIwMissing          &lt;chr&gt; "No", "No", "No", "No", "No", "No"
$ hrsinED              &lt;dbl&gt; 7.738333, 2.980556, 5.782222, 5.057222, 4.082778,…
$ timeCoveredbyShift   &lt;chr&gt; "stay is completely in shift", "stay is completel…
$ popnFreqbyshift      &lt;dbl&gt; 98, 98, 98, 98, 98, 98
$ shift_num_ampm       &lt;chr&gt; "", "", "", "", "", ""
$ Participant_final    &lt;dbl&gt; 1, 1, 1, 1, 1, 1
Rows: 6
Columns: 31
$ sid                  &lt;chr&gt; "0021825b", "00218235", "0021822a", "00218344", "…
$ numshift             &lt;dbl&gt; 10, 10, 10, 10, 10, 10
$ shift_ampm           &lt;chr&gt; "am", "am", "am", "am", "am", "am"
$ Reason_shortShift    &lt;chr&gt; "Ended early because of illness", "Ended early be…
$ startd8time          &lt;dttm&gt; 2009-07-18 07:00:00, 2009-07-18 07:00:00, 2009-07…
$ endd8time            &lt;dttm&gt; 2009-07-18 15:00:00, 2009-07-18 15:00:00, 2009-07…
$ shift_d8_ampm        &lt;chr&gt; "2009718am", "2009718am", "2009718am", "2009718a…
$ quarter              &lt;dbl&gt; 1, 1, 1, 1, 1, 1
$ weekday              &lt;dbl&gt; 0, 0, 0, 0, 0, 0
$ H1N1                 &lt;dbl&gt; 0, 0, 0, 0, 0, 0
$ ED_ARRIVAL           &lt;dttm&gt; 2009-07-17 12:39:00, 2009-07-17 16:12:00, 2009-0…
$ ed_departure         &lt;dttm&gt; 2009-07-18 11:03:29, 2009-07-19 01:27:33, 2009-07…
$ durationInED         &lt;dbl&gt; NA, NA, 295.2000, 235.5667, 670.6000, 164.8333
$ duration_UntilTag    &lt;dbl&gt; NA, NA, 35, 5, 601, 4
$ Sex                  &lt;chr&gt; "Female", "Female", "Female", "Male", "Female", "…
$ Patient_Age_at_Visit &lt;chr&gt; "41", "57", "41", "56", "32", "38"
$ Race                 &lt;chr&gt; "White", "Black", "Black", "Black", "Black", "Bla…
$ Chief_Complaint      &lt;chr&gt; "Abscess Skin/Soft Tissue", "Cough, Productive", …
$ Acuity               &lt;chr&gt; "4 Stable", "2 Emergent", "2 Emergent", "3 Urgen…
$ Arr_Mode             &lt;chr&gt; "Private Vehicle", "Private Vehicle", "EMS Groun…
$ ED_Disposition       &lt;chr&gt; "Discharge", "Discharge", "Discharge", "Discharge…
$ daysinED             &lt;dbl&gt; 1, 2, 0, 0, 1, 0
$ MinutesInED          &lt;dbl&gt; 1344.4833, 1995.5500, 295.2000, 235.5667, 670.600…
$ AGE                  &lt;dbl&gt; 41, 57, 41, 56, 32, 38
$ ILI_Syndrome         &lt;chr&gt; "No", "No", "No", "No", "No", "No"
$ ILIwMissing          &lt;chr&gt; "No", "No", "No", "No", "No", "No"
$ hrsinED              &lt;dbl&gt; 22.408056, 33.259167, 4.920000, 3.926111, 11.1766…
$ timeCoveredbyShift   &lt;chr&gt; "endsDuring", "startsb4endsafter", "startsDuring"…
$ popnFreqbyshift      &lt;dbl&gt; 82, 82, 82, 82, 82, 82
$ shift_num_ampm       &lt;chr&gt; "", "", "", "", "", ""
$ Participant_final    &lt;dbl&gt; 1, 1, 1, 1, 1, 1</code></pre>
</div>
<div class="cell-output-stdout">
<pre><code>[[1]]
# A tibble: 6 × 3
  SHIFT_NUM SID      censusMax_perPerson
      &lt;dbl&gt; &lt;chr&gt;                  &lt;dbl&gt;
1         1 0002d045                  53
2         1 0002d078                  41
3         1 0002d098                  53
4         1 0002d10b                  53
5         1 0002d151                  53
6         1 0002d7c3                  46

[[2]]
# A tibble: 6 × 86
  sid      d8         duration_observed censusmax_perperson censusmedian_perper…
  &lt;chr&gt;    &lt;date&gt;                 &lt;dbl&gt;               &lt;dbl&gt;                &lt;dbl&gt;
1 0021159c 2009-07-31             253.                   35                   NA
2 00215d4b 2009-07-31             453.                   38                   NA
3 00215d82 2009-07-31              96.0                  31                   NA
4 00215da0 2009-07-31             128.                   38                   NA
5 00215dbb 2009-07-31              77.0                  31                   NA
6 00215e12 2009-07-31             182.                   38                   NA
# … with 81 more variables: censusmean_perperson &lt;dbl&gt;, shift_num &lt;dbl&gt;,
#   shiftlength &lt;dbl&gt;, ampm &lt;dbl&gt;, studyQuarter &lt;dbl&gt;, weekday &lt;dbl&gt;,
#   staff &lt;dbl&gt;, participant_type &lt;chr&gt;, staffcount &lt;dbl&gt;, patcount &lt;dbl&gt;,
#   census_min &lt;dbl&gt;, census_max &lt;dbl&gt;, patient_patient &lt;dbl&gt;,
#   staff_patient &lt;dbl&gt;, staff_staff &lt;dbl&gt;, lone_patient &lt;dbl&gt;,
#   lone_staff &lt;dbl&gt;, degree &lt;dbl&gt;, degree_pp &lt;dbl&gt;, degree_ps &lt;dbl&gt;,
#   degree_ss &lt;dbl&gt;, wdegree &lt;dbl&gt;, WDEGMIN_SS &lt;dbl&gt;, wdegmin_PP &lt;dbl&gt;, …

[[3]]
# A tibble: 6 × 203
  sid      d8           day  year startd8time         endd8time
  &lt;chr&gt;    &lt;date&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;dttm&gt;              &lt;dttm&gt;   
1 0002d045 2009-07-09    NA    NA 2009-07-09 20:00:00 NA       
2 0002d078 2009-07-09    NA    NA 2009-07-09 20:00:00 NA       
3 0002d098 2009-07-09    NA    NA 2009-07-09 20:00:00 NA       
4 0002d10b 2009-07-09    NA    NA 2009-07-09 20:00:00 NA       
5 0002d151 2009-07-09    NA    NA 2009-07-09 20:00:00 NA       
6 0002d7c3 2009-07-09    NA    NA 2009-07-09 20:00:00 NA       
# … with 197 more variables: shift_num_ampm &lt;chr&gt;, mon &lt;dbl&gt;, starttime &lt;dbl&gt;,
#   endtime &lt;dbl&gt;, sdatetime &lt;dttm&gt;, edatetime &lt;dttm&gt;, duration_observed &lt;dbl&gt;,
#   censusmax_perperson &lt;dbl&gt;, censusmedian_perperson &lt;dbl&gt;,
#   censusmean_perperson &lt;dbl&gt;, shift_num &lt;dbl&gt;, ID &lt;dbl&gt;, i &lt;dbl&gt;,
#   ShiftStart &lt;time&gt;, ShiftEnd &lt;time&gt;, shiftlength &lt;dbl&gt;,
#   Reason_shortShift &lt;chr&gt;, month &lt;dbl&gt;, day_of_month &lt;dbl&gt;, ampm &lt;dbl&gt;,
#   shift_ampm &lt;chr&gt;, shift_d8_ampm &lt;chr&gt;, studyQuarter &lt;dbl&gt;, …

[[4]]
# A tibble: 6 × 2
  shift_num_ampm   sid     
  &lt;chr&gt;            &lt;chr&gt;   
1 "           1pm" 0002d045
2 "           1pm" 0002d078
3 "           1pm" 0002d098
4 "           1pm" 0002d10b
5 "           1pm" 0002d151
6 "           1pm" 0002d7c3

[[5]]
# A tibble: 6 × 77
  numshift dateTimeStart       dateTimeEnd         sid   d8         shift_ampm
     &lt;dbl&gt; &lt;dttm&gt;              &lt;dttm&gt;              &lt;chr&gt; &lt;date&gt;     &lt;chr&gt;     
1        1 2009-07-09 20:00:00 2009-07-10 07:00:00 ""    2009-07-09 ""        
2        1 2009-07-09 20:00:00 2009-07-10 07:00:00 ""    2009-07-09 ""        
3        1 2009-07-09 20:00:00 2009-07-10 07:00:00 ""    2009-07-09 ""        
4        1 2009-07-09 20:00:00 2009-07-10 07:00:00 ""    2009-07-09 ""        
5        1 2009-07-09 20:00:00 2009-07-10 07:00:00 ""    2009-07-09 ""        
6        1 2009-07-09 20:00:00 2009-07-10 07:00:00 ""    2009-07-10 ""        
# … with 71 more variables: Reason_shortShift &lt;chr&gt;, startd8time &lt;dttm&gt;,
#   endd8time &lt;dttm&gt;, shift_d8_ampm &lt;chr&gt;, quarter &lt;dbl&gt;, weekday &lt;dbl&gt;,
#   H1N1 &lt;dbl&gt;, SevenToTwelve &lt;dbl&gt;, dup_tag &lt;dbl&gt;, dup_samePT &lt;dbl&gt;,
#   keepDrop &lt;chr&gt;, time_difference &lt;chr&gt;, random &lt;chr&gt;, EncounterNum &lt;chr&gt;,
#   ED_ARRIVAL &lt;dttm&gt;, ed_departure &lt;dttm&gt;, patient &lt;chr&gt;,
#   tag_starttime &lt;dttm&gt;, tagofftime &lt;dttm&gt;, CHANGESID &lt;chr&gt;, ad8 &lt;date&gt;,
#   dd8 &lt;date&gt;, a &lt;chr&gt;, b &lt;chr&gt;, sid_ &lt;dbl&gt;, tag_problem &lt;chr&gt;, …

[[6]]
# A tibble: 6 × 76
  shift_num person sid        mon staff d8         shift_ampm Reason_shortShift
      &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;date&gt;     &lt;chr&gt;      &lt;chr&gt;            
1         1     34 0002d045     7     0 2009-07-09 pm         ""               
2         1     35 0002d078     7     0 2009-07-09 pm         ""               
3         1     36 0002d098     7     0 2009-07-09 pm         ""               
4         1     37 0002d10b     7     0 2009-07-09 pm         ""               
5         1     38 0002d151     7     0 2009-07-09 pm         ""               
6         1     39 0002d7c3     7     0 2009-07-09 pm         ""               
# … with 68 more variables: startd8time &lt;dttm&gt;, shift_d8_ampm &lt;chr&gt;,
#   shift_num_ampm &lt;chr&gt;, quarter &lt;dbl&gt;, weekday &lt;dbl&gt;, H1N1 &lt;dbl&gt;,
#   SevenToTwelve &lt;dbl&gt;, numshift &lt;dbl&gt;, endd8time &lt;dttm&gt;, dup_tag &lt;dbl&gt;,
#   dup_samePT &lt;dbl&gt;, keepDrop &lt;chr&gt;, time_difference &lt;chr&gt;, random &lt;chr&gt;,
#   EncounterNum &lt;chr&gt;, ED_ARRIVAL &lt;dttm&gt;, ed_departure &lt;dttm&gt;, patient &lt;chr&gt;,
#   tag_starttime &lt;dttm&gt;, tagofftime &lt;dttm&gt;, CHANGESID &lt;chr&gt;, ad8 &lt;date&gt;,
#   dd8 &lt;date&gt;, a &lt;chr&gt;, b &lt;chr&gt;, sid_ &lt;dbl&gt;, tag_problem &lt;chr&gt;, …

[[7]]
# A tibble: 6 × 83
  numshift dateTimeStart       dateTimeEnd         sid   d8         shift_ampm
     &lt;dbl&gt; &lt;dttm&gt;              &lt;dttm&gt;              &lt;chr&gt; &lt;date&gt;     &lt;chr&gt;     
1        1 2009-07-09 20:00:00 2009-07-10 07:00:00 ""    2009-07-09 ""        
2        1 2009-07-09 20:00:00 2009-07-10 07:00:00 ""    2009-07-09 ""        
3        1 2009-07-09 20:00:00 2009-07-10 07:00:00 ""    2009-07-09 ""        
4        1 2009-07-09 20:00:00 2009-07-10 07:00:00 ""    2009-07-09 ""        
5        1 2009-07-09 20:00:00 2009-07-10 07:00:00 ""    2009-07-09 ""        
6        1 2009-07-09 20:00:00 2009-07-10 07:00:00 ""    2009-07-10 ""        
# … with 77 more variables: Reason_shortShift &lt;chr&gt;, startd8time &lt;dttm&gt;,
#   endd8time &lt;dttm&gt;, shift_d8_ampm &lt;chr&gt;, quarter &lt;dbl&gt;, weekday &lt;dbl&gt;,
#   H1N1 &lt;dbl&gt;, SevenToTwelve &lt;dbl&gt;, dup_tag &lt;dbl&gt;, dup_samePT &lt;dbl&gt;,
#   keepDrop &lt;chr&gt;, time_difference &lt;chr&gt;, random &lt;chr&gt;, EncounterNum &lt;chr&gt;,
#   ED_ARRIVAL &lt;dttm&gt;, ed_departure &lt;dttm&gt;, patient &lt;chr&gt;,
#   tag_starttime &lt;dttm&gt;, tagofftime &lt;dttm&gt;, CHANGESID &lt;chr&gt;, ad8 &lt;date&gt;,
#   dd8 &lt;date&gt;, a &lt;chr&gt;, b &lt;chr&gt;, sid_ &lt;dbl&gt;, tag_problem &lt;chr&gt;, …

[[8]]
# A tibble: 6 × 96
  sid   shift_num d8         shift_ampm Reason_shortShift startd8time
  &lt;chr&gt;     &lt;dbl&gt; &lt;date&gt;     &lt;chr&gt;      &lt;chr&gt;             &lt;dttm&gt;     
1 ""            1 2009-07-09 ""         ""                NA         
2 ""            1 2009-07-09 ""         ""                NA         
3 ""            1 2009-07-09 ""         ""                NA         
4 ""            1 2009-07-09 ""         ""                NA         
5 ""            1 2009-07-09 ""         ""                NA         
6 ""            1 2009-07-10 ""         ""                NA         
# … with 90 more variables: endd8time &lt;dttm&gt;, shift_d8_ampm &lt;chr&gt;,
#   quarter &lt;dbl&gt;, weekday &lt;dbl&gt;, H1N1 &lt;dbl&gt;, SevenToTwelve &lt;dbl&gt;,
#   dup_tag &lt;dbl&gt;, dup_samePT &lt;dbl&gt;, keepDrop &lt;chr&gt;, time_difference &lt;chr&gt;,
#   random &lt;chr&gt;, EncounterNum &lt;chr&gt;, ED_ARRIVAL &lt;dttm&gt;, ed_departure &lt;dttm&gt;,
#   patient &lt;chr&gt;, tag_starttime &lt;dttm&gt;, tagofftime &lt;dttm&gt;, CHANGESID &lt;chr&gt;,
#   ad8 &lt;date&gt;, dd8 &lt;date&gt;, a &lt;chr&gt;, b &lt;chr&gt;, sid_ &lt;dbl&gt;, tag_problem &lt;chr&gt;,
#   durationInED &lt;dbl&gt;, duration_UntilTag &lt;dbl&gt;, time_error &lt;dbl&gt;, JOB &lt;chr&gt;, …

[[9]]
# A tibble: 6 × 5
  shiftnum person staff degree minutes
     &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;
1        1      1     1     31   1288.
2        1      2     1     26   4346.
3        1      3     1     34   3466.
4        1      4     1     33    920.
5        1      5     1     34   4467.
6        1      6     1     20   3651.

[[10]]
# A tibble: 6 × 75
  sid   numshift d8         shift_ampm Reason_shortShift startd8time
  &lt;chr&gt;    &lt;dbl&gt; &lt;date&gt;     &lt;chr&gt;      &lt;chr&gt;             &lt;dttm&gt;     
1 ""           1 2009-07-09 ""         ""                NA         
2 ""           1 2009-07-09 ""         ""                NA         
3 ""           1 2009-07-09 ""         ""                NA         
4 ""           1 2009-07-09 ""         ""                NA         
5 ""           1 2009-07-09 ""         ""                NA         
6 ""           1 2009-07-10 ""         ""                NA         
# … with 69 more variables: endd8time &lt;dttm&gt;, shift_d8_ampm &lt;chr&gt;,
#   quarter &lt;dbl&gt;, weekday &lt;dbl&gt;, H1N1 &lt;dbl&gt;, SevenToTwelve &lt;dbl&gt;,
#   dup_tag &lt;dbl&gt;, dup_samePT &lt;dbl&gt;, keepDrop &lt;chr&gt;, time_difference &lt;chr&gt;,
#   random &lt;chr&gt;, EncounterNum &lt;chr&gt;, ED_ARRIVAL &lt;dttm&gt;, ed_departure &lt;dttm&gt;,
#   patient &lt;chr&gt;, tag_starttime &lt;dttm&gt;, tagofftime &lt;dttm&gt;, CHANGESID &lt;chr&gt;,
#   ad8 &lt;date&gt;, dd8 &lt;date&gt;, a &lt;chr&gt;, b &lt;chr&gt;, sid_ &lt;dbl&gt;, tag_problem &lt;chr&gt;,
#   durationInED &lt;dbl&gt;, duration_UntilTag &lt;dbl&gt;, time_error &lt;dbl&gt;, JOB &lt;chr&gt;, …

[[11]]
# A tibble: 6 × 32
  sid      numshift d8         shift_ampm Reason_shortShift startd8time        
  &lt;chr&gt;       &lt;dbl&gt; &lt;date&gt;     &lt;chr&gt;      &lt;chr&gt;             &lt;dttm&gt;             
1 0002f63d        1 2009-07-09 pm         ""                2009-07-09 20:00:00
2 0003031b        1 2009-07-10 pm         ""                2009-07-10 00:00:00
3 0002f652        1 2009-07-10 pm         ""                2009-07-10 00:00:00
4 0003025d        1 2009-07-09 pm         ""                2009-07-09 20:00:00
5 0002f656        1 2009-07-09 pm         ""                2009-07-09 20:00:00
6 0002f620        1 2009-07-09 pm         ""                2009-07-09 20:00:00
# … with 26 more variables: endd8time &lt;dttm&gt;, shift_d8_ampm &lt;chr&gt;,
#   quarter &lt;dbl&gt;, weekday &lt;dbl&gt;, H1N1 &lt;dbl&gt;, ED_ARRIVAL &lt;dttm&gt;,
#   ed_departure &lt;dttm&gt;, durationInED &lt;dbl&gt;, duration_UntilTag &lt;dbl&gt;,
#   Sex &lt;chr&gt;, Patient_Age_at_Visit &lt;chr&gt;, Race &lt;chr&gt;, Chief_Complaint &lt;chr&gt;,
#   Acuity &lt;chr&gt;, Arr_Mode &lt;chr&gt;, ED_Disposition &lt;chr&gt;, daysinED &lt;dbl&gt;,
#   MinutesInED &lt;dbl&gt;, AGE &lt;dbl&gt;, ILI_Syndrome &lt;chr&gt;, ILIwMissing &lt;chr&gt;,
#   hrsinED &lt;dbl&gt;, timeCoveredbyShift &lt;chr&gt;, popnFreqbyshift &lt;dbl&gt;, …

[[12]]
# A tibble: 6 × 31
  sid      numshift shift_ampm Reason_shortShift             startd8time        
  &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;                         &lt;dttm&gt;             
1 0021825b       10 am         Ended early because of illne… 2009-07-18 07:00:00
2 00218235       10 am         Ended early because of illne… 2009-07-18 07:00:00
3 0021822a       10 am         Ended early because of illne… 2009-07-18 07:00:00
4 00218344       10 am         Ended early because of illne… 2009-07-18 07:00:00
5 0021822d       10 am         Ended early because of illne… 2009-07-18 07:00:00
6 0021825e       10 am         Ended early because of illne… 2009-07-18 07:00:00
# … with 26 more variables: endd8time &lt;dttm&gt;, shift_d8_ampm &lt;chr&gt;,
#   quarter &lt;dbl&gt;, weekday &lt;dbl&gt;, H1N1 &lt;dbl&gt;, ED_ARRIVAL &lt;dttm&gt;,
#   ed_departure &lt;dttm&gt;, durationInED &lt;dbl&gt;, duration_UntilTag &lt;dbl&gt;,
#   Sex &lt;chr&gt;, Patient_Age_at_Visit &lt;chr&gt;, Race &lt;chr&gt;, Chief_Complaint &lt;chr&gt;,
#   Acuity &lt;chr&gt;, Arr_Mode &lt;chr&gt;, ED_Disposition &lt;chr&gt;, daysinED &lt;dbl&gt;,
#   MinutesInED &lt;dbl&gt;, AGE &lt;dbl&gt;, ILI_Syndrome &lt;chr&gt;, ILIwMissing &lt;chr&gt;,
#   hrsinED &lt;dbl&gt;, timeCoveredbyShift &lt;chr&gt;, popnFreqbyshift &lt;dbl&gt;, …</code></pre>
</div>
</div>
</section>
<section id="patient-acuity-pt_acuity" class="level3" data-number="2.1.3">
<h3 data-number="2.1.3" class="anchored" data-anchor-id="patient-acuity-pt_acuity"><span class="header-section-number">2.1.3</span> Patient Acuity: <code>pt_acuity</code></h3>
<p>Read &amp; print patient acuity data in “ACUITY-patients.xlsx,” which is an Excel workbook with 3 sheets.</p>
<div class="cell" data-hash="NACI_DataLog_cache/html/ReadData pt_acuity_e3301d6479f366d31ae9e08fd2d5e219">
<div class="sourceCode" id="cb15"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1e. read 'ACUITY-patients.xlsx</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>pt_acuity <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="fu">paste</span>(data_path, <span class="st">"ACUITY-patients.xlsx"</span>,</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">sep =</span> <span class="st">"/"</span>))</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co"># str(pt_acuity)</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>pt_acuity_s2 <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="fu">paste</span>(data_path, <span class="st">"ACUITY-patients.xlsx"</span>,</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">sep =</span> <span class="st">"/"</span>), <span class="at">sheet =</span> <span class="dv">2</span>, <span class="at">range =</span> <span class="st">"A2:H83"</span>)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="co"># str(pt_acuity_s2)</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>pt_acuity_s3 <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="fu">paste</span>(data_path, <span class="st">"ACUITY-patients.xlsx"</span>,</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">sep =</span> <span class="st">"/"</span>), <span class="at">sheet =</span> <span class="dv">3</span>, <span class="at">range =</span> <span class="st">"A2:G83"</span>)</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="co"># str(pt_acuity_s3)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The first sheet lists the number of patients in each ESI acuity level (columns) by shift (rows). The other two sheets appear to be variations of the first.</p>
<div class="cell" data-hash="NACI_DataLog_cache/html/PrintData pt_acuity_84a68faa03e28112ffa15dd849013400">
<div class="sourceCode" id="cb16"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Patient acuity (Emergency Severity Index; ESI) counts by</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="co"># shift</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(pt_acuity))</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Pivot_wider to view number of patients in each ESI</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="co"># category by shift</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>pt_acuity <span class="sc">%&gt;%</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(Acuity) <span class="sc">%&gt;%</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">count</span>(Shift) <span class="sc">%&gt;%</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Acuity, <span class="at">values_from =</span> n) <span class="sc">%&gt;%</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">head</span>() <span class="sc">%&gt;%</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">kable</span>()</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the first 6 rows of the other two sheets in the</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a><span class="co"># xlsx file</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(pt_acuity_s2))</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(pt_acuity_s3))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="patient-location-dataset-pt_complete" class="level3" data-number="2.1.4">
<h3 data-number="2.1.4" class="anchored" data-anchor-id="patient-location-dataset-pt_complete"><span class="header-section-number">2.1.4</span> Patient Location Dataset: <code>pt_complete</code></h3>
<p>The SAS data file, “completepat.sas7bdat,” contains RFID badge location (by <em>room number</em>) for all patients each second of every shift.</p>
<div class="cell" data-hash="NACI_DataLog_cache/html/ReadData pt_complete_630e09bebf580d3d612e4e650434776e">
<div class="sourceCode" id="cb17"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1a. read 'completepat.sas7bdat',</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>pt_complete <span class="ot">&lt;-</span> <span class="fu">read_sas</span>(<span class="fu">paste</span>(data_path, <span class="st">"completepat.sas7bdat"</span>,</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">sep =</span> <span class="st">"/"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Large data.frame, using the first six observations to code for data cleaning. The table is extremely wide (&gt;4300 columns), I used <code>pivot_longer()</code> to reshape it by collapsing all location-by-second columns into two columns, names to <code>seconds</code> and values to <code>location</code>. This process causes there to be <strong>many repeated SIDs</strong>.</p>
<div class="cell" data-hash="NACI_DataLog_cache/html/PrintData pt_complete_0a4c4d93078d56529fd4828f81c6a472">
<div class="sourceCode" id="cb18"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2a. subset first 10 observations for data transformation</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="co"># code preparation</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>pt_head <span class="ot">&lt;-</span> <span class="fu">head</span>(pt_complete) <span class="sc">%&gt;%</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 3a. Pivot the data.frame from wide to long by placing</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># all column names that start with 'floc' into a new</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># column, 'seconds,' and placing respective</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># observations for each 'floc' variable into a</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 'location_num' column</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">starts_with</span>(<span class="st">"floc"</span>), <span class="at">names_to =</span> <span class="st">"seconds"</span>,</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"location_num"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 4a. Remove the prefix 'floc' from `time_seconds` and</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># keep the digits as `seconds`</span></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(<span class="at">seconds =</span> <span class="fu">as.integer</span>(<span class="fu">str_replace</span>(seconds, <span class="st">"floc"</span>, <span class="st">""</span>)),</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift_num_ampm =</span> <span class="fu">str_trim</span>(shift_num_ampm), <span class="at">shift_num =</span> <span class="fu">as.integer</span>(<span class="fu">str_extract</span>(shift_num_ampm,</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>        <span class="st">"[:digit:]+"</span>)), <span class="at">am_pm =</span> <span class="fu">str_extract</span>(shift_num_ampm, <span class="st">"am|pm"</span>),</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">date =</span> <span class="fu">make_date</span>(<span class="at">year =</span> year, <span class="at">month =</span> mon, <span class="at">day =</span> day))  <span class="co"># %&gt;% </span></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a><span class="co"># 5. Filter out all rows for which no location was recorded</span></span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a><span class="co"># filter(!is.na(location)) %&gt;%</span></span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a><span class="co"># View data frame structure glimpse(pt_head)</span></span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(pt_head))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="staff-data" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="staff-data"><span class="header-section-number">2.2</span> Staff Data</h2>
<section id="staff-location-staff_complete" class="level3" data-number="2.2.1">
<h3 data-number="2.2.1" class="anchored" data-anchor-id="staff-location-staff_complete"><span class="header-section-number">2.2.1</span> Staff location: <code>staff_complete</code></h3>
<p>The SAS data file, “completestaff.sas7bdat,” contains RFID badge location (by <em>room number</em>) for all staff each second of every shift.</p>
<div class="cell" data-hash="NACI_DataLog_cache/html/ReadData staff_complete_5fe2d13c3316e28b10eab257de1001a0">
<div class="sourceCode" id="cb19"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ---- `staff_complete 1b. read 'completestaff.sas7bdat'</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>staff_complete <span class="ot">&lt;-</span> <span class="fu">read_sas</span>(<span class="fu">paste</span>(data_path, <span class="st">"completestaff.sas7bdat"</span>,</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">sep =</span> <span class="st">"/"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="NACI_DataLog_cache/html/PrintData staff_complete_2098138a74071fcf63793dbc7a2c0eda">
<div class="sourceCode" id="cb20"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 2a. subset first 10 observations for data transformation</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co"># code preparation</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>staff_head <span class="ot">&lt;-</span> <span class="fu">head</span>(staff_complete) <span class="sc">%&gt;%</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 3a. Pivot the data.frame from wide to long by placing</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># all column names that start with 'floc' into a new</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># column, 'seconds,' and placing respective</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># observations for each 'floc' variable into a</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 'location_num' column</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">starts_with</span>(<span class="st">"floc"</span>), <span class="at">names_to =</span> <span class="st">"seconds"</span>,</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"location_num"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 4a. Remove the prefix 'floc' from `time_seconds` and</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># keep the digits as `seconds`</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(<span class="at">seconds =</span> <span class="fu">as.integer</span>(<span class="fu">str_replace</span>(seconds, <span class="st">"floc"</span>, <span class="st">""</span>)),</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift_num_ampm =</span> <span class="fu">str_trim</span>(shift_num_ampm), <span class="at">shift_num =</span> <span class="fu">as.integer</span>(<span class="fu">str_extract</span>(shift_num_ampm,</span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>        <span class="st">"[:digit:]+"</span>)), <span class="at">am_pm =</span> <span class="fu">str_extract</span>(shift_num_ampm, <span class="st">"am|pm"</span>),</span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">date =</span> <span class="fu">make_date</span>(<span class="at">year =</span> year, <span class="at">month =</span> mon, <span class="at">day =</span> day))  <span class="co"># %&gt;% </span></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a><span class="co"># 5. Filter out all rows for which no location was recorded</span></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a><span class="co"># filter(!is.na(location)) %&gt;% View data frame structure</span></span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a><span class="co"># str(staff_head) glimpse(staff_head)</span></span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(staff_head))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="list-of-rfid-badge-encounters-i.e.-clinical-interactions-as-vertices-edge_list" class="level3" data-number="2.2.2">
<h3 data-number="2.2.2" class="anchored" data-anchor-id="list-of-rfid-badge-encounters-i.e.-clinical-interactions-as-vertices-edge_list"><span class="header-section-number">2.2.2</span> List of RFID badge encounters (i.e., clinical interactions) as vertices: <code>edge_list</code></h3>
<p>Read &amp; print data from “allshifts_edges.sas7bdat” and “edges2.sas7bdat.”</p>
<div class="cell" data-hash="NACI_DataLog_cache/html/ReadData edge_list_d2316a083b7528acb7a6b49a33cf9ef9">
<div class="sourceCode" id="cb21"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1c. read 'allshifts_edges.sas7bdat'</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>edge_list <span class="ot">&lt;-</span> <span class="fu">read_sas</span>(<span class="fu">paste</span>(data_path, <span class="st">"allshifts_edges.sas7bdat"</span>,</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">sep =</span> <span class="st">"/"</span>))</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>edge_list2 <span class="ot">&lt;-</span> <span class="fu">read_sas</span>(<span class="fu">paste</span>(data_path, <span class="st">"edges2.sas7bdat"</span>, <span class="at">sep =</span> <span class="st">"/"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="NACI_DataLog_cache/html/PrintData edge_list_9fafaa4955efc9bd02213bc0ebcf4098">
<div class="sourceCode" id="cb22"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the first 6 observations of edge_list</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(edge_list))</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Print out the variable labels for all columns of</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="co"># edge_list (object varbles1) varbles1 &lt;-</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="co"># var_label(edge_list) paste(names(varbles1), varbles1, sep</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="co"># = ': ') Print the first 6 observations of edge_list2</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(edge_list2))</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Print out the variable labels for all columns of</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="co"># edge_list2 (object varbles2) varbles2 &lt;-</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a><span class="co"># var_label(edge_list2) paste(names(varbles2), varbles2,</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="co"># sep = ': ')</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="ed-geography" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="ed-geography"><span class="header-section-number">2.3</span> ED Geography</h2>
<section id="room-categorieslocations-room_categories" class="level4" data-number="2.3.0.1">
<h4 data-number="2.3.0.1" class="anchored" data-anchor-id="room-categorieslocations-room_categories"><span class="header-section-number">2.3.0.1</span> Room categories/locations: <code>room_categories</code></h4>
<div class="cell" data-hash="NACI_DataLog_cache/html/ReadData room_categories_dfb91184dc7264380382687cc7b344cf">
<div class="sourceCode" id="cb23"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>room_categories <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="fu">paste</span>(data_path, <span class="st">"room_locations"</span>,</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"room categories.xlsx"</span>, <span class="at">sep =</span> <span class="st">"/"</span>))</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>room_categories2 <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="fu">paste</span>(data_path, <span class="st">"room_locations"</span>,</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"room categories2.xlsx"</span>, <span class="at">sep =</span> <span class="st">"/"</span>))</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>room_categories20131204 <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="fu">paste</span>(data_path, <span class="st">"room_locations"</span>,</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"room categories2 20131204.xlsx"</span>, <span class="at">sep =</span> <span class="st">"/"</span>))</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>room_categories20131204_area <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="fu">paste</span>(data_path, <span class="st">"room_locations"</span>,</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"room categories2 20131204 area.xlsx"</span>, <span class="at">sep =</span> <span class="st">"/"</span>))</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>room_location <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="fu">paste</span>(data_path, <span class="st">"Room Locations and Square Footage - with Correction.xlsx"</span>,</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">sep =</span> <span class="st">"/"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="NACI_DataLog_cache/html/PrintData room_categories_caa4d2e98cfd7da4475ed3c9c62dfdac">
<div class="sourceCode" id="cb24"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>geographic_lst <span class="ot">&lt;-</span> <span class="fu">list</span>(room_categories, room_categories2, room_categories20131204,</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>    room_categories20131204_area, room_location)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the first 6 rows form each room category/location</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="co"># file iteratively with `purrr::map()`</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="fu">map</span>(geographic_lst, <span class="fu">c</span>(head, kable))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
</section>
<section id="sessioninfo" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> SessionInfo</h1>
<div class="cell" data-hash="NACI_DataLog_cache/html/SessionInfo_381e356d142587cb332adc7a7cc1baf1">
<div class="sourceCode" id="cb25"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>sessioninfo<span class="sc">::</span><span class="fu">session_info</span>() <span class="sc">%&gt;%</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    details<span class="sc">::</span><span class="fu">details</span>(<span class="at">summary =</span> <span class="st">"Current session info"</span>, <span class="at">open =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<details closed="">
<summary>
<span title="Click to Expand"> Current session info </span>
</summary>
<div class="sourceCode" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>─ Session info ───────────────────────────────────────────────────────────────</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a> setting  value</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a> version  R version <span class="dv">4</span>.<span class="fl">1.2</span> (<span class="dv">2021-11-01</span>)</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a> os       macOS Big Sur <span class="fl">10.16</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a> system   x86_64, darwin17<span class="fl">.0</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a> ui       X11</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a> <span class="fu">language</span> (EN)</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a> collate  en_US.UTF<span class="dv">-8</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a> ctype    en_US.UTF<span class="dv">-8</span></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a> tz       America<span class="sc">/</span>New_York</span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a> date     <span class="dv">2022-03-16</span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a> pandoc   <span class="dv">2</span>.<span class="dv">17</span>.<span class="fl">1.1</span> <span class="sc">@</span> <span class="er">/</span>Applications<span class="sc">/</span>RStudio.app<span class="sc">/</span>Contents<span class="sc">/</span>MacOS<span class="sc">/</span>quarto<span class="sc">/</span>bin<span class="sc">/</span> (via rmarkdown)</span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>─ Packages ───────────────────────────────────────────────────────────────────</span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a> package     <span class="sc">*</span> version    <span class="fu">date</span> (UTC) lib source</span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a> assertthat    <span class="dv">0</span>.<span class="fl">2.1</span>      <span class="dv">2019-03-21</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a> backports     <span class="dv">1</span>.<span class="fl">4.1</span>      <span class="dv">2021-12-13</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a> broom         <span class="dv">0</span>.<span class="fl">7.12</span>     <span class="dv">2022-01-28</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a> cellranger    <span class="dv">1</span>.<span class="fl">1.0</span>      <span class="dv">2016-07-27</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a> cli           <span class="dv">3</span>.<span class="fl">2.0</span>      <span class="dv">2022-02-14</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb26-22"><a href="#cb26-22" aria-hidden="true" tabindex="-1"></a> clipr         <span class="dv">0</span>.<span class="fl">8.0</span>      <span class="dv">2022-02-22</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb26-23"><a href="#cb26-23" aria-hidden="true" tabindex="-1"></a> codetools     <span class="fl">0.2</span><span class="dv">-18</span>     <span class="dv">2020-11-04</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb26-24"><a href="#cb26-24" aria-hidden="true" tabindex="-1"></a> colorspace    <span class="fl">2.0</span><span class="dv">-3</span>      <span class="dv">2022-02-21</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb26-25"><a href="#cb26-25" aria-hidden="true" tabindex="-1"></a> crayon        <span class="dv">1</span>.<span class="fl">5.0</span>      <span class="dv">2022-02-14</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb26-26"><a href="#cb26-26" aria-hidden="true" tabindex="-1"></a> DBI           <span class="dv">1</span>.<span class="fl">1.2</span>      <span class="dv">2021-12-20</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-27"><a href="#cb26-27" aria-hidden="true" tabindex="-1"></a> dbplyr        <span class="dv">2</span>.<span class="fl">1.1</span>      <span class="dv">2021-04-06</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-28"><a href="#cb26-28" aria-hidden="true" tabindex="-1"></a> desc          <span class="dv">1</span>.<span class="fl">4.0</span>      <span class="dv">2021-09-28</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-29"><a href="#cb26-29" aria-hidden="true" tabindex="-1"></a> details     <span class="sc">*</span> <span class="dv">0</span>.<span class="fl">2.1</span>      <span class="dv">2020-01-12</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-30"><a href="#cb26-30" aria-hidden="true" tabindex="-1"></a> digest        <span class="dv">0</span>.<span class="fl">6.29</span>     <span class="dv">2021-12-01</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-31"><a href="#cb26-31" aria-hidden="true" tabindex="-1"></a> dplyr       <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">0.8</span>      <span class="dv">2022-02-08</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb26-32"><a href="#cb26-32" aria-hidden="true" tabindex="-1"></a> ellipsis      <span class="dv">0</span>.<span class="fl">3.2</span>      <span class="dv">2021-04-29</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-33"><a href="#cb26-33" aria-hidden="true" tabindex="-1"></a> evaluate      <span class="fl">0.15</span>       <span class="dv">2022-02-18</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb26-34"><a href="#cb26-34" aria-hidden="true" tabindex="-1"></a> fansi         <span class="dv">1</span>.<span class="fl">0.2</span>      <span class="dv">2022-01-14</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb26-35"><a href="#cb26-35" aria-hidden="true" tabindex="-1"></a> fastmap       <span class="dv">1</span>.<span class="fl">1.0</span>      <span class="dv">2021-01-25</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-36"><a href="#cb26-36" aria-hidden="true" tabindex="-1"></a> forcats     <span class="sc">*</span> <span class="dv">0</span>.<span class="fl">5.1</span>      <span class="dv">2021-01-27</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-37"><a href="#cb26-37" aria-hidden="true" tabindex="-1"></a> formatR       <span class="fl">1.11</span>       <span class="dv">2021-06-01</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-38"><a href="#cb26-38" aria-hidden="true" tabindex="-1"></a> fs            <span class="dv">1</span>.<span class="fl">5.2</span>      <span class="dv">2021-12-08</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-39"><a href="#cb26-39" aria-hidden="true" tabindex="-1"></a> generics      <span class="dv">0</span>.<span class="fl">1.2</span>      <span class="dv">2022-01-31</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb26-40"><a href="#cb26-40" aria-hidden="true" tabindex="-1"></a> ggplot2     <span class="sc">*</span> <span class="dv">3</span>.<span class="fl">3.5</span>      <span class="dv">2021-06-25</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-41"><a href="#cb26-41" aria-hidden="true" tabindex="-1"></a> glue          <span class="dv">1</span>.<span class="fl">6.2</span>      <span class="dv">2022-02-24</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb26-42"><a href="#cb26-42" aria-hidden="true" tabindex="-1"></a> gt          <span class="sc">*</span> <span class="dv">0</span>.<span class="fl">4.0</span>      <span class="dv">2022-02-15</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb26-43"><a href="#cb26-43" aria-hidden="true" tabindex="-1"></a> gtable        <span class="dv">0</span>.<span class="fl">3.0</span>      <span class="dv">2019-03-25</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-44"><a href="#cb26-44" aria-hidden="true" tabindex="-1"></a> haven       <span class="sc">*</span> <span class="dv">2</span>.<span class="fl">4.3</span>      <span class="dv">2021-08-04</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-45"><a href="#cb26-45" aria-hidden="true" tabindex="-1"></a> hms           <span class="dv">1</span>.<span class="fl">1.1</span>      <span class="dv">2021-09-26</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-46"><a href="#cb26-46" aria-hidden="true" tabindex="-1"></a> htmltools   <span class="sc">*</span> <span class="dv">0</span>.<span class="fl">5.2</span>      <span class="dv">2021-08-25</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-47"><a href="#cb26-47" aria-hidden="true" tabindex="-1"></a> htmlwidgets   <span class="dv">1</span>.<span class="fl">5.4</span>      <span class="dv">2021-09-08</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-48"><a href="#cb26-48" aria-hidden="true" tabindex="-1"></a> httr          <span class="dv">1</span>.<span class="fl">4.2</span>      <span class="dv">2020-07-20</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-49"><a href="#cb26-49" aria-hidden="true" tabindex="-1"></a> igraph      <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">2.11</span>     <span class="dv">2022-01-04</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb26-50"><a href="#cb26-50" aria-hidden="true" tabindex="-1"></a> jsonlite      <span class="dv">1</span>.<span class="fl">8.0</span>      <span class="dv">2022-02-22</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb26-51"><a href="#cb26-51" aria-hidden="true" tabindex="-1"></a> kableExtra  <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">3.4</span>      <span class="dv">2021-02-20</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-52"><a href="#cb26-52" aria-hidden="true" tabindex="-1"></a> knitr       <span class="sc">*</span> <span class="fl">1.37</span>       <span class="dv">2021-12-16</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-53"><a href="#cb26-53" aria-hidden="true" tabindex="-1"></a> labelled    <span class="sc">*</span> <span class="dv">2</span>.<span class="fl">9.0</span>      <span class="dv">2021-10-29</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-54"><a href="#cb26-54" aria-hidden="true" tabindex="-1"></a> lifecycle     <span class="dv">1</span>.<span class="fl">0.1</span>      <span class="dv">2021-09-24</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-55"><a href="#cb26-55" aria-hidden="true" tabindex="-1"></a> lubridate   <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">8.0</span>      <span class="dv">2021-10-07</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-56"><a href="#cb26-56" aria-hidden="true" tabindex="-1"></a> magrittr      <span class="dv">2</span>.<span class="fl">0.2</span>      <span class="dv">2022-01-26</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb26-57"><a href="#cb26-57" aria-hidden="true" tabindex="-1"></a> modelr        <span class="dv">0</span>.<span class="fl">1.8</span>      <span class="dv">2020-05-19</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-58"><a href="#cb26-58" aria-hidden="true" tabindex="-1"></a> munsell       <span class="dv">0</span>.<span class="fl">5.0</span>      <span class="dv">2018-06-12</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-59"><a href="#cb26-59" aria-hidden="true" tabindex="-1"></a> pillar        <span class="dv">1</span>.<span class="fl">7.0</span>      <span class="dv">2022-02-01</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb26-60"><a href="#cb26-60" aria-hidden="true" tabindex="-1"></a> pkgconfig     <span class="dv">2</span>.<span class="fl">0.3</span>      <span class="dv">2019-09-22</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-61"><a href="#cb26-61" aria-hidden="true" tabindex="-1"></a> png           <span class="fl">0.1</span><span class="dv">-7</span>      <span class="dv">2013-12-03</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-62"><a href="#cb26-62" aria-hidden="true" tabindex="-1"></a> purrr       <span class="sc">*</span> <span class="dv">0</span>.<span class="fl">3.4</span>      <span class="dv">2020-04-17</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-63"><a href="#cb26-63" aria-hidden="true" tabindex="-1"></a> R6            <span class="dv">2</span>.<span class="fl">5.1</span>      <span class="dv">2021-08-19</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-64"><a href="#cb26-64" aria-hidden="true" tabindex="-1"></a> Rcpp          <span class="dv">1</span>.<span class="fl">0.8</span>      <span class="dv">2022-01-13</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb26-65"><a href="#cb26-65" aria-hidden="true" tabindex="-1"></a> readr       <span class="sc">*</span> <span class="dv">2</span>.<span class="fl">1.2</span>      <span class="dv">2022-01-30</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb26-66"><a href="#cb26-66" aria-hidden="true" tabindex="-1"></a> readxl      <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">3.1</span>      <span class="dv">2019-03-13</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-67"><a href="#cb26-67" aria-hidden="true" tabindex="-1"></a> reprex        <span class="dv">2</span>.<span class="fl">0.1</span>      <span class="dv">2021-08-05</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-68"><a href="#cb26-68" aria-hidden="true" tabindex="-1"></a> rlang         <span class="dv">1</span>.<span class="fl">0.1</span>      <span class="dv">2022-02-03</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb26-69"><a href="#cb26-69" aria-hidden="true" tabindex="-1"></a> rmarkdown     <span class="fl">2.11</span>       <span class="dv">2021-09-14</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-70"><a href="#cb26-70" aria-hidden="true" tabindex="-1"></a> rprojroot     <span class="dv">2</span>.<span class="fl">0.2</span>      <span class="dv">2020-11-15</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-71"><a href="#cb26-71" aria-hidden="true" tabindex="-1"></a> rstudioapi    <span class="fl">0.13</span>       <span class="dv">2020-11-12</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-72"><a href="#cb26-72" aria-hidden="true" tabindex="-1"></a> rvest         <span class="dv">1</span>.<span class="fl">0.2</span>      <span class="dv">2021-10-16</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-73"><a href="#cb26-73" aria-hidden="true" tabindex="-1"></a> scales        <span class="dv">1</span>.<span class="fl">1.1</span>      <span class="dv">2020-05-11</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-74"><a href="#cb26-74" aria-hidden="true" tabindex="-1"></a> sessioninfo   <span class="dv">1</span>.<span class="fl">2.2</span>      <span class="dv">2021-12-06</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-75"><a href="#cb26-75" aria-hidden="true" tabindex="-1"></a> stringi       <span class="dv">1</span>.<span class="fl">7.6</span>      <span class="dv">2021-11-29</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-76"><a href="#cb26-76" aria-hidden="true" tabindex="-1"></a> stringr     <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">4.0</span>      <span class="dv">2019-02-10</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-77"><a href="#cb26-77" aria-hidden="true" tabindex="-1"></a> svglite       <span class="dv">2</span>.<span class="fl">1.0</span>      <span class="dv">2022-02-03</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb26-78"><a href="#cb26-78" aria-hidden="true" tabindex="-1"></a> systemfonts   <span class="dv">1</span>.<span class="fl">0.4</span>      <span class="dv">2022-02-11</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb26-79"><a href="#cb26-79" aria-hidden="true" tabindex="-1"></a> tibble      <span class="sc">*</span> <span class="dv">3</span>.<span class="fl">1.6</span>      <span class="dv">2021-11-07</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-80"><a href="#cb26-80" aria-hidden="true" tabindex="-1"></a> tidyr       <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">2.0</span>      <span class="dv">2022-02-01</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb26-81"><a href="#cb26-81" aria-hidden="true" tabindex="-1"></a> tidyselect    <span class="dv">1</span>.<span class="dv">1</span>.<span class="fl">1.9000</span> <span class="dv">2022-03-02</span> [<span class="dv">1</span>] <span class="fu">Github</span> (r<span class="sc">-</span>lib<span class="sc">/</span>tidyselect<span class="sc">@</span><span class="fl">00e8</span>f39)</span>
<span id="cb26-82"><a href="#cb26-82" aria-hidden="true" tabindex="-1"></a> tidyverse   <span class="sc">*</span> <span class="dv">1</span>.<span class="fl">3.1</span>      <span class="dv">2021-04-15</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-83"><a href="#cb26-83" aria-hidden="true" tabindex="-1"></a> tzdb          <span class="dv">0</span>.<span class="fl">2.0</span>      <span class="dv">2021-10-27</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-84"><a href="#cb26-84" aria-hidden="true" tabindex="-1"></a> utf8          <span class="dv">1</span>.<span class="fl">2.2</span>      <span class="dv">2021-07-24</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-85"><a href="#cb26-85" aria-hidden="true" tabindex="-1"></a> vctrs         <span class="dv">0</span>.<span class="dv">3</span>.<span class="fl">8.9001</span> <span class="dv">2022-03-02</span> [<span class="dv">1</span>] <span class="fu">Github</span> (r<span class="sc">-</span>lib<span class="sc">/</span>vctrs<span class="sc">@</span>f0c4ead)</span>
<span id="cb26-86"><a href="#cb26-86" aria-hidden="true" tabindex="-1"></a> viridisLite   <span class="dv">0</span>.<span class="fl">4.0</span>      <span class="dv">2021-04-13</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-87"><a href="#cb26-87" aria-hidden="true" tabindex="-1"></a> webshot       <span class="dv">0</span>.<span class="fl">5.2</span>      <span class="dv">2019-11-22</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-88"><a href="#cb26-88" aria-hidden="true" tabindex="-1"></a> withr         <span class="dv">2</span>.<span class="fl">4.3</span>      <span class="dv">2021-11-30</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-89"><a href="#cb26-89" aria-hidden="true" tabindex="-1"></a> xfun          <span class="fl">0.29</span>       <span class="dv">2021-12-14</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-90"><a href="#cb26-90" aria-hidden="true" tabindex="-1"></a> xml2          <span class="dv">1</span>.<span class="fl">3.3</span>      <span class="dv">2021-11-30</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.0</span>)</span>
<span id="cb26-91"><a href="#cb26-91" aria-hidden="true" tabindex="-1"></a> yaml          <span class="dv">2</span>.<span class="fl">3.5</span>      <span class="dv">2022-02-21</span> [<span class="dv">1</span>] <span class="fu">CRAN</span> (R <span class="dv">4</span>.<span class="fl">1.2</span>)</span>
<span id="cb26-92"><a href="#cb26-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-93"><a href="#cb26-93" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="sc">/</span>Library<span class="sc">/</span>Frameworks<span class="sc">/</span>R.framework<span class="sc">/</span>Versions<span class="sc">/</span><span class="fl">4.1</span><span class="sc">/</span>Resources<span class="sc">/</span>library</span>
<span id="cb26-94"><a href="#cb26-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-95"><a href="#cb26-95" aria-hidden="true" tabindex="-1"></a>──────────────────────────────────────────────────────────────────────────────</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<p><br></p>
</div>
</div>
<!-- -->
<div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title anchored" id="quarto-embedded-source-code-modal-label" data-anchor-id="sessioninfo">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb27" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Data Log"</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Tommy Flynn"</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="an">data:</span><span class="co"> </span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span><span class="co"> </span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="co">    theme: solar</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a><span class="co">    toc-location: left</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: false</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a><span class="co">    code-summary: "Show source code"</span></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a><span class="co">    code-block-bg: true</span></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a><span class="co">    code-block-border-left: "#31BAE9"</span></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a><span class="co">    number-sections: true</span></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a><span class="co">    comments:</span></span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a><span class="co">      hypothesis: true</span></span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a><span class="an">editor:</span><span class="co"> visual</span></span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a><span class="fu"># Setup Document and Data Directories  </span></span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a><span class="fu">## Set chunk options    </span></span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a><span class="in">```{r Chunk options}</span></span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a><span class="co">#| error: true</span></span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: true</span></span>
<span id="cb27-28"><a href="#cb27-28" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: true</span></span>
<span id="cb27-29"><a href="#cb27-29" aria-hidden="true" tabindex="-1"></a><span class="co"># set options</span></span>
<span id="cb27-30"><a href="#cb27-30" aria-hidden="true" tabindex="-1"></a><span class="co"># This is an example setup chunk from the N741 project</span></span>
<span id="cb27-31"><a href="#cb27-31" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(knitr)</span>
<span id="cb27-32"><a href="#cb27-32" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">root.dir =</span> <span class="st">"~/Documents/1_Research/2_Data_Science/0_Projects/1_NACI/Data"</span>,</span>
<span id="cb27-33"><a href="#cb27-33" aria-hidden="true" tabindex="-1"></a>                      <span class="at">echo =</span> <span class="cn">TRUE</span>,</span>
<span id="cb27-34"><a href="#cb27-34" aria-hidden="true" tabindex="-1"></a>                      <span class="at">error =</span> <span class="cn">TRUE</span>,</span>
<span id="cb27-35"><a href="#cb27-35" aria-hidden="true" tabindex="-1"></a>                      <span class="at">tidy =</span> <span class="cn">TRUE</span>,</span>
<span id="cb27-36"><a href="#cb27-36" aria-hidden="true" tabindex="-1"></a>                      <span class="at">tidy.opts =</span> <span class="fu">list</span>(<span class="at">width.cutoff =</span> <span class="dv">60</span>),</span>
<span id="cb27-37"><a href="#cb27-37" aria-hidden="true" tabindex="-1"></a>                      <span class="at">message =</span> <span class="cn">FALSE</span>,</span>
<span id="cb27-38"><a href="#cb27-38" aria-hidden="true" tabindex="-1"></a>                      <span class="at">warning =</span> <span class="cn">FALSE</span>,</span>
<span id="cb27-39"><a href="#cb27-39" aria-hidden="true" tabindex="-1"></a>                      <span class="at">cache =</span> <span class="cn">TRUE</span>)</span>
<span id="cb27-40"><a href="#cb27-40" aria-hidden="true" tabindex="-1"></a><span class="co"># options(na.action = na.warn)??</span></span>
<span id="cb27-41"><a href="#cb27-41" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb27-42"><a href="#cb27-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-43"><a href="#cb27-43" aria-hidden="true" tabindex="-1"></a><span class="fu">## Load packages  </span></span>
<span id="cb27-44"><a href="#cb27-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-45"><a href="#cb27-45" aria-hidden="true" tabindex="-1"></a><span class="in">```{r Library}</span></span>
<span id="cb27-46"><a href="#cb27-46" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb27-47"><a href="#cb27-47" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb27-48"><a href="#cb27-48" aria-hidden="true" tabindex="-1"></a><span class="co"># Load packages</span></span>
<span id="cb27-49"><a href="#cb27-49" aria-hidden="true" tabindex="-1"></a><span class="co"># library(igraph) # package for working with and visualizing network analysis objectve</span></span>
<span id="cb27-50"><a href="#cb27-50" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(haven) <span class="co"># package for importing SAS data files (i.e., ".sas7bdat")</span></span>
<span id="cb27-51"><a href="#cb27-51" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co"># set of packages for data import, cleaning, transformation, and analysis from the "Tidyverse"  </span></span>
<span id="cb27-52"><a href="#cb27-52" aria-hidden="true" tabindex="-1"></a><span class="co"># library(gt) # package for creating and formatting latex tables</span></span>
<span id="cb27-53"><a href="#cb27-53" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate) <span class="co"># package for working with date data</span></span>
<span id="cb27-54"><a href="#cb27-54" aria-hidden="true" tabindex="-1"></a><span class="co"># library(pander) # ????</span></span>
<span id="cb27-55"><a href="#cb27-55" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(printr) <span class="co"># Print R objects in 'knitr' documents nicely see the [vignette](https://cran.r-project.org/web/packages/printr/vignettes/printr.html#vignettedataset-lists)  </span></span>
<span id="cb27-56"><a href="#cb27-56" aria-hidden="true" tabindex="-1"></a><span class="co"># library(forcats) # package for making and working with factors</span></span>
<span id="cb27-57"><a href="#cb27-57" aria-hidden="true" tabindex="-1"></a><span class="co"># library(modelr) # package for statistical modeling in r</span></span>
<span id="cb27-58"><a href="#cb27-58" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb27-59"><a href="#cb27-59" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb27-60"><a href="#cb27-60" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb27-61"><a href="#cb27-61" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(labelled)</span>
<span id="cb27-62"><a href="#cb27-62" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(details)</span>
<span id="cb27-63"><a href="#cb27-63" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb27-64"><a href="#cb27-64" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(htmltools)</span>
<span id="cb27-65"><a href="#cb27-65" aria-hidden="true" tabindex="-1"></a><span class="in">```</span>  </span>
<span id="cb27-66"><a href="#cb27-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-67"><a href="#cb27-67" aria-hidden="true" tabindex="-1"></a><span class="fu">## Data Directory &amp; List of Files</span></span>
<span id="cb27-68"><a href="#cb27-68" aria-hidden="true" tabindex="-1"></a>Make a path object for the data directory and print a list of all data files</span>
<span id="cb27-69"><a href="#cb27-69" aria-hidden="true" tabindex="-1"></a><span class="in">```{r Data Directory}</span></span>
<span id="cb27-70"><a href="#cb27-70" aria-hidden="true" tabindex="-1"></a>data_path <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="fu">getwd</span>(), <span class="st">"Data"</span>, <span class="at">sep =</span> <span class="st">"/"</span>)</span>
<span id="cb27-71"><a href="#cb27-71" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb27-72"><a href="#cb27-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-73"><a href="#cb27-73" aria-hidden="true" tabindex="-1"></a>Data files are stored in <span class="in">`r data_path`</span>.   </span>
<span id="cb27-74"><a href="#cb27-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-75"><a href="#cb27-75" aria-hidden="true" tabindex="-1"></a><span class="in">```{r Data Files}</span></span>
<span id="cb27-76"><a href="#cb27-76" aria-hidden="true" tabindex="-1"></a><span class="co"># kable(tibble(list.files(data_path)), caption = "List of Datasets (filenames)")</span></span>
<span id="cb27-77"><a href="#cb27-77" aria-hidden="true" tabindex="-1"></a>data_files <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> data_path, <span class="at">pattern =</span> <span class="st">"*.sas7bdat"</span>, <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb27-78"><a href="#cb27-78" aria-hidden="true" tabindex="-1"></a>data_filenames <span class="ot">&lt;-</span> <span class="fu">as.list</span>(<span class="fu">list.files</span>(<span class="at">path =</span> data_path, <span class="at">pattern =</span> <span class="st">"*.sas7bdat"</span>, <span class="at">full.names =</span> <span class="cn">FALSE</span>))</span>
<span id="cb27-79"><a href="#cb27-79" aria-hidden="true" tabindex="-1"></a><span class="fu">map</span>(data_filenames, print)</span>
<span id="cb27-80"><a href="#cb27-80" aria-hidden="true" tabindex="-1"></a><span class="co"># Iterate over SAS data files in `data_files` and read all data into a new list of dfs, `data_list`</span></span>
<span id="cb27-81"><a href="#cb27-81" aria-hidden="true" tabindex="-1"></a><span class="co"># data_list &lt;- map(data_files, read_sas)</span></span>
<span id="cb27-82"><a href="#cb27-82" aria-hidden="true" tabindex="-1"></a><span class="co"># Iterate over all dfs in data_list, print a glimpse of each</span></span>
<span id="cb27-83"><a href="#cb27-83" aria-hidden="true" tabindex="-1"></a><span class="co"># map(data_list, glimpse)</span></span>
<span id="cb27-84"><a href="#cb27-84" aria-hidden="true" tabindex="-1"></a><span class="in">```</span>  </span>
<span id="cb27-85"><a href="#cb27-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-86"><a href="#cb27-86" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb27-87"><a href="#cb27-87" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb27-88"><a href="#cb27-88" aria-hidden="true" tabindex="-1"></a><span class="fu"># Data Import &amp; Cleaning  </span></span>
<span id="cb27-89"><a href="#cb27-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-90"><a href="#cb27-90" aria-hidden="true" tabindex="-1"></a><span class="fu">## Patients  </span></span>
<span id="cb27-91"><a href="#cb27-91" aria-hidden="true" tabindex="-1"></a><span class="fu">### Patient ID to RFID badge SID key: `id_sid`</span></span>
<span id="cb27-92"><a href="#cb27-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-93"><a href="#cb27-93" aria-hidden="true" tabindex="-1"></a>Read &amp; print data from "id_sid_matchup.sas7bdat" &amp; "id_sid_matchup.sas7bdat."</span>
<span id="cb27-94"><a href="#cb27-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-95"><a href="#cb27-95" aria-hidden="true" tabindex="-1"></a><span class="in">```{r ReadData id_sid}</span></span>
<span id="cb27-96"><a href="#cb27-96" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false  </span></span>
<span id="cb27-97"><a href="#cb27-97" aria-hidden="true" tabindex="-1"></a><span class="co"># 1d. read "id_sid_matchup.sas7bdat" into id_sid and "id_sid_matchup2.sas7bdat" into id_sid2</span></span>
<span id="cb27-98"><a href="#cb27-98" aria-hidden="true" tabindex="-1"></a>id_sid <span class="ot">&lt;-</span> <span class="fu">read_sas</span>(<span class="fu">paste</span>(data_path, <span class="st">"id_sid_matchup.sas7bdat"</span>, <span class="at">sep =</span> <span class="st">"/"</span>))</span>
<span id="cb27-99"><a href="#cb27-99" aria-hidden="true" tabindex="-1"></a>id_sid2 <span class="ot">&lt;-</span> <span class="fu">read_sas</span>(<span class="fu">paste</span>(data_path, <span class="st">"id_sid_matchup2.sas7bdat"</span>, <span class="at">sep =</span> <span class="st">"/"</span>))</span>
<span id="cb27-100"><a href="#cb27-100" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb27-101"><a href="#cb27-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-102"><a href="#cb27-102" aria-hidden="true" tabindex="-1"></a><span class="in">```{r PrintData id_sid}</span></span>
<span id="cb27-103"><a href="#cb27-103" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false   </span></span>
<span id="cb27-104"><a href="#cb27-104" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the first 6 rows of id_sid</span></span>
<span id="cb27-105"><a href="#cb27-105" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(id_sid))</span>
<span id="cb27-106"><a href="#cb27-106" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the first 6 rows of id_sid2</span></span>
<span id="cb27-107"><a href="#cb27-107" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(id_sid2))</span>
<span id="cb27-108"><a href="#cb27-108" aria-hidden="true" tabindex="-1"></a><span class="co"># Print variable labels</span></span>
<span id="cb27-109"><a href="#cb27-109" aria-hidden="true" tabindex="-1"></a>idsid_varbles <span class="ot">&lt;-</span> <span class="fu">var_label</span>(id_sid)</span>
<span id="cb27-110"><a href="#cb27-110" aria-hidden="true" tabindex="-1"></a>idsid2_varbles <span class="ot">&lt;-</span> <span class="fu">var_label</span>(id_sid2)</span>
<span id="cb27-111"><a href="#cb27-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-112"><a href="#cb27-112" aria-hidden="true" tabindex="-1"></a>idsid_labeltable <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="fu">names</span>(idsid_varbles), idsid_varbles, <span class="at">sep =</span> <span class="st">": "</span>)</span>
<span id="cb27-113"><a href="#cb27-113" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">tibble</span>(idsid_labeltable))</span>
<span id="cb27-114"><a href="#cb27-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-115"><a href="#cb27-115" aria-hidden="true" tabindex="-1"></a>idsid2_labeltable <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="fu">names</span>(idsid2_varbles), idsid2_varbles, <span class="at">sep =</span> <span class="st">": "</span>)</span>
<span id="cb27-116"><a href="#cb27-116" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">tibble</span>(idsid2_labeltable))</span>
<span id="cb27-117"><a href="#cb27-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-118"><a href="#cb27-118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-119"><a href="#cb27-119" aria-hidden="true" tabindex="-1"></a><span class="in">```</span>  </span>
<span id="cb27-120"><a href="#cb27-120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-121"><a href="#cb27-121" aria-hidden="true" tabindex="-1"></a><span class="fu">### Patient attributes  </span></span>
<span id="cb27-122"><a href="#cb27-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-123"><a href="#cb27-123" aria-hidden="true" tabindex="-1"></a>Read all SAS data files and print a glimpse of each.</span>
<span id="cb27-124"><a href="#cb27-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-125"><a href="#cb27-125" aria-hidden="true" tabindex="-1"></a><span class="in">```{r Patient info}</span></span>
<span id="cb27-126"><a href="#cb27-126" aria-hidden="true" tabindex="-1"></a>patient_files <span class="ot">&lt;-</span> <span class="fu">as.list</span>(data_files[(<span class="fu">str_detect</span>(data_files, <span class="st">"patient|person"</span>))])</span>
<span id="cb27-127"><a href="#cb27-127" aria-hidden="true" tabindex="-1"></a><span class="fu">map</span>(patient_files, <span class="fu">c</span>(read_sas, head, glimpse))</span>
<span id="cb27-128"><a href="#cb27-128" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb27-129"><a href="#cb27-129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-130"><a href="#cb27-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-131"><a href="#cb27-131" aria-hidden="true" tabindex="-1"></a><span class="fu">### Patient Acuity: `pt_acuity`  </span></span>
<span id="cb27-132"><a href="#cb27-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-133"><a href="#cb27-133" aria-hidden="true" tabindex="-1"></a>Read &amp; print patient acuity data in "ACUITY-patients.xlsx," which is an Excel workbook with 3 sheets.  </span>
<span id="cb27-134"><a href="#cb27-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-135"><a href="#cb27-135" aria-hidden="true" tabindex="-1"></a><span class="in">```{r ReadData pt_acuity}</span></span>
<span id="cb27-136"><a href="#cb27-136" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false   </span></span>
<span id="cb27-137"><a href="#cb27-137" aria-hidden="true" tabindex="-1"></a><span class="co"># 1e. read "ACUITY-patients.xlsx</span></span>
<span id="cb27-138"><a href="#cb27-138" aria-hidden="true" tabindex="-1"></a>pt_acuity <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="fu">paste</span>(data_path, <span class="st">"ACUITY-patients.xlsx"</span>, <span class="at">sep =</span> <span class="st">"/"</span>))</span>
<span id="cb27-139"><a href="#cb27-139" aria-hidden="true" tabindex="-1"></a><span class="co"># str(pt_acuity)</span></span>
<span id="cb27-140"><a href="#cb27-140" aria-hidden="true" tabindex="-1"></a>pt_acuity_s2 <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="fu">paste</span>(data_path, <span class="st">"ACUITY-patients.xlsx"</span>, <span class="at">sep =</span> <span class="st">"/"</span>), </span>
<span id="cb27-141"><a href="#cb27-141" aria-hidden="true" tabindex="-1"></a>                          <span class="at">sheet =</span> <span class="dv">2</span>, </span>
<span id="cb27-142"><a href="#cb27-142" aria-hidden="true" tabindex="-1"></a>                          <span class="at">range =</span> <span class="st">"A2:H83"</span>)</span>
<span id="cb27-143"><a href="#cb27-143" aria-hidden="true" tabindex="-1"></a><span class="co"># str(pt_acuity_s2)</span></span>
<span id="cb27-144"><a href="#cb27-144" aria-hidden="true" tabindex="-1"></a>pt_acuity_s3 <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="fu">paste</span>(data_path, <span class="st">"ACUITY-patients.xlsx"</span>, <span class="at">sep =</span> <span class="st">"/"</span>), </span>
<span id="cb27-145"><a href="#cb27-145" aria-hidden="true" tabindex="-1"></a>                          <span class="at">sheet =</span> <span class="dv">3</span>, </span>
<span id="cb27-146"><a href="#cb27-146" aria-hidden="true" tabindex="-1"></a>                          <span class="at">range =</span> <span class="st">"A2:G83"</span>)</span>
<span id="cb27-147"><a href="#cb27-147" aria-hidden="true" tabindex="-1"></a><span class="co"># str(pt_acuity_s3)  </span></span>
<span id="cb27-148"><a href="#cb27-148" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb27-149"><a href="#cb27-149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-150"><a href="#cb27-150" aria-hidden="true" tabindex="-1"></a>The first sheet lists the number of patients in each ESI acuity level (columns) by shift (rows). The other two sheets appear to be variations of the first.</span>
<span id="cb27-151"><a href="#cb27-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-152"><a href="#cb27-152" aria-hidden="true" tabindex="-1"></a><span class="in">```{r PrintData pt_acuity}</span></span>
<span id="cb27-153"><a href="#cb27-153" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false  </span></span>
<span id="cb27-154"><a href="#cb27-154" aria-hidden="true" tabindex="-1"></a><span class="co"># Patient acuity (Emergency Severity Index; ESI) counts by shift</span></span>
<span id="cb27-155"><a href="#cb27-155" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(pt_acuity))</span>
<span id="cb27-156"><a href="#cb27-156" aria-hidden="true" tabindex="-1"></a><span class="co"># Pivot_wider to view number of patients in each ESI category by shift</span></span>
<span id="cb27-157"><a href="#cb27-157" aria-hidden="true" tabindex="-1"></a>pt_acuity <span class="sc">%&gt;%</span> </span>
<span id="cb27-158"><a href="#cb27-158" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Acuity) <span class="sc">%&gt;%</span> </span>
<span id="cb27-159"><a href="#cb27-159" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(Shift) <span class="sc">%&gt;%</span> </span>
<span id="cb27-160"><a href="#cb27-160" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Acuity, <span class="at">values_from =</span> n) <span class="sc">%&gt;%</span> </span>
<span id="cb27-161"><a href="#cb27-161" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>() <span class="sc">%&gt;%</span> <span class="fu">kable</span>()</span>
<span id="cb27-162"><a href="#cb27-162" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the first 6 rows of the other two sheets in the xlsx file</span></span>
<span id="cb27-163"><a href="#cb27-163" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(pt_acuity_s2))</span>
<span id="cb27-164"><a href="#cb27-164" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(pt_acuity_s3))</span>
<span id="cb27-165"><a href="#cb27-165" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb27-166"><a href="#cb27-166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-167"><a href="#cb27-167" aria-hidden="true" tabindex="-1"></a><span class="fu">### Patient Location Dataset: `pt_complete`  </span></span>
<span id="cb27-168"><a href="#cb27-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-169"><a href="#cb27-169" aria-hidden="true" tabindex="-1"></a>The SAS data file, "completepat.sas7bdat," contains RFID badge location (by *room number*) for all patients each second of every shift.  </span>
<span id="cb27-170"><a href="#cb27-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-171"><a href="#cb27-171" aria-hidden="true" tabindex="-1"></a><span class="in">```{r ReadData pt_complete}</span></span>
<span id="cb27-172"><a href="#cb27-172" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false  </span></span>
<span id="cb27-173"><a href="#cb27-173" aria-hidden="true" tabindex="-1"></a><span class="co"># 1a. read "completepat.sas7bdat",  </span></span>
<span id="cb27-174"><a href="#cb27-174" aria-hidden="true" tabindex="-1"></a>pt_complete <span class="ot">&lt;-</span> </span>
<span id="cb27-175"><a href="#cb27-175" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read_sas</span>(<span class="fu">paste</span>(data_path, <span class="st">"completepat.sas7bdat"</span>, <span class="at">sep =</span> <span class="st">"/"</span>))</span>
<span id="cb27-176"><a href="#cb27-176" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb27-177"><a href="#cb27-177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-178"><a href="#cb27-178" aria-hidden="true" tabindex="-1"></a>Large data.frame, using the first six observations to code for data cleaning. The table is extremely wide (<span class="sc">\&gt;</span>4300 columns), I used <span class="in">`pivot_longer()`</span> to reshape it by collapsing all location-by-second columns into two columns, names to <span class="in">`seconds`</span> and values to <span class="in">`location`</span>. This process causes there to be **many repeated SIDs**.</span>
<span id="cb27-179"><a href="#cb27-179" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-180"><a href="#cb27-180" aria-hidden="true" tabindex="-1"></a><span class="in">```{r PrintData pt_complete}</span></span>
<span id="cb27-181"><a href="#cb27-181" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false  </span></span>
<span id="cb27-182"><a href="#cb27-182" aria-hidden="true" tabindex="-1"></a><span class="co"># 2a. subset first 10 observations for data transformation code preparation</span></span>
<span id="cb27-183"><a href="#cb27-183" aria-hidden="true" tabindex="-1"></a>pt_head <span class="ot">&lt;-</span> <span class="fu">head</span>(pt_complete) <span class="sc">%&gt;%</span> </span>
<span id="cb27-184"><a href="#cb27-184" aria-hidden="true" tabindex="-1"></a><span class="co"># 3a. Pivot the data.frame from wide to long by placing all column names that start with "floc" into a new column, "seconds," and placing respective observations for each "floc" variable into a "location_num" column</span></span>
<span id="cb27-185"><a href="#cb27-185" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">starts_with</span>(<span class="st">"floc"</span>), <span class="at">names_to =</span> <span class="st">"seconds"</span>, <span class="at">values_to =</span> <span class="st">"location_num"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb27-186"><a href="#cb27-186" aria-hidden="true" tabindex="-1"></a><span class="co"># 4a. Remove the prefix "floc" from `time_seconds` and keep the digits as `seconds`</span></span>
<span id="cb27-187"><a href="#cb27-187" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">seconds =</span> <span class="fu">as.integer</span>(<span class="fu">str_replace</span>(seconds, <span class="st">"floc"</span>, <span class="st">""</span>)), </span>
<span id="cb27-188"><a href="#cb27-188" aria-hidden="true" tabindex="-1"></a>         <span class="at">shift_num_ampm =</span> <span class="fu">str_trim</span>(shift_num_ampm),</span>
<span id="cb27-189"><a href="#cb27-189" aria-hidden="true" tabindex="-1"></a>         <span class="at">shift_num =</span> <span class="fu">as.integer</span>(<span class="fu">str_extract</span>(shift_num_ampm, <span class="st">"[:digit:]+"</span>)),</span>
<span id="cb27-190"><a href="#cb27-190" aria-hidden="true" tabindex="-1"></a>         <span class="at">am_pm =</span> <span class="fu">str_extract</span>(shift_num_ampm, <span class="st">"am|pm"</span>),</span>
<span id="cb27-191"><a href="#cb27-191" aria-hidden="true" tabindex="-1"></a>         <span class="at">date =</span> <span class="fu">make_date</span>(<span class="at">year =</span> year, <span class="at">month =</span> mon, <span class="at">day =</span> day)) <span class="co"># %&gt;% </span></span>
<span id="cb27-192"><a href="#cb27-192" aria-hidden="true" tabindex="-1"></a><span class="co"># 5. Filter out all rows for which no location was recorded</span></span>
<span id="cb27-193"><a href="#cb27-193" aria-hidden="true" tabindex="-1"></a><span class="co"># filter(!is.na(location)) %&gt;% </span></span>
<span id="cb27-194"><a href="#cb27-194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-195"><a href="#cb27-195" aria-hidden="true" tabindex="-1"></a><span class="co"># View data frame structure</span></span>
<span id="cb27-196"><a href="#cb27-196" aria-hidden="true" tabindex="-1"></a><span class="co"># glimpse(pt_head)</span></span>
<span id="cb27-197"><a href="#cb27-197" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(pt_head)) </span>
<span id="cb27-198"><a href="#cb27-198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-199"><a href="#cb27-199" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb27-200"><a href="#cb27-200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-201"><a href="#cb27-201" aria-hidden="true" tabindex="-1"></a><span class="fu">## Staff Data  </span></span>
<span id="cb27-202"><a href="#cb27-202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-203"><a href="#cb27-203" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-204"><a href="#cb27-204" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-205"><a href="#cb27-205" aria-hidden="true" tabindex="-1"></a><span class="fu">### Staff location: `staff_complete`  </span></span>
<span id="cb27-206"><a href="#cb27-206" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-207"><a href="#cb27-207" aria-hidden="true" tabindex="-1"></a>The SAS data file, "completestaff.sas7bdat," contains RFID badge location (by *room number*) for all staff each second of every shift.</span>
<span id="cb27-208"><a href="#cb27-208" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-209"><a href="#cb27-209" aria-hidden="true" tabindex="-1"></a><span class="in">```{r ReadData staff_complete}</span></span>
<span id="cb27-210"><a href="#cb27-210" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false  </span></span>
<span id="cb27-211"><a href="#cb27-211" aria-hidden="true" tabindex="-1"></a><span class="co"># ---- `staff_complete</span></span>
<span id="cb27-212"><a href="#cb27-212" aria-hidden="true" tabindex="-1"></a><span class="co"># 1b. read "completestaff.sas7bdat"</span></span>
<span id="cb27-213"><a href="#cb27-213" aria-hidden="true" tabindex="-1"></a>staff_complete <span class="ot">&lt;-</span> </span>
<span id="cb27-214"><a href="#cb27-214" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read_sas</span>(<span class="fu">paste</span>(data_path, <span class="st">"completestaff.sas7bdat"</span>, <span class="at">sep =</span> <span class="st">"/"</span>))</span>
<span id="cb27-215"><a href="#cb27-215" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb27-216"><a href="#cb27-216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-217"><a href="#cb27-217" aria-hidden="true" tabindex="-1"></a><span class="in">```{r PrintData staff_complete}</span></span>
<span id="cb27-218"><a href="#cb27-218" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false  </span></span>
<span id="cb27-219"><a href="#cb27-219" aria-hidden="true" tabindex="-1"></a><span class="co"># 2a. subset first 10 observations for data transformation code preparation</span></span>
<span id="cb27-220"><a href="#cb27-220" aria-hidden="true" tabindex="-1"></a>staff_head <span class="ot">&lt;-</span> <span class="fu">head</span>(staff_complete) <span class="sc">%&gt;%</span> </span>
<span id="cb27-221"><a href="#cb27-221" aria-hidden="true" tabindex="-1"></a>  <span class="co"># 3a. Pivot the data.frame from wide to long by placing all column names that start with "floc" into a new column, "seconds," and placing respective observations for each "floc" variable into a "location_num" column</span></span>
<span id="cb27-222"><a href="#cb27-222" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">starts_with</span>(<span class="st">"floc"</span>), <span class="at">names_to =</span> <span class="st">"seconds"</span>, <span class="at">values_to =</span> <span class="st">"location_num"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb27-223"><a href="#cb27-223" aria-hidden="true" tabindex="-1"></a>  <span class="co"># 4a. Remove the prefix "floc" from `time_seconds` and keep the digits as `seconds`</span></span>
<span id="cb27-224"><a href="#cb27-224" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">seconds =</span> <span class="fu">as.integer</span>(<span class="fu">str_replace</span>(seconds, <span class="st">"floc"</span>, <span class="st">""</span>)), </span>
<span id="cb27-225"><a href="#cb27-225" aria-hidden="true" tabindex="-1"></a>         <span class="at">shift_num_ampm =</span> <span class="fu">str_trim</span>(shift_num_ampm),</span>
<span id="cb27-226"><a href="#cb27-226" aria-hidden="true" tabindex="-1"></a>         <span class="at">shift_num =</span> <span class="fu">as.integer</span>(<span class="fu">str_extract</span>(shift_num_ampm, <span class="st">"[:digit:]+"</span>)),</span>
<span id="cb27-227"><a href="#cb27-227" aria-hidden="true" tabindex="-1"></a>         <span class="at">am_pm =</span> <span class="fu">str_extract</span>(shift_num_ampm, <span class="st">"am|pm"</span>),</span>
<span id="cb27-228"><a href="#cb27-228" aria-hidden="true" tabindex="-1"></a>         <span class="at">date =</span> <span class="fu">make_date</span>(<span class="at">year =</span> year, <span class="at">month =</span> mon, <span class="at">day =</span> day)) <span class="co"># %&gt;% </span></span>
<span id="cb27-229"><a href="#cb27-229" aria-hidden="true" tabindex="-1"></a>  <span class="co"># 5. Filter out all rows for which no location was recorded</span></span>
<span id="cb27-230"><a href="#cb27-230" aria-hidden="true" tabindex="-1"></a>  <span class="co"># filter(!is.na(location)) %&gt;% </span></span>
<span id="cb27-231"><a href="#cb27-231" aria-hidden="true" tabindex="-1"></a><span class="co"># View data frame structure</span></span>
<span id="cb27-232"><a href="#cb27-232" aria-hidden="true" tabindex="-1"></a><span class="co"># str(staff_head)</span></span>
<span id="cb27-233"><a href="#cb27-233" aria-hidden="true" tabindex="-1"></a><span class="co"># glimpse(staff_head)</span></span>
<span id="cb27-234"><a href="#cb27-234" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(staff_head))</span>
<span id="cb27-235"><a href="#cb27-235" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb27-236"><a href="#cb27-236" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-237"><a href="#cb27-237" aria-hidden="true" tabindex="-1"></a><span class="fu">### List of RFID badge encounters (i.e., clinical interactions) as vertices: `edge_list`</span></span>
<span id="cb27-238"><a href="#cb27-238" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-239"><a href="#cb27-239" aria-hidden="true" tabindex="-1"></a>Read &amp; print data from "allshifts_edges.sas7bdat" and "edges2.sas7bdat."</span>
<span id="cb27-240"><a href="#cb27-240" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-241"><a href="#cb27-241" aria-hidden="true" tabindex="-1"></a><span class="in">```{r ReadData edge_list}</span></span>
<span id="cb27-242"><a href="#cb27-242" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false    </span></span>
<span id="cb27-243"><a href="#cb27-243" aria-hidden="true" tabindex="-1"></a><span class="co"># 1c. read "allshifts_edges.sas7bdat"</span></span>
<span id="cb27-244"><a href="#cb27-244" aria-hidden="true" tabindex="-1"></a>edge_list <span class="ot">&lt;-</span> <span class="fu">read_sas</span>(<span class="fu">paste</span>(data_path, <span class="st">"allshifts_edges.sas7bdat"</span>, <span class="at">sep =</span> <span class="st">"/"</span>))</span>
<span id="cb27-245"><a href="#cb27-245" aria-hidden="true" tabindex="-1"></a>edge_list2 <span class="ot">&lt;-</span> <span class="fu">read_sas</span>(<span class="fu">paste</span>(data_path, <span class="st">"edges2.sas7bdat"</span>, <span class="at">sep =</span> <span class="st">"/"</span>))</span>
<span id="cb27-246"><a href="#cb27-246" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb27-247"><a href="#cb27-247" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-248"><a href="#cb27-248" aria-hidden="true" tabindex="-1"></a><span class="in">```{r PrintData edge_list}</span></span>
<span id="cb27-249"><a href="#cb27-249" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false  </span></span>
<span id="cb27-250"><a href="#cb27-250" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the first 6 observations of edge_list</span></span>
<span id="cb27-251"><a href="#cb27-251" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(edge_list))</span>
<span id="cb27-252"><a href="#cb27-252" aria-hidden="true" tabindex="-1"></a><span class="co"># Print out the variable labels for all columns of edge_list (object varbles1)</span></span>
<span id="cb27-253"><a href="#cb27-253" aria-hidden="true" tabindex="-1"></a><span class="co"># varbles1 &lt;- var_label(edge_list)</span></span>
<span id="cb27-254"><a href="#cb27-254" aria-hidden="true" tabindex="-1"></a><span class="co"># paste(names(varbles1), varbles1, sep = ": ")</span></span>
<span id="cb27-255"><a href="#cb27-255" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the first 6 observations of edge_list2</span></span>
<span id="cb27-256"><a href="#cb27-256" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(edge_list2))</span>
<span id="cb27-257"><a href="#cb27-257" aria-hidden="true" tabindex="-1"></a><span class="co"># Print out the variable labels for all columns of edge_list2 (object varbles2)</span></span>
<span id="cb27-258"><a href="#cb27-258" aria-hidden="true" tabindex="-1"></a><span class="co"># varbles2 &lt;- var_label(edge_list2)</span></span>
<span id="cb27-259"><a href="#cb27-259" aria-hidden="true" tabindex="-1"></a><span class="co"># paste(names(varbles2), varbles2, sep = ": ")</span></span>
<span id="cb27-260"><a href="#cb27-260" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb27-261"><a href="#cb27-261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-262"><a href="#cb27-262" aria-hidden="true" tabindex="-1"></a><span class="fu">## ED Geography</span></span>
<span id="cb27-263"><a href="#cb27-263" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-264"><a href="#cb27-264" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Room categories/locations: `room_categories`</span></span>
<span id="cb27-265"><a href="#cb27-265" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-266"><a href="#cb27-266" aria-hidden="true" tabindex="-1"></a><span class="in">```{r ReadData room_categories, eval=FALSE}</span></span>
<span id="cb27-267"><a href="#cb27-267" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false  </span></span>
<span id="cb27-268"><a href="#cb27-268" aria-hidden="true" tabindex="-1"></a>room_categories <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="fu">paste</span>(data_path, <span class="st">"room_locations"</span>, <span class="st">"room categories.xlsx"</span>, <span class="at">sep =</span> <span class="st">"/"</span>))</span>
<span id="cb27-269"><a href="#cb27-269" aria-hidden="true" tabindex="-1"></a>room_categories2 <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="fu">paste</span>(data_path, <span class="st">"room_locations"</span>, <span class="st">"room categories2.xlsx"</span>, <span class="at">sep =</span> <span class="st">"/"</span>))</span>
<span id="cb27-270"><a href="#cb27-270" aria-hidden="true" tabindex="-1"></a>room_categories20131204 <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="fu">paste</span>(data_path, <span class="st">"room_locations"</span>, <span class="st">"room categories2 20131204.xlsx"</span>, <span class="at">sep =</span> <span class="st">"/"</span>))</span>
<span id="cb27-271"><a href="#cb27-271" aria-hidden="true" tabindex="-1"></a>room_categories20131204_area <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="fu">paste</span>(data_path, <span class="st">"room_locations"</span>, <span class="st">"room categories2 20131204 area.xlsx"</span>, <span class="at">sep =</span> <span class="st">"/"</span>))</span>
<span id="cb27-272"><a href="#cb27-272" aria-hidden="true" tabindex="-1"></a>room_location <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="fu">paste</span>(data_path, <span class="st">"Room Locations and Square Footage - with Correction.xlsx"</span>, <span class="at">sep =</span> <span class="st">"/"</span>))</span>
<span id="cb27-273"><a href="#cb27-273" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb27-274"><a href="#cb27-274" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-275"><a href="#cb27-275" aria-hidden="true" tabindex="-1"></a><span class="in">```{r PrintData room_categories, eval=FALSE}</span></span>
<span id="cb27-276"><a href="#cb27-276" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false  </span></span>
<span id="cb27-277"><a href="#cb27-277" aria-hidden="true" tabindex="-1"></a>geographic_lst <span class="ot">&lt;-</span> <span class="fu">list</span>(room_categories, room_categories2, room_categories20131204, room_categories20131204_area, room_location)</span>
<span id="cb27-278"><a href="#cb27-278" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the first 6 rows form each room category/location file iteratively with `purrr::map()`</span></span>
<span id="cb27-279"><a href="#cb27-279" aria-hidden="true" tabindex="-1"></a><span class="fu">map</span>(geographic_lst, <span class="fu">c</span>(head, kable))</span>
<span id="cb27-280"><a href="#cb27-280" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb27-281"><a href="#cb27-281" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-282"><a href="#cb27-282" aria-hidden="true" tabindex="-1"></a><span class="fu"># SessionInfo</span></span>
<span id="cb27-283"><a href="#cb27-283" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-284"><a href="#cb27-284" aria-hidden="true" tabindex="-1"></a><span class="in">```{r SessionInfo}</span></span>
<span id="cb27-285"><a href="#cb27-285" aria-hidden="true" tabindex="-1"></a>sessioninfo<span class="sc">::</span><span class="fu">session_info</span>()<span class="sc">%&gt;%</span></span>
<span id="cb27-286"><a href="#cb27-286" aria-hidden="true" tabindex="-1"></a>  details<span class="sc">::</span><span class="fu">details</span>(</span>
<span id="cb27-287"><a href="#cb27-287" aria-hidden="true" tabindex="-1"></a>    <span class="at">summary =</span> <span class="st">'Current session info'</span>,</span>
<span id="cb27-288"><a href="#cb27-288" aria-hidden="true" tabindex="-1"></a>    <span class="at">open    =</span> <span class="cn">FALSE</span></span>
<span id="cb27-289"><a href="#cb27-289" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb27-290"><a href="#cb27-290" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</section>
</main>
<!-- /main column -->
<script type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    setTimeout(function() {
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->


</body></html>